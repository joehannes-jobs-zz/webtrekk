!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=586)}([function(t,e,n){"use strict";var r=n(19),i=n(556),o=n(141),a=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=i.toSubscriber(t,e,n);if(r?r.call(o,this.source):o.add(this.source?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var i;i=n.subscribe(function(e){if(i)try{t(e)}catch(t){r(t),i.unsubscribe()}else t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[o.observable]=function(){return this},t.create=function(e){return new t(e)},t}();e.Observable=a},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(152),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){v&&p&&(v=!1,p.length?d=p.concat(d):m=-1,d.length&&s())}function s(){if(!v){var t=i(a);v=!0;for(var e=d.length;e;){for(p=d,d=[];++m<e;)p&&p[m].run();m=-1,e=d.length}p=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,f,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,d=[],v=!1,m=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(153),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t){return function(){var e=t.apply(this,arguments);return new i.default(function(t,n){function r(o,a){try{var s=e[o](a),u=s.value}catch(t){return void n(t)}if(!s.done)return i.default.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}return r("next")})}}},function(t,e,n){t.exports=n(485)},function(t,e,n){var r=n(105)("wks"),i=n(75),o=n(10).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(145),o=n(37),a=n(212),s=n(142),u=function(t){function e(n,r,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.empty;break;case 1:if(!n){this.destination=a.empty;break}if("object"==typeof n){n instanceof e?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,n,r,i)}}return r(e,t),e.prototype[s.rxSubscriber]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this,e=t._parent,n=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=n,this},e}(o.Subscription);e.Subscriber=u;var c=function(t){function e(e,n,r,o){t.call(this),this._parentSubscriber=e;var s,u=this;i.isFunction(n)?s=n:n&&(s=n.next,r=n.error,o=n.complete,n!==a.empty&&(u=Object.create(n),i.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=r,this._complete=o}return r(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(u)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";function r(t,e){return U.encrypt(t,e).toString()}function i(t,e){return U.decrypt(t,e).toString(V)}function o(t){if(!t||"function"!=typeof t.super_||"function"!=typeof t.destroy)throw new Error("given leveldown is no valid adapter")}function a(t){"string"!=typeof t&&(t=JSON.stringify(t));var e=0,n=void 0,r=void 0,i=void 0;if(0===t.length)return e;for(n=0,i=t.length;n<i;n++)r=t.charCodeAt(n),e=(e<<5)-e+r,e|=0;return e<0&&(e*=-1),e}function s(t){var e=t;return"string"!=typeof t&&(e=JSON.stringify(t)),H.hash(e)}function u(){return _()(10)+":"+(new Date).getTime()}function c(t){return t+="",t.charAt(0).toUpperCase()+t.substr(1)}function l(t){var e=[];do{var n=t%K;e.push(n),t=Math.floor(t/K)}while(t-- >0);return e.reverse().map(function(t){return W[t]}).join("")}function f(t){for(;"."==t.charAt(0);)t=t.substr(1);for(;"."==t.slice(-1);)t=t.slice(0,-1);return t}function h(t){if("string"!=typeof t||0==t.length)throw new TypeError("given name is no string or empty");if(t.includes("/"))return!0;var e=new RegExp("^[a-z][a-z0-9]*$");if(!t.match(e))throw new Error("\n            collection- and database-names must match the regex:\n            - regex: ^[a-z][a-z0-9]*$\n            - given: "+t+"\n            - info: if your database-name specifies a folder, the name must contain the slash-char '/'\n    ");return!0}function p(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return t;if(!e&&Array.isArray(t))return t.sort(function(t,e){return"string"==typeof t&&"string"==typeof e?t.localeCompare(e):"object"==typeof t?1:-1}).map(function(t){return p(t)});if("object"==typeof t){var n={};return Object.keys(t).sort(function(t,e){return t.localeCompare(e)}).forEach(function(e){n[e]=p(t[e])}),n}return t}n.d(e,"a",function(){return z}),e.k=r,e.l=i,e.d=o,e.m=a,e.b=s,e.f=u,n.d(e,"h",function(){return G}),e.e=c,e.j=l,e.g=f,e.c=h,e.i=p;var d=n(6),v=n.n(d),m=n(5),y=n.n(m),g=n(14),b=(n.n(g),n(204)),_=n.n(b),w=n(0),$=(n.n(w),n(65)),x=(n.n($),n(497)),E=(n.n(x),n(505)),k=(n.n(E),n(504)),S=(n.n(k),n(502)),O=(n.n(S),n(503)),A=(n.n(O),n(501)),j=(n.n(A),n(515)),C=(n.n(j),n(514)),T=(n.n(C),n(517)),P=(n.n(T),n(506)),M=(n.n(P),n(509)),D=(n.n(M),n(512)),R=(n.n(D),n(513)),I=(n.n(R),n(510)),N=(n.n(I),n(511)),L=(n.n(N),n(516)),B=(n.n(L),n(518)),F=(n.n(B),n(508)),q=(n.n(F),n(507)),U=(n.n(q),n(322)),V=(n.n(U),n(325)),z=(n.n(V),{Observable:w.Observable,Subject:$.Subject,BehaviorSubject:x.BehaviorSubject}),H=(function(){var t=y()(v.a.mark(function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Error,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="string"==typeof r?r:r.name,t.prev=1,t.next=4,e();case 4:t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(1),t.t0.constructor.name==n){t.next=10;break}throw new Error("\n            util.assertThrowsAsync(): Wrong Error-type\n            - is    : "+t.t0.constructor.name+"\n            - should: "+n+"\n            - error: "+t.t0.toString()+"\n            ");case 10:if(""==i||t.t0.toString().includes(i)){t.next=12;break}throw new Error("\n              util.assertThrowsAsync(): Error does not contain\n              - should contain: "+i+"\n              - is string: "+t.t0.toString()+"\n            ");case 12:return t.abrupt("return","util.assertThrowsAsync(): everything is fine");case 13:throw new Error("util.assertThrowsAsync(): Missing rejection"+(r?" with "+r.name:""));case 14:case"end":return t.stop()}},t,this,[[1,6]])}))}(),n(226)),G=function(){var t=y()(v.a.mark(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){return setTimeout(t,e)}));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W=(function(){var t=y()(v.a.mark(function t(e){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=!1;case 1:if(n){t.next=9;break}return t.next=4,G(10);case 4:return t.next=6,e();case 6:n=t.sent,t.next=1;break;case 9:case"end":return t.stop()}},t,this)}))}(),"abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ123456789"),K=W.length},function(t,e,n){t.exports={default:n(279),__esModule:!0}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){(function(e){var n=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}function n(r,i,o,a,f){function h(r,o){if(null===r)return null;if(0===o)return r;var m,y;if("object"!=typeof r)return r;if(t(r,u))m=new u;else if(t(r,c))m=new c;else if(t(r,l))m=new l(function(t,e){r.then(function(e){t(h(e,o-1))},function(t){e(h(t,o-1))})});else if(n.__isArray(r))m=[];else if(n.__isRegExp(r))m=new RegExp(r.source,s(r)),r.lastIndex&&(m.lastIndex=r.lastIndex);else if(n.__isDate(r))m=new Date(r.getTime());else{if(v&&e.isBuffer(r))return m=new e(r.length),r.copy(m),m;t(r,Error)?m=Object.create(r):void 0===a?(y=Object.getPrototypeOf(r),m=Object.create(y)):(m=Object.create(a),y=a)}if(i){var g=p.indexOf(r);if(-1!=g)return d[g];p.push(r),d.push(m)}t(r,u)&&r.forEach(function(t,e){var n=h(e,o-1),r=h(t,o-1);m.set(n,r)}),t(r,c)&&r.forEach(function(t){var e=h(t,o-1);m.add(e)});for(var b in r){var _;y&&(_=Object.getOwnPropertyDescriptor(y,b)),_&&null==_.set||(m[b]=h(r[b],o-1))}if(Object.getOwnPropertySymbols)for(var w=Object.getOwnPropertySymbols(r),b=0;b<w.length;b++){var $=w[b],x=Object.getOwnPropertyDescriptor(r,$);(!x||x.enumerable||f)&&(m[$]=h(r[$],o-1),x.enumerable||Object.defineProperty(m,$,{enumerable:!1}))}if(f)for(var E=Object.getOwnPropertyNames(r),b=0;b<E.length;b++){var k=E[b],x=Object.getOwnPropertyDescriptor(r,k);x&&x.enumerable||(m[k]=h(r[k],o-1),Object.defineProperty(m,k,{enumerable:!1}))}return m}"object"==typeof i&&(o=i.depth,a=i.prototype,f=i.includeNonEnumerable,i=i.circular);var p=[],d=[],v=void 0!==e;return void 0===i&&(i=!0),void 0===o&&(o=1/0),h(r,o)}function r(t){return Object.prototype.toString.call(t)}function i(t){return"object"==typeof t&&"[object Date]"===r(t)}function o(t){return"object"==typeof t&&"[object Array]"===r(t)}function a(t){return"object"==typeof t&&"[object RegExp]"===r(t)}function s(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}var u;try{u=Map}catch(t){u=function(){}}var c;try{c=Set}catch(t){c=function(){}}var l;try{l=Promise}catch(t){l=function(){}}return n.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},n.__objToStr=r,n.__isDate=i,n.__isArray=o,n.__isRegExp=a,n.__getRegExpFlags=s,n}();"object"==typeof t&&t.exports&&(t.exports=n)}).call(e,n(39).Buffer)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(258),o=r(i),a=n(257),s=r(a),u=n(154),c=r(u);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,c.default)(e)));t.prototype=(0,s.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(154),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,i.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){var r=n(185),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";(function(t){var n="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i=void 0!==t&&t,o=n||i||r;e.root=o,function(){if(!o)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(e,n(8))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return function(e){(angular.module(t.module)||angular.module(t.module,[])).directive(t.selector,function(){return{controller:t.controller,controllerAs:t.controllerAs||e.CTRL_AS||null,restrict:t.restrict||"A",replace:t.replace||!1,templateUrl:t.templateUrl||null,template:t.template||null,scope:!0===t.scope?{}:t.scope||null}})}}function o(t){return function(e){e.CTRL_AS=t.controllerAs||null;var n={};n[t.module]={type:"controller",name:t.name||e.name},e.$register=n,null!==t.deps&&void 0!==t.deps&&(e.$inject=t.deps)}}function a(t){return function(e){var n={};n[t.module]={type:"service",name:t.name},e.$register=n,null!==t.deps&&void 0!==t.deps&&(e.$inject=t.deps)}}function s(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n=!0,r=!1,i=void 0;try{for(var o,a=(0,m.default)(e.entries());!(n=(o=a.next()).done);n=!0){var s=o.value,u=(0,E.default)(s,2),c=(u[0],u[1]);!function(e,n){(0,$.default)(n.prototype).forEach(function(e,r){(null===t.prototype[e]||void 0===t.prototype[e])&&(0,_.default)(t.prototype,e,(0,g.default)(n.prototype,e))})}(0,c)}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}}function u(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n=!0,r=!1,i=void 0;try{for(var o,a=(0,m.default)(e.entries());!(n=(o=a.next()).done);n=!0){var s=o.value,u=(0,E.default)(s,2),c=(u[0],u[1]);(0,$.default)(c.prototype).forEach(function(e,n){(null===t.prototype[e]||void 0===t.prototype[e])&&(0,_.default)(t.prototype,e,{value:function(){throw new S.NotImplementedError(e)},enumerable:!0})})}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}}function c(t){return function(e){e.prototype.log=function(t){var e=t.level,n=t.msg,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.Logger[e](r,n)}.bind(e.prototype),Object.defineProperty(e.prototype,"Logger",{value:S.Log.create.call(e.prototype,{loggerName:t.loggerName,rollbarToken:t.remoteLoggerToken||null,environment:t.environment,npmPackageVersion:t.npmPackageVersion}),enumerable:!1})}}function l(){return function(t,e,n){var r=this,i=k.Reflect.hasMetadata("nullable",t[e])&&k.Reflect.getMetadata("nullable",t[e]);n.configurable=!0,n.enumerable=!0,n.writable=!0,n.get=function(){return t[e]},n.set=function(n){if(null===n||void 0===n){if(i)return void(t[e]=n);throw new S.VoidError}try{"function"==typeof r["_"+e]&&r["_"+e](n)}catch(t){if("info"===t.level||"debug"===t.level)return void r.log(t);throw t}if(k.Reflect.hasMetadata("typeof",t[e])){var o=k.Reflect.getMetadata("typeof",t[e]);o.type.name.toLowerCase();if(n instanceof o.type)t[e]=n;else try{t[e]=new o.type(n)}catch(t){throw r.log(new S.InMemoryTypeValidationError),t}}}}}function f(){return function(t,e,n){void 0===t[e]&&(t[e]=null),k.Reflect.defineMetadata("nullable",!0,t,e)}}function h(t){return function(e,n,r){var i=this,o=k.Reflect.hasMetadata("nullable",e[n])&&k.Reflect.getMetadata("nullable",e[n]);r.configurable=!0,r.enumerable=!1,r.writable=!0,r.get=function(){if(null===e[n]||void 0===e[n]){if(o)return null;throw new S.VoidError}return e["_$(prop)"]},r.set=function(n){try{if(null===n||void 0===n){if(o)return;throw new S.VoidError("No Input given")}e["_$(prop)"]=t(n)}catch(t){if("info"===t.level||"debug"===t.level)return void i.log(t);throw t}}}}function p(t){return function(e,n,r){e.MAP=t}}function d(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t,n,r){t.constructor.EVENTS=t.constructor.EVENTS||[],e.forEach(function(e){t.constructor.EVENTS.push({ev:e,fn:n})})}}Object.defineProperty(e,"__esModule",{value:!0});var v=n(53),m=r(v),y=n(54),g=r(y),b=n(152),_=r(b),w=n(69),$=r(w),x=n(70),E=r(x);e.Component=i,e.Controller=o,e.Service=a,e.Mixin=s,e.Implements=u,e.Logging=c,e.Validate=l,e.Nullable=f,e.Transform=h,e.AjaxMap=p,e.Evented=d;var k=n(484),S=n(94)},function(t,e,n){var r=n(42);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(10),i=n(4),o=n(40),a=n(34),s=function(t,e,n){var u,c,l,f=t&s.F,h=t&s.G,p=t&s.S,d=t&s.P,v=t&s.B,m=t&s.W,y=h?i:i[e]||(i[e]={}),g=y.prototype,b=h?r:p?r[e]:(r[e]||{}).prototype;h&&(n=e);for(u in n)(c=!f&&b&&void 0!==b[u])&&u in y||(l=c?b[u]:n[u],y[u]=h&&"function"!=typeof b[u]?n[u]:v&&c?o(l,r):m&&b[u]==l?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):d&&"function"==typeof l?o(Function.call,l):l,d&&((y.virtual||(y.virtual={}))[u]=l,t&s.R&&g&&!g[u]&&a(g,u,l)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){var r=n(21),i=n(156),o=n(108),a=Object.defineProperty;e.f=n(25)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return e=n(r(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),o="/"===a(t,-1);return t=n(r(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}for(var c=[],u=s;u<i.length;u++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(e,n(3))},function(t,e,n){t.exports=!n(41)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(157),i=n(98);t.exports=function(t){return r(i(t))}},function(t,e,n){!function(n,r){t.exports=e=r()}(0,function(){var t=t||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),r={},i=r.lib={},o=i.Base=function(){return{extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var o=0;o<i;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,r=[],i=0;i<e;i+=4){var o=function(e){var e=e,n=987654321,r=4294967295;return function(){n=36969*(65535&n)+(n>>16)&r,e=18e3*(65535&e)+(e>>16)&r;var i=(n<<16)+e&r;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}}(4294967296*(n||t.random()));n=987654071*o(),r.push(4294967296*o()|0)}return new a.init(r,e)}}),s=r.enc={},u=s.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new a.init(n,e/2)}},c=s.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new a.init(n,e)}},l=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},f=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,s=4*o,u=i/s;u=e?t.ceil(u):t.max((0|u)-this._minBufferSize,0);var c=u*o,l=t.min(4*c,i);if(c){for(var f=0;f<c;f+=o)this._doProcessBlock(r,f);var h=r.splice(0,c);n.sigBytes-=l}return new a.init(h,l)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),h=(i.Hasher=f.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new h.HMAC.init(t,n).finalize(e)}}}),r.algo={});return r}(Math);return t})},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function i(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer||"undefined"!=typeof Blob&&t instanceof Blob}function o(t){if("function"==typeof t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength),n=new Uint8Array(e),r=new Uint8Array(t);return n.set(r),e}function a(t){if(t instanceof ArrayBuffer)return o(t);var e=t.size,n=t.type;return"function"==typeof t.slice?t.slice(0,e,n):t.webkitSlice(0,e,n)}function s(t){var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&J.call(n)==Y}function u(t){var e,n,r;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(e=[],n=0,r=t.length;n<r;n++)e[n]=u(t[n]);return e}if(t instanceof Date)return t.toISOString();if(i(t))return a(t);if(!s(t))return t;e={};for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=u(t[n]);void 0!==o&&(e[n]=o)}return e}function c(t){var e=!1;return V(function(n){if(e)throw new Error("once called more than once");e=!0,t.apply(this,n)})}function l(t){return V(function(e){e=u(e);var n=this,r="function"==typeof e[e.length-1]&&e.pop(),i=new U(function(r,i){var o;try{var a=c(function(t,e){t?i(t):r(e)});e.push(a),o=t.apply(n,e),o&&"function"==typeof o.then&&r(o)}catch(t){i(t)}});return r&&i.then(function(t){r(null,t)},r),i})}function f(t,e,n){if(t.constructor.listeners("debug").length){for(var r=["api",t.name,e],i=0;i<n.length-1;i++)r.push(n[i]);t.constructor.emit("debug",r);var o=n[n.length-1];n[n.length-1]=function(n,r){var i=["api",t.name,e];i=i.concat(n?["error",n]:["success",r]),t.constructor.emit("debug",i),o(n,r)}}}function h(t,e){return l(V(function(n){if(this._closed)return U.reject(new Error("database is closed"));if(this._destroyed)return U.reject(new Error("database is destroyed"));var r=this;return f(r,t,n),this.taskqueue.isReady?e.apply(this,n):new U(function(e,i){r.taskqueue.addTask(function(o){o?i(o):e(r[t].apply(r,n))})})}))}function p(t,e){for(var n={},r=0,i=e.length;r<i;r++){var o=e[r];o in t&&(n[o]=t[o])}return n}function d(t){return t}function v(t){return[{ok:t}]}function m(t,e,n){function r(){var t=[];h.forEach(function(e){e.docs.forEach(function(n){t.push({id:e.id,docs:[n]})})}),n(null,{results:t})}function i(){++f===l&&r()}function o(t,e,n){h[t]={id:e,docs:n},i()}function a(){if(!(y>=m.length)){var t=Math.min(y+Q,m.length),e=m.slice(y,t);s(e,y),y+=e.length}}function s(n,r){n.forEach(function(n,i){var s=r+i,u=c.get(n),l=p(u[0],["atts_since","attachments"]);l.open_revs=u.map(function(t){return t.rev}),l.open_revs=l.open_revs.filter(d);var f=d;0===l.open_revs.length&&(delete l.open_revs,f=v),["revs","attachments","binary","ajax","latest"].forEach(function(t){t in e&&(l[t]=e[t])}),t.get(n,l,function(t,e){var r;r=t?[{error:t}]:f(e),o(s,n,r),a()})})}var u=e.docs,c=new z.Map;u.forEach(function(t){c.has(t.id)?c.get(t.id).push(t):c.set(t.id,[t])});var l=c.size,f=0,h=new Array(l),m=[];c.forEach(function(t,e){m.push(e)});var y=0;a()}function y(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}function g(){return q}function b(t){y()?chrome.storage.onChanged.addListener(function(e){null!=e.db_name&&t.emit(e.dbName.newValue)}):g()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(e){t.emit(e.key)}):window.attachEvent("storage",function(e){t.emit(e.key)}))}function _(){H.EventEmitter.call(this),this._listeners={},b(this)}function w(t){if("undefined"!==console&&t in console){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}function $(t,e){return t=parseInt(t,10)||0,e=parseInt(e,10),e!==e||e<=t?e=(t||1)<<1:e+=1,e>6e5&&(t=3e5,e=6e5),~~((e-t)*Math.random()+t)}function x(t){var e=0;return t||(e=2e3),$(t,e)}function E(t,e){w("info","The above "+t+" is totally normal. "+e)}function k(t,e,n){try{return!t(e,n)}catch(t){var r="Filter function threw: "+t.toString();return K.createError(K.BAD_REQUEST,r)}}function S(t){var e={},n=t.filter&&"function"==typeof t.filter;return e.query=t.query_params,function(r){r.doc||(r.doc={});var i=n&&k(t.filter,r.doc,e);if("object"==typeof i)return i;if(i)return!1;if(t.include_docs){if(!t.attachments)for(var o in r.doc._attachments)r.doc._attachments.hasOwnProperty(o)&&(r.doc._attachments[o].stub=!0)}else delete r.doc;return!0}}function O(t){for(var e=[],n=0,r=t.length;n<r;n++)e=e.concat(t[n]);return e}function A(){}function j(t){var e;if(t?"string"!=typeof t?e=K.createError(K.INVALID_ID):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(e=K.createError(K.RESERVED_ID)):e=K.createError(K.MISSING_ID),e)throw e}function C(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap}function T(t){return"boolean"==typeof t._remote?t._remote:"function"==typeof t.type&&(w("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===t.type())}function P(t,e){return"listenerCount"in t?t.listenerCount(e):H.EventEmitter.listenerCount(t,e)}function M(t){if(!t)return null;var e=t.split("/");return 2===e.length?e:1===e.length?[t,t]:null}function D(t){var e=M(t);return e?e.join("/"):null}function R(t){for(var e=at.exec(t),n={},r=14;r--;){var i=rt[r],o=e[r]||"",a=-1!==["user","password"].indexOf(i);n[i]=a?decodeURIComponent(o):o}return n[it]={},n[rt[12]].replace(ot,function(t,e,r){e&&(n[it][e]=r)}),n}function I(t,e){var n=[],r=[];for(var i in e)e.hasOwnProperty(i)&&(n.push(i),r.push(e[i]));return n.push(t),Function.apply(null,n).apply(null,r)}function N(t,e,n){return new U(function(r,i){t.get(e,function(o,a){if(o){if(404!==o.status)return i(o);a={}}var s=a._rev,u=n(a);if(!u)return r({updated:!1,rev:s});u._id=e,u._rev=s,r(L(t,u,n))})})}function L(t,e,n){return t.put(e).then(function(t){return{updated:!0,rev:t.rev}},function(r){if(409!==r.status)throw r;return N(t,e._id,n)})}function B(t){return 0|Math.random()*t}function F(t,e){e=e||st.length;var n="",r=-1;if(t){for(;++r<t;)n+=st[B(e)];return n}for(;++r<36;)switch(r){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=st[3&B(16)|8];break;default:n+=st[B(16)]}return n}Object.defineProperty(e,"__esModule",{value:!0});var q,U=r(n(63)),V=r(n(92)),z=n(51),H=n(35),G=r(n(13)),W=r(n(174)),K=n(62),J=Function.prototype.toString,Y=J.call(Object),Q=6;if(y())q=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),q=!!localStorage.getItem("_pouch_check_localstorage")}catch(t){q=!1}G(_,H.EventEmitter),_.prototype.addListener=function(t,e,n,r){function i(){function t(){a=!1}if(o._listeners[e]){if(a)return void(a="waiting");a=!0;var s=p(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(s).on("change",function(t){t.seq>r.since&&!r.cancelled&&(r.since=t.seq,r.onChange(t))}).on("complete",function(){"waiting"===a&&W(i),a=!1}).on("error",t)}}if(!this._listeners[e]){var o=this,a=!1;this._listeners[e]=i,this.on(t,i)}},_.prototype.removeListener=function(t,e){e in this._listeners&&(H.EventEmitter.prototype.removeListener.call(this,t,this._listeners[e]),delete this._listeners[e])},_.prototype.notifyLocalWindows=function(t){y()?chrome.storage.local.set({dbName:t}):g()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},_.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)};var X;X="function"==typeof Object.assign?Object.assign:function(t){for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};var Z,tt=X,et=A.name;Z=et?function(t){return t.name}:function(t){return t.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]};var nt=Z,rt=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],it="queryKey",ot=/(?:^|&)([^&=]*)=?([^&]*)/g,at=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,st="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");e.adapterFun=h,e.bulkGetShim=m,e.changesHandler=_,e.clone=u,e.defaultBackOff=x,e.explainError=E,e.assign=tt,e.filterChange=S,e.flatten=O,e.functionName=nt,e.guardedConsole=w,e.hasLocalStorage=g,e.invalidIdError=j,e.isChromeApp=y,e.isCordova=C,e.isRemote=T,e.listenerCount=P,e.nextTick=W,e.normalizeDdocFunctionName=D,e.once=c,e.parseDdocFunctionName=M,e.parseUri=R,e.pick=p,e.scopeEval=I,e.toPromise=l,e.upsert=N,e.uuid=F},function(t,e){t.exports={}},function(t,e){t.exports={environment:"development",npmPackageVersion:"0.2.0"}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(256),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(23),i=n(56);t.exports=n(25)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,s,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(n=this._events[t],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),c=n.slice(),i=c.length,u=0;u<i;u++)c[u].apply(this,s);return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],a=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){function r(t,e){var n=o(t,e);return i(n)?n:void 0}var i=n(380),o=n(415);t.exports=r},function(t,e,n){"use strict";function r(t){return t.reduce(function(t,e){return t.concat(e instanceof c.UnsubscriptionError?e.errors:e)},[])}var i=n(144),o=n(221),a=n(145),s=n(146),u=n(88),c=n(554),l=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this,l=n._parent,f=n._parents,h=n._unsubscribe,p=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,v=f?f.length:0;l;)l.remove(this),l=++d<v&&f[d]||null;if(a.isFunction(h)){var m=s.tryCatch(h).call(this);m===u.errorObject&&(e=!0,t=t||(u.errorObject.e instanceof c.UnsubscriptionError?r(u.errorObject.e.errors):[u.errorObject.e]))}if(i.isArray(p))for(d=-1,v=p.length;++d<v;){var y=p[d];if(o.isObject(y)){var m=s.tryCatch(y.unsubscribe).call(y);if(m===u.errorObject){e=!0,t=t||[];var g=u.errorObject.e;g instanceof c.UnsubscriptionError?t=t.concat(r(g.errors)):t.push(g)}}}if(e)throw new c.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;n=new t,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this,n=e._parent,r=e._parents;n&&n!==t?r?-1===r.indexOf(t)&&r.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();e.Subscription=l},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);c.call(this,t),l.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||a(o,this)}function o(t){t.end()}var a=n(83),s=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=r;var u=n(59);u.inherits=n(13);var c=n(227),l=n(148);u.inherits(r,c);for(var f=s(l.prototype),h=0;h<f.length;h++){var p=f[h];r.prototype[p]||(r.prototype[p]=l.prototype[p])}Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),r.prototype._destroy=function(t,e){this.push(null),this.end(),a(e,t)}},function(t,e,n){"use strict";(function(t){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=o.prototype):(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return a(this,t,e,n)}function a(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?h(t,e,n,r):"string"==typeof e?l(t,e,n):p(t,e)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e,n,r){return s(e),e<=0?i(t,e):void 0!==n?"string"==typeof r?i(t,e).fill(n,r):i(t,e).fill(n):i(t,e)}function c(t,e){if(s(e),t=i(t,e<0?0:0|d(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function l(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(e,n);t=i(t,r);var a=t.write(e,n);return a!==r&&(t=t.slice(0,a)),t}function f(t,e){var n=e.length<0?0:0|d(e.length);t=i(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),o.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=o.prototype):t=f(t,e),t}function p(t,e){if(o.isBuffer(e)){var n=0|d(e.length);return t=i(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||J(e.length)?i(t,0):f(t,e);if("Buffer"===e.type&&X(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function d(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function v(t){return+t!=t&&(t=0),o.alloc(+t)}function m(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(r)return z(t).length;e=(""+e).toLowerCase(),r=!0}}function y(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return C(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return O(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=o.from(e,r)),o.isBuffer(e))return 0===e.length?-1:_(t,e,n,r,i);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):_(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(t,e,n,r,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}var c;if(i){var l=-1;for(c=n;c<s;c++)if(o(t,c)===o(e,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===u)return l*a}else-1!==l&&(c-=c-l),l=-1}else for(n+u>s&&(n=s-u),c=n;c>=0;c--){for(var f=!0,h=0;h<u;h++)if(o(t,c+h)!==o(e,h)){f=!1;break}if(f)return c}return-1}function w(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function $(t,e,n,r){return K(z(e,t.length-n),t,n,r)}function x(t,e,n,r){return K(H(e),t,n,r)}function E(t,e,n,r){return x(t,e,n,r)}function k(t,e,n,r){return K(W(e),t,n,r)}function S(t,e,n,r){return K(G(e,t.length-n),t,n,r)}function O(t,e,n){return 0===e&&n===t.length?Y.fromByteArray(t):Y.fromByteArray(t.slice(e,n))}function A(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,c,l,f;switch(s){case 1:o<128&&(a=o);break;case 2:u=t[i+1],128==(192&u)&&(f=(31&o)<<6|63&u)>127&&(a=f);break;case 3:u=t[i+1],c=t[i+2],128==(192&u)&&128==(192&c)&&(f=(15&o)<<12|(63&u)<<6|63&c)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:u=t[i+1],c=t[i+2],l=t[i+3],128==(192&u)&&128==(192&c)&&128==(192&l)&&(f=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return j(r)}function j(t){var e=t.length;if(e<=Z)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Z));return n}function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function P(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=V(t[o]);return i}function M(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function D(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,r,i,a){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function I(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function L(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,r,i){return i||L(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(t,e,n,r,23,4),n+4}function F(t,e,n,r,i){return i||L(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(t,e,n,r,52,8),n+8}function q(t){if(t=U(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function U(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function V(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function G(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function W(t){return Y.toByteArray(q(t))}function K(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function J(t){return t!==t}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var Y=n(264),Q=n(348),X=n(267);e.Buffer=o,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,n){return a(null,t,e,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,n){return u(null,t,e,n)},o.allocUnsafe=function(t){return c(null,t)},o.allocUnsafeSlow=function(t){return c(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!X(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=o.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=m,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):y.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,n,r,i){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var a=i-r,s=n-e,u=Math.min(a,s),c=this.slice(r,i),l=t.slice(e,n),f=0;f<u;++f)if(c[f]!==l[f]){a=c[f],s=l[f];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},o.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return $(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return E(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;o.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=o.prototype;else{var i=e-t;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+t]}return r},o.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},o.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},o.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},o.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),Q.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),Q.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),Q.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),Q.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){R(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){R(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return F(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return F(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,a=r-n;if(this===t&&n<e&&e<r)for(i=a-1;i>=0;--i)t[i+e]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},o.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var a;if("number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var s=o.isBuffer(t)?t:z(new o(t,r).toString()),u=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%u]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(8))},function(t,e,n){var r=n(96);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports={}},function(t,e,n){var r=n(165),i=n(100);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(17),i=r.Symbol;t.exports=i},function(t,e,n){function r(t){return null==t?void 0===t?u:s:c&&c in Object(t)?o(t):a(t)}var i=n(45),o=n(414),a=n(442),s="[object Null]",u="[object Undefined]",c=i?i.toStringTag:void 0;t.exports=r},function(t,e,n){function r(t,e){return i(t)?t:o(t,e)?[t]:a(s(t))}var i=n(18),o=n(122),a=n(454),s=n(466);t.exports=r},function(t,e,n){function r(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}var i=n(129),o=1/0;t.exports=r},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){var r,i,o;!function(n,a){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=a():(i=[],r=a,void 0!==(o="function"==typeof r?r.apply(e,i):r)&&(t.exports=o))}(0,function(){"use strict";function t(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}function e(e){if(!e)return!0;if(u(e)&&0===e.length)return!0;if("string"!=typeof e){for(var n in e)if(t(e,n))return!1;return!0}return!1}function n(t){return s.call(t)}function r(t){return"object"==typeof t&&"[object Object]"===n(t)}function i(t){return"boolean"==typeof t||"[object Boolean]"===n(t)}function o(t){var e=parseInt(t);return e.toString()===t?e:t}function a(n){function a(e,r){return n.includeInheritedProps||"number"==typeof r&&Array.isArray(e)||t(e,r)}function s(t,e){if(a(t,e))return t[e]}function c(t,e,n,r){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if("string"==typeof e)return c(t,e.split(".").map(o),n,r);var i=e[0],a=s(t,i);return 1===e.length?(void 0!==a&&r||(t[i]=n),a):(void 0===a&&("number"==typeof e[1]?t[i]=[]:t[i]={}),c(t[i],e.slice(1),n,r))}n=n||{};var l=function(t){return Object.keys(l).reduce(function(e,n){return"create"===n?e:("function"==typeof l[n]&&(e[n]=l[n].bind(l,t)),e)},{})};return l.has=function(e,r){if("number"==typeof r?r=[r]:"string"==typeof r&&(r=r.split(".")),!r||0===r.length)return!!e;for(var i=0;i<r.length;i++){var a=o(r[i]);if(!("number"==typeof a&&u(e)&&a<e.length||(n.includeInheritedProps?a in Object(e):t(e,a))))return!1;e=e[a]}return!0},l.ensureExists=function(t,e,n){return c(t,e,n,!0)},l.set=function(t,e,n,r){return c(t,e,n,r)},l.insert=function(t,e,n,r){var i=l.get(t,e);r=~~r,u(i)||(i=[],l.set(t,e,i)),i.splice(r,0,n)},l.empty=function(t,n){if(!e(n)&&null!=t){var o,s;if(o=l.get(t,n)){if("string"==typeof o)return l.set(t,n,"");if(i(o))return l.set(t,n,!1);if("number"==typeof o)return l.set(t,n,0);if(u(o))o.length=0;else{if(!r(o))return l.set(t,n,null);for(s in o)a(o,s)&&delete o[s]}}}},l.push=function(t,e){var n=l.get(t,e);u(n)||(n=[],l.set(t,e,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},l.coalesce=function(t,e,n){for(var r,i=0,o=e.length;i<o;i++)if(void 0!==(r=l.get(t,e[i])))return r;return n},l.get=function(t,e,n){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if(null==t)return n;if("string"==typeof e)return l.get(t,e.split("."),n);var r=o(e[0]),i=s(t,r);return void 0===i?n:1===e.length?i:l.get(t[r],e.slice(1),n)},l.del=function(t,n){if("number"==typeof n&&(n=[n]),null==t)return t;if(e(n))return t;if("string"==typeof n)return l.del(t,n.split("."));var r=o(n[0]);return a(t,r)?1!==n.length?l.del(t[r],n.slice(1)):(u(t)?t.splice(r,1):delete t[r],t):t},l}var s=Object.prototype.toString,u=Array.isArray||function(t){return"[object Array]"===s.call(t)},c=a();return c.create=a,c.withInheritedProps=a({includeInheritedProps:!0}),c})},function(t,e,n){"use strict";function r(t){return"$"+t}function i(t){return t.substring(1)}function o(){this._store={}}function a(t){if(this._store=new o,t&&Array.isArray(t))for(var e=0,n=t.length;e<n;e++)this.add(t[e])}Object.defineProperty(e,"__esModule",{value:!0}),o.prototype.get=function(t){var e=r(t);return this._store[e]},o.prototype.set=function(t,e){var n=r(t);return this._store[n]=e,!0},o.prototype.has=function(t){return r(t)in this._store},o.prototype.delete=function(t){var e=r(t),n=e in this._store;return delete this._store[e],n},o.prototype.forEach=function(t){for(var e=Object.keys(this._store),n=0,r=e.length;n<r;n++){var o=e[n],a=this._store[o];o=i(o),t(a,o)}},Object.defineProperty(o.prototype,"size",{get:function(){return Object.keys(this._store).length}}),a.prototype.add=function(t){return this._store.set(t,!0)},a.prototype.has=function(t){return this._store.has(t)},a.prototype.forEach=function(t){this._store.forEach(function(e,n){t(n)})},Object.defineProperty(a.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}()?(e.Set=a,e.Map=o):(e.Set=Set,e.Map=Map)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Service=e.Controller=e.Harmony=void 0;var i,o,a=n(69),s=r(a),u=n(16),c=r(u),l=n(15),f=r(l),h=n(95),p=r(h),d=n(53),v=r(d),m=n(70),y=r(m),g=n(12),b=r(g),_=n(1),w=r(_),$=n(2),x=r($),E=n(261),k=r(E),S=n(20),O=n(253),A=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(O),j=e.Harmony=(i=(0,S.Mixin)(A.TimeUtil,A.NumberUtil,A.AsyncUtil,A.TypeCheckUtil))(o=function(){function t(){for(var e=this,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(0,w.default)(this,t),this.constructor.$inject.forEach(function(t,n){e[t]=r[n]}),this._constructed=this._timestamp}return(0,x.default)(t,[{key:"toString",value:function(){return this.name||(0,k.default)(t.prototype.__proto__||(0,b.default)(t.prototype),"toString",this).call(this).match(/function\s*(.*?)\(/)[1]}},{key:"name",get:function(){return this.constructor.name+"::"+this._constructed+"::"+this._random}},{key:"_name",get:function(){var t=this.name.split("::");return{fn:t[0],ts:t[1],id:t[2]}}}],[{key:"$inject",get:function(){return this._$inject||[]},set:function(t){var e=[];Array.isArray(t)||(t=[t]);var n=!0,r=!1,i=void 0;try{for(var o,a=(0,v.default)(t.entries());!(n=(o=a.next()).done);n=!0){var s=o.value,u=(0,y.default)(s,2),c=(u[0],u[1]),l=!0,f=!0,h=!1,p=void 0;try{for(var d,m=(0,v.default)(this.$inject.entries());!(f=(d=m.next()).done);f=!0){var g=d.value,b=(0,y.default)(g,2);b[0];c===b[1]&&(l=!1)}}catch(t){h=!0,p=t}finally{try{!f&&m.return&&m.return()}finally{if(h)throw p}}if(l)if("-"!==c.charAt(0))e.push(c);else{var _=this.$inject.indexOf(c.slice(1));~_&&this._$inject.splice(_,1)}}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this._$inject=this.$inject.concat(e)}},{key:"$register",set:function(t){var e=this;(0,p.default)(t).forEach(function(n,r){angular.module(n)[t[n].type](t[n].name,e)})}}]),t}())||o;(e.Controller=function(t){function e(){var t;(0,w.default)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(0,c.default)(this,(t=e.__proto__||(0,b.default)(e)).call.apply(t,[this].concat(r))),a=o.constructor.prototype;return o.constructor.CTRL_AS&&(o.$scope[o.constructor.CTRL_AS]={}),(0,s.default)(a).forEach(function(t,e){"function"==typeof a[t]&&"$"===t[0]&&(o.constructor.CTRL_AS?o.$scope[o.constructor.CTRL_AS][t.slice(1)]=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return a[t].apply(o,n)}:o.$scope[t]=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return a[t].apply(o,n)})}),o}return(0,f.default)(e,t),(0,x.default)(e,null,[{key:"$register",set:function(t){var e=this;(0,s.default)(t).forEach(function(n){angular.module(n).controller(t[n].name,e)})}}]),(0,x.default)(e,[{key:"_digest",value:function(){try{this.$scope.$digest()}catch(t){}}}]),e}(j)).$inject="$scope";e.Service=function(t){function e(){var t;(0,w.default)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(0,c.default)(this,(t=e.__proto__||(0,b.default)(e)).call.apply(t,[this].concat(r)))}return(0,f.default)(e,t),(0,x.default)(e,null,[{key:"$register",set:function(t){var e=this;(0,p.default)(t).forEach(function(n){angular.module(n)[t[n].type||"service"](t[n].name,e)})}}]),e}(j)},function(t,e,n){t.exports={default:n(272),__esModule:!0}},function(t,e,n){t.exports={default:n(277),__esModule:!0}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(98);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(304)(!0);n(160)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){(function(t){function n(t){return Array.isArray?Array.isArray(t):"[object Array]"===m(t)}function r(t){return"boolean"==typeof t}function i(t){return null===t}function o(t){return null==t}function a(t){return"number"==typeof t}function s(t){return"string"==typeof t}function u(t){return"symbol"==typeof t}function c(t){return void 0===t}function l(t){return"[object RegExp]"===m(t)}function f(t){return"object"==typeof t&&null!==t}function h(t){return"[object Date]"===m(t)}function p(t){return"[object Error]"===m(t)||t instanceof Error}function d(t){return"function"==typeof t}function v(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function m(t){return Object.prototype.toString.call(t)}e.isArray=n,e.isBoolean=r,e.isNull=i,e.isNullOrUndefined=o,e.isNumber=a,e.isString=s,e.isSymbol=u,e.isUndefined=c,e.isRegExp=l,e.isObject=f,e.isDate=h,e.isError=p,e.isFunction=d,e.isPrimitive=v,e.isBuffer=t.isBuffer}).call(e,n(39).Buffer)},function(t,e,n){function r(t,e,n,r){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=r?r(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?o(n,c,l):i(n,c,l)}return n}var i=n(116),o=n(117);t.exports=r},function(t,e,n){function r(t){return a(t)?i(t):o(t)}var i=n(176),o=n(383),a=n(199);t.exports=r},function(t,e,n){"use strict";function r(t,e,n){Error.call(this,n),this.status=t,this.name=e,this.message=n,this.error=!0}function i(t,e){function n(e){for(var n in t)"function"!=typeof t[n]&&(this[n]=t[n]);void 0!==e&&(this.reason=e)}return n.prototype=r.prototype,new n(e)}function o(t){if("object"!=typeof t){var e=t;t=d,t.data=e}return"error"in t&&"conflict"===t.error&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),t}Object.defineProperty(e,"__esModule",{value:!0}),function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n(13))(r,Error),r.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var a=new r(401,"unauthorized","Name or password is incorrect."),s=new r(400,"bad_request","Missing JSON list of 'docs'"),u=new r(404,"not_found","missing"),c=new r(409,"conflict","Document update conflict"),l=new r(400,"bad_request","_id field must contain a string"),f=new r(412,"missing_id","_id is required for puts"),h=new r(400,"bad_request","Only reserved document ids may start with underscore."),p=new r(412,"precondition_failed","Database not open"),d=new r(500,"unknown_error","Database encountered an unknown error"),v=new r(500,"badarg","Some query argument is invalid"),m=new r(400,"invalid_request","Request was invalid"),y=new r(400,"query_parse_error","Some query parameter is invalid"),g=new r(500,"doc_validation","Bad special document member"),b=new r(400,"bad_request","Something wrong with the request"),_=new r(400,"bad_request","Document must be a JSON object"),w=new r(404,"not_found","Database not found"),$=new r(500,"indexed_db_went_bad","unknown"),x=new r(500,"web_sql_went_bad","unknown"),E=new r(500,"levelDB_went_went_bad","unknown"),k=new r(403,"forbidden","Forbidden by design doc validate_doc_update function"),S=new r(400,"bad_request","Invalid rev format"),O=new r(412,"file_exists","The database could not be created, the file already exists."),A=new r(412,"missing_stub","A pre-existing attachment stub wasn't found"),j=new r(413,"invalid_url","Provided URL is invalid");e.UNAUTHORIZED=a,e.MISSING_BULK_DOCS=s,e.MISSING_DOC=u,e.REV_CONFLICT=c,e.INVALID_ID=l,e.MISSING_ID=f,e.RESERVED_ID=h,e.NOT_OPEN=p,e.UNKNOWN_ERROR=d,e.BAD_ARG=v,e.INVALID_REQUEST=m,e.QUERY_PARSE_ERROR=y,e.DOC_VALIDATION=g,e.BAD_REQUEST=b,e.NOT_AN_OBJECT=_,e.DB_MISSING=w,e.WSQ_ERROR=x,e.LDB_ERROR=E,e.FORBIDDEN=k,e.INVALID_REV=S,e.FILE_EXISTS=O,e.MISSING_STUB=A,e.IDB_ERROR=$,e.INVALID_URL=j,e.createError=i,e.generateErrorFromResponse=o},function(t,e,n){"use strict";var r=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n(356)),i="function"==typeof Promise?Promise:r;t.exports=i},function(t,e,n){"use strict";function r(t){return new h(t)}function i(t,e){var n=t._rev.startsWith("1-")?"INSERT":"UPDATE";t._deleted&&(n="REMOVE"),t=e._handleFromPouch(t);var r={op:n,t:(new Date).getTime(),db:"remote",col:e.name,it:e.database.token,doc:t[e.schema.primaryPath],v:t};return new h(r)}function o(t,e,n,r,i){var o={op:t,t:(new Date).getTime(),db:e.prefix,it:e.token};return n&&(o.col=n.name),r&&(o.doc=r.getPrimary()),i&&(o.v=i),new h(o)}function a(t){return t instanceof h}e.d=r,e.c=i,e.b=o,e.a=a;var s=n(1),u=n.n(s),c=n(2),l=n.n(c),f=n(11),h=function(){function t(e){u()(this,t),this.data=e}return t.prototype.toJSON=function(){var t={op:this.data.op,t:this.data.t,db:this.data.db,it:this.data.it};return this.data.col&&(t.col=this.data.col),this.data.doc&&(t.doc=this.data.doc),this.data.v&&(t.v=this.data.v),t},t.prototype.isIntern=function(){return!(!this.data.col||"_"!=this.data.col.charAt(0))},t.prototype.isSocket=function(){return!(!this.data.col||"_socket"!=this.data.col)},l()(t,[{key:"hash",get:function(){return this._hash||(this._hash=f.b(this.data)),this._hash}}]),t}()},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=n(9),a=n(37),s=n(143),u=n(213),c=n(142),l=function(t){function e(e){t.call(this,e),this.destination=e}return r(e,t),e}(o.Subscriber);e.SubjectSubscriber=l;var f=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(e,t),e.prototype[c.rxSubscriber]=function(){return new l(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(t.complete(),a.Subscription.EMPTY):(this.observers.push(t),new u.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(i.Observable);e.Subject=f;var h=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return r(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.Subscription.EMPTY},e}(f);e.AnonymousSubject=h},function(t,e){function n(t,e,n){if(e in t)return t[e];if(3===arguments.length)return n;throw new Error('"'+e+'" is a required argument.')}function r(t){var e=t.match(m);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}function i(t){var e="";return t.scheme&&(e+=t.scheme+":"),e+="//",t.auth&&(e+=t.auth+"@"),t.host&&(e+=t.host),t.port&&(e+=":"+t.port),t.path&&(e+=t.path),e}function o(t){var n=t,o=r(t);if(o){if(!o.path)return t;n=o.path}for(var a,s=e.isAbsolute(n),u=n.split(/\/+/),c=0,l=u.length-1;l>=0;l--)a=u[l],"."===a?u.splice(l,1):".."===a?c++:c>0&&(""===a?(u.splice(l+1,c),c=0):(u.splice(l,2),c--));return n=u.join("/"),""===n&&(n=s?"/":"."),o?(o.path=n,i(o)):n}function a(t,e){""===t&&(t="."),""===e&&(e=".");var n=r(e),a=r(t);if(a&&(t=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),i(n);if(n||e.match(y))return e;if(a&&!a.host&&!a.path)return a.host=e,i(a);var s="/"===e.charAt(0)?e:o(t.replace(/\/+$/,"")+"/"+e);return a?(a.path=s,i(a)):s}function s(t,e){""===t&&(t="."),t=t.replace(/\/$/,"");for(var n=0;0!==e.indexOf(t+"/");){var r=t.lastIndexOf("/");if(r<0)return e;if(t=t.slice(0,r),t.match(/^([^\/]+:\/)?\/*$/))return e;++n}return Array(n+1).join("../")+e.substr(t.length+1)}function u(t){return t}function c(t){return f(t)?"$"+t:t}function l(t){return f(t)?t.slice(1):t}function f(t){if(!t)return!1;var e=t.length;if(e<9)return!1;if(95!==t.charCodeAt(e-1)||95!==t.charCodeAt(e-2)||111!==t.charCodeAt(e-3)||116!==t.charCodeAt(e-4)||111!==t.charCodeAt(e-5)||114!==t.charCodeAt(e-6)||112!==t.charCodeAt(e-7)||95!==t.charCodeAt(e-8)||95!==t.charCodeAt(e-9))return!1;for(var n=e-10;n>=0;n--)if(36!==t.charCodeAt(n))return!1;return!0}function h(t,e,n){var r=t.source-e.source;return 0!==r?r:0!==(r=t.originalLine-e.originalLine)?r:0!==(r=t.originalColumn-e.originalColumn)||n?r:0!==(r=t.generatedColumn-e.generatedColumn)?r:(r=t.generatedLine-e.generatedLine,0!==r?r:t.name-e.name)}function p(t,e,n){var r=t.generatedLine-e.generatedLine;return 0!==r?r:0!==(r=t.generatedColumn-e.generatedColumn)||n?r:0!==(r=t.source-e.source)?r:0!==(r=t.originalLine-e.originalLine)?r:(r=t.originalColumn-e.originalColumn,0!==r?r:t.name-e.name)}function d(t,e){return t===e?0:t>e?1:-1}function v(t,e){var n=t.generatedLine-e.generatedLine;return 0!==n?n:0!==(n=t.generatedColumn-e.generatedColumn)?n:0!==(n=d(t.source,e.source))?n:0!==(n=t.originalLine-e.originalLine)?n:(n=t.originalColumn-e.originalColumn,0!==n?n:d(t.name,e.name))}e.getArg=n;var m=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,y=/^data:.+\,.+$/;e.urlParse=r,e.urlGenerate=i,e.normalize=o,e.join=a,e.isAbsolute=function(t){return"/"===t.charAt(0)||!!t.match(m)},e.relative=s;var g=function(){return!("__proto__"in Object.create(null))}();e.toSetString=g?u:c,e.fromSetString=g?u:l,e.compareByOriginalPositions=h,e.compareByGeneratedPositionsDeflated=p,e.compareByGeneratedPositionsInflated=v},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&e._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,n,r){if(t.customInspect&&n&&S(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return b(i)||(i=u(t,i,r)),i}var o=c(t,n);if(o)return o;var a=Object.keys(n),v=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),k(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(n);if(0===a.length){if(S(n)){var m=n.name?": "+n.name:"";return t.stylize("[Function"+m+"]","special")}if($(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return t.stylize(Date.prototype.toString.call(n),"date");if(k(n))return l(n)}var y="",g=!1,_=["{","}"];if(d(n)&&(g=!0,_=["[","]"]),S(n)){y=" [Function"+(n.name?": "+n.name:"")+"]"}if($(n)&&(y=" "+RegExp.prototype.toString.call(n)),E(n)&&(y=" "+Date.prototype.toUTCString.call(n)),k(n)&&(y=" "+l(n)),0===a.length&&(!g||0==n.length))return _[0]+y+_[1];if(r<0)return $(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var w;return w=g?f(t,n,r,v,a):a.map(function(e){return h(t,n,r,v,e,g)}),t.seen.pop(),p(w,y,_)}function c(t,e){if(w(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):v(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)T(e,String(a))?o.push(h(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}function h(t,e,n,r,i,o){var a,s,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),T(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=m(n)?u(t,c.value,null):u(t,c.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function m(t){return null===t}function y(t){return null==t}function g(t){return"number"==typeof t}function b(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function w(t){return void 0===t}function $(t){return x(t)&&"[object RegExp]"===A(t)}function x(t){return"object"==typeof t&&null!==t}function E(t){return x(t)&&"[object Date]"===A(t)}function k(t){return x(t)&&("[object Error]"===A(t)||t instanceof Error)}function S(t){return"function"==typeof t}function O(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function A(t){return Object.prototype.toString.call(t)}function j(t){return t<10?"0"+t.toString(10):t.toString(10)}function C(){var t=new Date,e=[j(t.getHours()),j(t.getMinutes()),j(t.getSeconds())].join(":");return[t.getDate(),R[t.getMonth()],e].join(" ")}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var P=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(t).replace(P,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),s=r[n];n<o;s=r[++n])m(s)||!x(s)?a+=" "+s:a+=" "+i(s);return a},e.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(w(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var a=!1;return o};var M,D={};e.debuglog=function(t){if(w(M)&&(M=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!D[t])if(new RegExp("\\b"+t+"\\b","i").test(M)){var n=r.pid;D[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else D[t]=function(){};return D[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=v,e.isNull=m,e.isNullOrUndefined=y,e.isNumber=g,e.isString=b,e.isSymbol=_,e.isUndefined=w,e.isRegExp=$,e.isObject=x,e.isDate=E,e.isError=k,e.isFunction=S,e.isPrimitive=O,e.isBuffer=n(581);var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",C(),e.format.apply(e,arguments))},e.inherits=n(580),e._extend=function(t,e){if(!e||!x(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,n(8),n(3))},function(t,e,n){"use strict";(function(e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function r(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function i(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}function o(t){return Object.prototype.toString.call(t)}function a(t){return!i(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function s(t){if(_.isFunction(t)){if(x)return t.name;var e=t.toString(),n=e.match(k);return n&&n[1]}}function u(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function c(t){if(x||!_.isFunction(t))return _.inspect(t);var e=s(t);return"[Function"+(e?": "+e:"")+"]"}function l(t){return u(c(t.actual),128)+" "+t.operator+" "+u(c(t.expected),128)}function f(t,e,n,r,i){throw new E.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function h(t,e){t||f(t,!0,e,"==",E.ok)}function p(t,e,n,s){if(t===e)return!0;if(i(t)&&i(e))return 0===r(t,e);if(_.isDate(t)&&_.isDate(e))return t.getTime()===e.getTime();if(_.isRegExp(t)&&_.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(a(t)&&a(e)&&o(t)===o(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;s=s||{actual:[],expected:[]};var u=s.actual.indexOf(t);return-1!==u&&u===s.expected.indexOf(e)||(s.actual.push(t),s.expected.push(e),v(t,e,n,s))}return n?t===e:t==e}function d(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function v(t,e,n,r){if(null===t||void 0===t||null===e||void 0===e)return!1;if(_.isPrimitive(t)||_.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=d(t),o=d(e);if(i&&!o||!i&&o)return!1;if(i)return t=$.call(t),e=$.call(e),p(t,e,n);var a,s,u=S(t),c=S(e);if(u.length!==c.length)return!1;for(u.sort(),c.sort(),s=u.length-1;s>=0;s--)if(u[s]!==c[s])return!1;for(s=u.length-1;s>=0;s--)if(a=u[s],!p(t[a],e[a],n,r))return!1;return!0}function m(t,e,n){p(t,e,!0)&&f(t,e,n,"notDeepStrictEqual",m)}function y(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function g(t){var e;try{t()}catch(t){e=t}return e}function b(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=g(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&f(i,n,"Missing expected exception"+r);var o="string"==typeof r,a=!t&&_.isError(i),s=!t&&i&&!n;if((a&&o&&y(i,n)||s)&&f(i,n,"Got unwanted exception"+r),t&&i&&n&&!y(i,n)||!t&&i)throw i}var _=n(67),w=Object.prototype.hasOwnProperty,$=Array.prototype.slice,x=function(){return"foo"===function(){}.name}(),E=t.exports=h,k=/\s*function\s+([^\(\s]*)\s*/;E.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var e=t.stackStartFunction||f;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=s(e),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},_.inherits(E.AssertionError,Error),E.fail=f,E.ok=h,E.equal=function(t,e,n){t!=e&&f(t,e,n,"==",E.equal)},E.notEqual=function(t,e,n){t==e&&f(t,e,n,"!=",E.notEqual)},E.deepEqual=function(t,e,n){p(t,e,!1)||f(t,e,n,"deepEqual",E.deepEqual)},E.deepStrictEqual=function(t,e,n){p(t,e,!0)||f(t,e,n,"deepStrictEqual",E.deepStrictEqual)},E.notDeepEqual=function(t,e,n){p(t,e,!1)&&f(t,e,n,"notDeepEqual",E.notDeepEqual)},E.notDeepStrictEqual=m,E.strictEqual=function(t,e,n){t!==e&&f(t,e,n,"===",E.strictEqual)},E.notStrictEqual=function(t,e,n){t===e&&f(t,e,n,"!==",E.notStrictEqual)},E.throws=function(t,e,n){b(!0,t,e,n)},E.doesNotThrow=function(t,e,n){b(!1,t,e,n)},E.ifError=function(t){if(t)throw t};var S=Object.keys||function(t){var e=[];for(var n in t)w.call(t,n)&&e.push(n);return e}}).call(e,n(8))},function(t,e,n){t.exports={default:n(278),__esModule:!0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(255),o=r(i),a=n(53),s=r(a);e.default=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=(0,s.default)(t);!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,o.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e){t.exports=!0},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(22),i=n(4),o=n(41);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(23).f,i=n(33),o=n(7)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){n(309);for(var r=n(10),i=n(34),o=n(43),a=n(7)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&i(f,a,c),o[c]=o.Array}},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(428),o=n(429),a=n(430),s=n(431),u=n(432);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}var i=n(124);t.exports=r},function(t,e,n){function r(t,e){e=i(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[o(e[n++])];return n&&n==r?t:void 0}var i=n(47),o=n(48);t.exports=r},function(t,e,n){function r(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}var i=n(426);t.exports=r},function(t,e,n){var r=n(36),i=r(Object,"create");t.exports=i},function(t,e,n){"use strict";function r(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(o){if("TypeError"!==o.name)throw o;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,i=0;i<t.length;i+=1)r.append(t[i]);return r.getBlob(e.type)}}function i(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}function o(t,e){return r([i(t)],{type:e})}function a(t,e){return o(p(t),e)}function s(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,i=0;i<r;i++)e+=String.fromCharCode(n[i]);return e}function u(t,e){if("undefined"==typeof FileReader)return e(s((new FileReaderSync).readAsArrayBuffer(t)));var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(t){var n=t.target.result||"";if(r)return e(n);e(s(n))},r?n.readAsBinaryString(t):n.readAsArrayBuffer(t)}function c(t,e){u(t,function(t){e(t)})}function l(t,e){c(t,function(t){e(d(t))})}function f(t,e){if("undefined"==typeof FileReader)return e((new FileReaderSync).readAsArrayBuffer(t));var n=new FileReader;n.onloadend=function(t){var n=t.target.result||new ArrayBuffer(0);e(n)},n.readAsArrayBuffer(t)}function h(){}Object.defineProperty(e,"__esModule",{value:!0});var p=function(t){return atob(t)},d=function(t){return btoa(t)};e.atob=p,e.btoa=d,e.base64StringToBlobOrBuffer=a,e.binaryStringToArrayBuffer=i,e.binaryStringToBlobOrBuffer=o,e.blob=r,e.blobOrBufferToBase64=l,e.blobOrBufferToBinaryString=c,e.readAsArrayBuffer=f,e.readAsBinaryString=u,e.typedBuffer=h},function(t,e,n){"use strict";(function(e){function n(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=n:t.exports=e.nextTick}).call(e,n(3))},function(t,e,n){"use strict";var r=n(6),i=n.n(r),o=n(5),a=n.n(o),s=n(476),u=n.n(s),c=n(481);n.n(c);u.a.plugin(c),u.a.countAllUndeleted=function(){var t=a()(i.a.mark(function t(e){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.allDocs({include_docs:!1,attachments:!1});case 2:return n=t.sent,t.abrupt("return",n.rows.filter(function(t){return!t.id.startsWith("_design/")}).length);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),u.a.getBatch=function(){var t=a()(i.a.mark(function t(e,n){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n<=1)){t.next=2;break}throw new Error("PouchDB.getBatch: limit must be > 2");case 2:return t.next=4,e.allDocs({include_docs:!0,attachments:!1,limit:n});case 4:return r=t.sent,t.abrupt("return",r.rows.map(function(t){return t.doc}).filter(function(t){return!t._id.startsWith("_design")}));case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),e.a=u.a},function(t,e,n){"use strict";function r(t){function e(t,r){if("object"==typeof t){if(t.encrypted)return void(n[r.substring(1)]=t);for(var i in t){var o=r;"properties"!=i&&(o=o+"."+i),e(t[i],o)}}}var n={};return e(t,""),n}function i(t){var e=r(t);return Object.keys(e).length>0}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[];if(Object.entries(t).forEach(function(t){var r=t[0],i=t[1],a="properties"==r?e:w.g(e+"."+r);if(i.index&&n.push([a]),"object"==typeof i&&!Array.isArray(i)){var s=o(i,a);n=n.concat(s)}}),""==e){var r=t.compoundIndexes||[];n=n.concat(r)}return n=n.filter(function(t,e,n){return n.indexOf(t)==e})}function a(t){var e=Object.keys(t.properties).filter(function(e){return t.properties[e].primary}).shift();return e||"_id"}function s(t){if(""!=t){if(["properties","language"].includes(t))throw new Error("fieldname is not allowed: "+t);var e="^[a-zA-Z][[a-zA-Z0-9_]*]?[a-zA-Z0-9]$",n=new RegExp(e);if(!t.match(n))throw new Error("\n        fieldnames must match the regex:\n        - regex: "+e+"\n        - fieldName: "+t+"\n        ")}}function u(t){function e(t,e,n){if("string"!=typeof t||"object"!=typeof e||Array.isArray(e)||s(t),e.hasOwnProperty("item")&&"array"!=e.type)throw new Error("name 'item' reserved for array-fields: "+t);if(e.hasOwnProperty("ref"))switch(e.type){case"string":break;case"array":if(!e.items||!e.items.type||"string"!=e.items.type)throw new Error("fieldname "+t+" has a ref-array but items-type is not string");break;default:throw new Error("fieldname "+t+" has a ref but is not type string or array<string>")}if(e.hasOwnProperty("ref")&&e.primary)throw new Error("fieldname "+t+" cannot be primary and ref at same time");var r=n.split(".").length>2;if(r&&e.primary)throw new Error("primary can only be defined at top-level");if(!r&&"_"==t.charAt(0))throw new Error("first level-fields cannot start with underscore _ "+t)}function n(t,r){if("object"==typeof t)for(var i in t){t.properties||e(i,t[i],r);var o=r;"properties"!=i&&(o=o+"."+i),n(t[i],o)}}return n(t,""),!0}function c(t){if(t.properties._id)throw new Error("schema defines ._id, this will be done automatically");if(t.properties._rev)throw new Error("schema defines ._rev, this will be done automatically");if(!t.hasOwnProperty("version")||"number"!=typeof t.version||t.version<0)throw new Error("schema need an number>=0 as version; given: "+t.version);u(t);var e=void 0;if(Object.keys(t.properties).forEach(function(n){var r=t.properties[n];if(r.primary){if(e)throw new Error("primary can only be defined once");if(e=n,r.index)throw new Error("primary is always index, do not declare it as index");if(r.unique)throw new Error("primary is always unique, do not declare it as unique");if(r.encrypted)throw new Error("primary cannot be encrypted");if("string"!==r.type)throw new Error("primary must have type: string")}if($.b().includes(n))throw new Error("top-level fieldname is not allowed: "+n)}),e&&t&&t.required&&t.required.includes(e))throw new Error("primary is always required, do not declare it as required");if(t.compoundIndexes){if(!Array.isArray(t.compoundIndexes))throw new Error("compoundIndexes must be an array");t.compoundIndexes.forEach(function(t){if(!Array.isArray(t))throw new Error("compoundIndexes must contain arrays");t.forEach(function(t){if("string"!=typeof t)throw new Error("compoundIndexes.array must contains strings")})})}o(t).reduce(function(t,e){return t.concat(e)},[]).filter(function(t,e,n){return n.indexOf(t)==e}).map(function(e){var n=g.a.get(t,"properties."+e.replace(".",".properties."));if(!n||"object"!=typeof n)throw new Error("given index("+e+") is not defined in schema");return{key:e,schemaObj:n}}).filter(function(t){return"string"!=t.schemaObj.type&&"integer"!=t.schemaObj.type}).forEach(function(t){throw new Error("given indexKey ("+t.key+") is not type:string but\n                "+t.schemaObj.type)})}function l(t){return w.i(_()(t))}function f(t){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&c(t),new E(k(t))}function h(t){return t instanceof E}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"RxSchema",function(){return E}),e.getEncryptedPaths=r,e.hasCrypt=i,e.getIndexes=o,e.getPrimary=a,e.checkFieldNameRegex=s,e.validateFieldsDeep=u,e.checkSchema=c,e.normalize=l,e.create=f,e.isInstanceOf=h;var p=n(1),d=n.n(p),v=n(2),m=n.n(v),y=n(50),g=n.n(y),b=n(14),_=n.n(b),w=n(11),$=n(136),x=n(351),E=function(){function t(e){var n=this;d()(this,t),this.jsonID=e,this.compoundIndexes=this.jsonID.compoundIndexes,this.indexes=o(this.jsonID),this.indexes.forEach(function(t){t.filter(function(t){return!n.jsonID.required.includes(t)}).filter(function(t){return!t.includes(".")}).forEach(function(t){return n.jsonID.required.push(t)})}),this.primaryPath=a(this.jsonID),this.primaryPath&&this.jsonID.required.push(this.primaryPath),this.jsonID.properties[this.primaryPath]||(this.jsonID.properties[this.primaryPath]={type:"string",minLength:1})}return t.prototype.getSchemaByObjectPath=function(t){return t=t.replace(/\./g,".properties."),t="properties."+t,t=w.g(t),g.a.get(this.jsonID,t)},t.prototype.validate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this._validators||(this._validators={}),!this._validators[e]){var n=""==e?this.jsonID:this.getSchemaByObjectPath(e);if(!n)throw new Error(JSON.stringify({name:"sub-schema not found",error:"does the field "+e+" exist in your schema?"}));this._validators[e]=x(n)}var r=this._validators[e];if(r(t))return t;throw new Error(JSON.stringify({name:"object does not match schema",errors:r.errors,schemaPath:e,obj:t,schema:this.jsonID}))},t.prototype.swapIdToPrimary=function(t){return"_id"==this.primaryPath||t[this.primaryPath]?t:(t[this.primaryPath]=t._id,delete t._id,t)},t.prototype.swapPrimaryToId=function(t){var e=this;if("_id"==this.primaryPath)return t;var n={};return Object.entries(t).forEach(function(t){var r=t[0]==e.primaryPath?"_id":t[0];n[r]=t[1]}),n},t.prototype.doKeyCompression=function(){return!this.jsonID.disableKeyCompression},m()(t,[{key:"version",get:function(){return this.jsonID.version}},{key:"previousVersions",get:function(){var t=0;return new Array(this.version).fill(0).map(function(){return t++})}},{key:"crypt",get:function(){return this._crypt||(this._crypt=i(this.jsonID)),this._crypt}},{key:"normalized",get:function(){return this._normalized||(this._normalized=l(this.jsonID)),this._normalized}},{key:"topLevelFields",get:function(){return Object.keys(this.normalized.properties)}},{key:"encryptedPaths",get:function(){return this._encryptedPaths||(this._encryptedPaths=r(this.jsonID)),this._encryptedPaths}},{key:"hash",get:function(){return this._hash||(this._hash=w.b(this.normalized)),this._hash}}]),t}(),k=function(t){return t=_()(t),t.additionalProperties=!1,t.hasOwnProperty("disableKeyCompression")||(t.disableKeyCompression=!1),t.compoundIndexes=t.compoundIndexes||[],t.required=t.required||[],t.properties._rev={type:"string",minLength:1},t.version=t.version||0,t}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(9),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(i.Subscriber);e.OuterSubscriber=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=n(138),a=n(137),s=n(89),u=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return r(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=t[t.length-1];s.isScheduler(r)?t.pop():r=null;var i=t.length;return i>1?new e(t,r):1===i?new o.ScalarObservable(t[0],r):new a.EmptyObservable(r)},e.dispatch=function(t){var e=t.array,n=t.index,r=t.count,i=t.subscriber;if(n>=r)return void i.complete();i.next(e[n]),i.closed||(t.index=n+1,this.schedule(t))},e.prototype._subscribe=function(t){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:n,index:0,count:r,subscriber:t});for(var o=0;o<r&&!t.closed;o++)t.next(n[o]);t.complete()},e}(i.Observable);e.ArrayObservable=u},function(t,e,n){"use strict";e.errorObject={e:{}}},function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}e.isScheduler=r},function(t,e,n){"use strict";function r(t,e,n,r){var h=new l.InnerSubscriber(t,n,r);if(h.closed)return null;if(e instanceof u.Observable)return e._isScalar?(h.next(e.value),h.complete(),null):e.subscribe(h);if(o.isArrayLike(e)){for(var p=0,d=e.length;p<d&&!h.closed;p++)h.next(e[p]);h.closed||h.complete()}else{if(a.isPromise(e))return e.then(function(t){h.closed||(h.next(t),h.complete())},function(t){return h.error(t)}).then(null,function(t){i.root.setTimeout(function(){throw t})}),h;if(e&&"function"==typeof e[c.iterator])for(var v=e[c.iterator]();;){var m=v.next();if(m.done){h.complete();break}if(h.next(m.value),h.closed)break}else if(e&&"function"==typeof e[f.observable]){var y=e[f.observable]();if("function"==typeof y.subscribe)return y.subscribe(new l.InnerSubscriber(t,n,r));h.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var g=s.isObject(e)?"an invalid object":"'"+e+"'",b="You provided "+g+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";h.error(new TypeError(b))}}return null}var i=n(19),o=n(219),a=n(222),s=n(221),u=n(0),c=n(140),l=n(498),f=n(141);e.subscribeToResult=r},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function r(t){return function(){var e=arguments.length;if(e){for(var n=[],r=-1;++r<e;)n[r]=arguments[r];return t.call(this,n)}return t.call(this,[])}}t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.EventedController=void 0;var i=n(53),o=r(i),a=n(70),s=r(a),u=n(12),c=r(u),l=n(1),f=r(l),h=n(2),p=r(h),d=n(16),v=r(d),m=n(15),y=r(m),g=n(265),b=r(g),_=n(584),w=r(_),$=n(52);n(94);n(20),(e.EventedController=function(t){function e(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(0,f.default)(this,e);var a=(0,v.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(r)));return a.constructor.EVENTS.forEach(function(t){var e=!0,n=!1,r=void 0;try{for(var i,u=(0,o.default)(t.ev.selector?(0,w.default)(t.ev.selector,a.$element[0]).entries():[a.$element[0]].entries());!(e=(i=u.next()).done);e=!0){var c=i.value,l=(0,s.default)(c,2),f=l[0],h=l[1];a._closurize(function(e,n,r,i){var o=function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];a._preEventedFunction(e,i[0],r),a[n].apply(a,[r].concat(i)),a._postEventedFunction(e,i[0],r,n)};b.default.on(r,t.ev.type,t.ev.delegate||o,t.ev.delegate?o:null)},a,t.ev,t.fn,h,f),a._digest()}}catch(t){n=!0,r=t}finally{try{!e&&u.return&&u.return()}finally{if(n)throw r}}}),a}return(0,y.default)(e,t),(0,p.default)(e,[{key:"_preEventedFunction",value:function(t,e,n){if(t.delegate){var r=(0,w.default)(t.delegate,this.$element[0]).entries(),i=!0,a=!1,u=void 0;try{for(var c,l=(0,o.default)(r);!(i=(c=l.next()).done);i=!0){var f=c.value,h=(0,s.default)(f,2),p=h[0],d=h[1];if(e.currentTarget.isEqualNode(d)){this.$scope.$n=p;break}}}catch(t){a=!0,u=t}finally{try{!i&&l.return&&l.return()}finally{if(a)throw u}}}else{var v=e.currentTarget,m=Array.prototype.slice.call(v.parentNode.children);this.$scope.$n=m.indexOf(v)}}},{key:"_postEventedFunction",value:function(t,e,n,r){this._emit(r,t,{ev:e,el:n,$n:this.$scope.$n})}},{key:"_emit",value:function(t,e,n){this.$scope.$emit("change",{scope:this,triggerFn:t,triggerTokens:e,ev:n.ev,el:n.el,$n:n.$n})}}]),e}($.Controller)).$inject=["$element","$timeout"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.NotImplementedError=e.DataRequestVoidError=e.DataReqeustTimeoutError=e.DataRequestError=e.LocalValidationError=e.RemoteValidationError=e.ValidationError=e.VoidError=e.PromiseFailureError=e.GenericError=e.Log=void 0;var i=n(12),o=r(i),a=n(16),s=r(a),u=n(15),c=r(u),l=n(1),f=r(l),h=n(2),p=r(h),d=n(583),v=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(d),m=(e.Log=function(){function t(){(0,f.default)(this,t)}return(0,p.default)(t,null,[{key:"create",value:function(t){var e=t.loggerName,n=t.rollbarToken,r=t.environment,i=t.npmPackageVersion;return new v.default({name:e,environment:r,level:"debug",codeVersion:i,rollbarToken:n,scrubFields:["password"]})}}]),t}(),e.GenericError=function(t){function e(){var t,n,r,i;(0,f.default)(this,e);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=r=(0,s.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(u))),r.name=r.constructor.name,r.level="info",i=n,(0,s.default)(r,i)}return(0,c.default)(e,t),e}(Error)),y=(e.PromiseFailureError=function(t){function e(){var t,n,r,i;(0,f.default)(this,e);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=r=(0,s.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(u))),r.message="The Promise in question got rejected",i=n,(0,s.default)(r,i)}return(0,c.default)(e,t),e}(m),e.VoidError=function(t){function e(){var t,n,r,i;(0,f.default)(this,e);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=r=(0,s.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(u))),r.message="Expected a non-void content, but got falsy/void content",r.level="error",i=n,(0,s.default)(r,i)}return(0,c.default)(e,t),e}(m),e.ValidationError=function(t){function e(){var t,n,r,i;(0,f.default)(this,e);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=r=(0,s.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(u))),r.message="Validation failed!",r.level="info",i=n,(0,s.default)(r,i)}return(0,c.default)(e,t),e}(m)),g=(e.RemoteValidationError=function(t){function e(){var t,n,r,i;(0,f.default)(this,e);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=r=(0,s.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(u))),r.level="error",i=n,(0,s.default)(r,i)}return(0,c.default)(e,t),e}(y),e.LocalValidationError=function(t){function e(){var t,n,r,i;(0,f.default)(this,e);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=r=(0,s.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(u))),r.level="info",i=n,(0,s.default)(r,i)}return(0,c.default)(e,t),e}(y),e.DataRequestError=function(t){function e(){var t,n,r,i;(0,f.default)(this,e);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=r=(0,s.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(u))),r.message="Request failed",i=n,(0,s.default)(r,i)}return(0,c.default)(e,t),e}(m));e.DataReqeustTimeoutError=function(t){function e(){var t,n,r,i;(0,f.default)(this,e);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=r=(0,s.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(u))),r.message="The Request timed out",i=n,(0,s.default)(r,i)}return(0,c.default)(e,t),e}(g),e.DataRequestVoidError=function(t){function e(){var t,n,r,i;(0,f.default)(this,e);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=r=(0,s.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(u))),r.message="The Request returned an unexpected empty response",i=n,(0,s.default)(r,i)}return(0,c.default)(e,t),e}(g),e.NotImplementedError=function(t){function e(t){(0,f.default)(this,e);var n=(0,s.default)(this,(e.__proto__||(0,o.default)(e)).call(this));return n.message="The method is to mandatory by design, but isn't implemented",n.message=t+": "+n.message,n}return(0,c.default)(e,t),e}(m)},function(t,e,n){t.exports={default:n(280),__esModule:!0}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(55),i=n(7)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(42),i=n(10).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(21),i=n(299),o=n(100),a=n(104)("IE_PROTO"),s=function(){},u=function(){var t,e=n(99)("iframe"),r=o.length;for(e.style.display="none",n(155).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(72),i=n(56),o=n(26),a=n(108),s=n(33),u=n(156),c=Object.getOwnPropertyDescriptor;e.f=n(25)?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(105)("keys"),i=n(75);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(10),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(106),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(42);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(10),i=n(4),o=n(71),a=n(110),s=n(23).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){e.f=n(7)},function(t,e,n){var r=n(97),i=n(7)("iterator"),o=n(43);t.exports=n(4).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(36),i=n(17),o=r(i,"Map");t.exports=o},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(433),o=n(434),a=n(435),s=n(436),u=n(437);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(t){var e=this.__data__=new i(t);this.size=e.size}var i=n(77),o=n(449),a=n(450),s=n(451),u=n(452),c=n(453);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=s,r.prototype.has=u,r.prototype.set=c,t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}t.exports=n},function(t,e,n){function r(t,e,n){var r=t[e];s.call(t,e)&&o(r,n)&&(void 0!==n||e in t)||i(t,e,n)}var i=n(117),o=n(124),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var i=n(182);t.exports=r},function(t,e,n){function r(t){var e=new t.constructor(t.byteLength);return new i(e).set(new i(t)),e}var i=n(175);t.exports=r},function(t,e,n){var r=n(193),i=r(Object.getPrototypeOf,Object);t.exports=i},function(t,e,n){var r=n(367),i=n(202),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(t){return null==t?[]:(t=Object(t),r(s(t),function(e){return a.call(t,e)}))}:i;t.exports=u},function(t,e){function n(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||i.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){function r(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||(s.test(t)||!a.test(t)||null!=e&&t in Object(e))}var i=n(18),o=n(129),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=r},function(t,e){function n(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}var r=Object.prototype;t.exports=n},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){var r=n(377),i=n(49),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){(function(t){var r=n(17),i=n(464),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,l=c||i;t.exports=l}).call(e,n(91)(t))},function(t,e,n){function r(t){if(!o(t))return!1;var e=i(t);return e==s||e==u||e==a||e==c}var i=n(46),o=n(28),a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";t.exports=r},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e,n){function r(t){return"symbol"==typeof t||o(t)&&i(t)==a}var i=n(46),o=n(49),a="[object Symbol]";t.exports=r},function(t,e,n){function r(t,e){return e=e||{},function(n,r,i){return o(n,t,e)}}function i(t,e){t=t||{},e=e||{};var n={};return Object.keys(e).forEach(function(t){n[t]=e[t]}),Object.keys(t).forEach(function(e){n[e]=t[e]}),n}function o(t,e,n){if("string"!=typeof e)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new a(e,n).match(t))}function a(t,e){if(!(this instanceof a))return new a(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==v.sep&&(t=t.split(v.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function s(){if(!this._made){var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,n),n=this.globParts=n.map(function(t){return t.split(E)}),this.debug(this.pattern,n),n=n.map(function(t,e,n){return t.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(t){return-1===t.indexOf(!1)}),this.debug(this.pattern,n),this.set=n}}function u(){var t=this.pattern,e=!1,n=this.options,r=0;if(!n.nonegate){for(var i=0,o=t.length;i<o&&"!"===t.charAt(i);i++)e=!e,r++;r&&(this.pattern=t.substr(r)),this.negate=e}}function c(t,e){if(e||(e=this instanceof a?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:y(t)}function l(t,e){function n(){if(i){switch(i){case"*":a+=_,s=!0;break;case"?":a+=b,s=!0;break;default:a+="\\"+i}y.debug("clearStateChar %j %j",i,a),i=!1}}if(t.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===t)return m;if(""===t)return"";for(var i,o,a="",s=!!r.nocase,u=!1,c=[],l=[],f=!1,h=-1,d=-1,v="."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=this,w=0,$=t.length;w<$&&(o=t.charAt(w));w++)if(this.debug("%s\t%s %s %j",t,w,a,o),u&&x[o])a+="\\"+o,u=!1;else switch(o){case"/":return!1;case"\\":n(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,w,a,o),f){this.debug("  in class"),"!"===o&&w===d+1&&(o="^"),a+=o;continue}y.debug("call clearStateChar %j",i),n(),i=o,r.noext&&n();continue;case"(":if(f){a+="(";continue}if(!i){a+="\\(";continue}c.push({type:i,start:w-1,reStart:a.length,open:g[i].open,close:g[i].close}),a+="!"===i?"(?:(?!(?:":"(?:",this.debug("plType %j %j",i,a),i=!1;continue;case")":if(f||!c.length){a+="\\)";continue}n(),s=!0;var E=c.pop();a+=E.close,"!"===E.type&&l.push(E),E.reEnd=a.length;continue;case"|":if(f||!c.length||u){a+="\\|",u=!1;continue}n(),a+="|";continue;case"[":if(n(),f){a+="\\"+o;continue}f=!0,d=w,h=a.length,a+=o;continue;case"]":if(w===d+1||!f){a+="\\"+o,u=!1;continue}if(f){var S=t.substring(d+1,w);try{RegExp("["+S+"]")}catch(t){var O=this.parse(S,k);a=a.substr(0,h)+"\\["+O[0]+"\\]",s=s||O[1],f=!1;continue}}s=!0,f=!1,a+=o;continue;default:n(),u?u=!1:!x[o]||"^"===o&&f||(a+="\\"),a+=o}for(f&&(S=t.substr(d+1),O=this.parse(S,k),a=a.substr(0,h)+"\\["+O[0],s=s||O[1]),E=c.pop();E;E=c.pop()){var A=a.slice(E.reStart+E.open.length);this.debug("setting tail",a,E),A=A.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(t,e,n){return n||(n="\\"),e+e+n+"|"}),this.debug("tail=%j\n   %s",A,A,E,a);var j="*"===E.type?_:"?"===E.type?b:"\\"+E.type;s=!0,a=a.slice(0,E.reStart)+j+"\\("+A}n(),u&&(a+="\\\\");var C=!1;switch(a.charAt(0)){case".":case"[":case"(":C=!0}for(var T=l.length-1;T>-1;T--){var P=l[T],M=a.slice(0,P.reStart),D=a.slice(P.reStart,P.reEnd-8),R=a.slice(P.reEnd-8,P.reEnd),I=a.slice(P.reEnd);R+=I;var N=M.split("(").length-1,L=I;for(w=0;w<N;w++)L=L.replace(/\)[+*?]?/,"");I=L;var B="";""===I&&e!==k&&(B="$");a=M+D+I+B+R}if(""!==a&&s&&(a="(?=.)"+a),C&&(a=v+a),e===k)return[a,s];if(!s)return p(t);var F=r.nocase?"i":"";try{var q=new RegExp("^"+a+"$",F)}catch(t){return new RegExp("$.")}return q._glob=t,q._src=a,q}function f(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?_:e.dot?w:$,r=e.nocase?"i":"",i=t.map(function(t){return t.map(function(t){return t===m?n:"string"==typeof t?d(t):t._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch(t){this.regexp=!1}return this.regexp}function h(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var n=this.options;"/"!==v.sep&&(t=t.split(v.sep).join("/")),t=t.split(E),this.debug(this.pattern,"split",t);var r=this.set;this.debug(this.pattern,"set",r);var i,o;for(o=t.length-1;o>=0&&!(i=t[o]);o--);for(o=0;o<r.length;o++){var a=r[o],s=t;n.matchBase&&1===a.length&&(s=[i]);if(this.matchOne(s,a,e))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}function p(t){return t.replace(/\\(.)/g,"$1")}function d(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}t.exports=o,o.Minimatch=a;var v={sep:"/"};try{v=n(24)}catch(t){}var m=o.GLOBSTAR=a.GLOBSTAR={},y=n(266),g={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},b="[^/]",_=b+"*?",w="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",$="(?:(?!(?:\\/|^)\\.).)*?",x=function(t){return t.split("").reduce(function(t,e){return t[e]=!0,t},{})}("().*{}+?[]^$\\!"),E=/\/+/;o.filter=r,o.defaults=function(t){if(!t||!Object.keys(t).length)return o;var e=o,n=function(n,r,o){return e.minimatch(n,r,i(t,o))};return n.Minimatch=function(n,r){return new e.Minimatch(n,i(t,r))},n},a.defaults=function(t){return t&&Object.keys(t).length?o.defaults(t).Minimatch:a},a.prototype.debug=function(){},a.prototype.make=s,a.prototype.parseNegate=u,o.braceExpand=function(t,e){return c(t,e)},a.prototype.braceExpand=c,a.prototype.parse=l;var k={};o.makeRe=function(t,e){return new a(t,e||{}).makeRe()},a.prototype.makeRe=f,o.match=function(t,e,n){n=n||{};var r=new a(e,n);return t=t.filter(function(t){return r.match(t)}),r.options.nonull&&!t.length&&t.push(e),t},a.prototype.match=h,a.prototype.matchOne=function(t,e,n){var r=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,o=0,a=t.length,s=e.length;i<a&&o<s;i++,o++){this.debug("matchOne loop");var u=e[o],c=t[i];if(this.debug(e,u,c),!1===u)return!1;if(u===m){this.debug("GLOBSTAR",[e,u,c]);var l=i,f=o+1;if(f===s){for(this.debug("** at the end");i<a;i++)if("."===t[i]||".."===t[i]||!r.dot&&"."===t[i].charAt(0))return!1;return!0}for(;l<a;){var h=t[l];if(this.debug("\nglobstar while",t,l,e,f,h),this.matchOne(t.slice(l),e.slice(f),n))return this.debug("globstar found match!",l,a,h),!0;if("."===h||".."===h||!r.dot&&"."===h.charAt(0)){this.debug("dot detected!",t,l,e,f);break}this.debug("globstar swallow a segment, and continue"),l++}return!(!n||(this.debug("\n>>> no match, partial?",t,l,e,f),l!==a))}var p;if("string"==typeof u?(p=r.nocase?c.toLowerCase()===u.toLowerCase():c===u,this.debug("string match",u,c,p)):(p=c.match(u),this.debug("pattern match",u,c,p)),!p)return!1}if(i===a&&o===s)return!0;if(i===a)return n;if(o===s){return i===a-1&&""===t[i]}throw new Error("wtf?")}},function(t,e,n){"use strict";(function(e){function n(t){return"/"===t.charAt(0)}function r(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,n=e.exec(t),r=n[1]||"",i=Boolean(r&&":"!==r.charAt(1));return Boolean(n[2]||i)}t.exports="win32"===e.platform?r:n,t.exports.posix=n,t.exports.win32=r}).call(e,n(3))},function(t,e,n){"use strict";function r(t,e,n){for(var r="",i=n-t.length;r.length<i;)r+=e;return r}function i(t,e,n){return r(t,e,n)+t}function o(t,e){if(t===e)return 0;t=a(t),e=a(e);var n=v(t),r=v(e);if(n-r!=0)return n-r;switch(typeof t){case"number":return t-e;case"boolean":return t<e?-1:1;case"string":return p(t,e)}return Array.isArray(t)?h(t,e):d(t,e)}function a(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-1/0||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var n=t.length;t=new Array(n);for(var r=0;r<n;r++)t[r]=a(e[r])}else{if(t instanceof Date)return t.toJSON();if(null!==t){t={};for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];void 0!==o&&(t[i]=a(o))}}}}return t}function s(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return m(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(t),n=e?t:Object.keys(t),r=-1,i=n.length,o="";if(e)for(;++r<i;)o+=u(n[r]);else for(;++r<i;){var a=n[r];o+=u(a)+u(t[a])}return o}return""}function u(t){return t=a(t),v(t)+b+s(t)+"\0"}function c(t,e){var n,r=e;if("1"===t[e])n=0,e++;else{var i="0"===t[e];e++;var o="",a=t.substring(e,e+g),s=parseInt(a,10)+y;for(i&&(s=-s),e+=g;;){var u=t[e];if("\0"===u)break;o+=u,e++}o=o.split("."),n=1===o.length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),i&&(n-=10),0!==s&&(n=parseFloat(n+"e"+s))}return{num:n,length:e-r}}function l(t,e){var n=t.pop();if(e.length){var r=e[e.length-1];n===r.element&&(e.pop(),r=e[e.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(n);else if(o===t.length-2){var a=t.pop();i[a]=n}else t.push(n)}}function f(t){for(var e=[],n=[],r=0;;){var i=t[r++];if("\0"!==i)switch(i){case"1":e.push(null);break;case"2":e.push("1"===t[r]),r++;break;case"3":var o=c(t,r);e.push(o.num),r+=o.length;break;case"4":for(var a="";;){var s=t[r];if("\0"===s)break;a+=s,r++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(a);break;case"5":var u={element:[],index:e.length};e.push(u.element),n.push(u);break;case"6":var f={element:{},index:e.length};e.push(f.element),n.push(f);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}else{if(1===e.length)return e.pop();l(e,n)}}}function h(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=o(t[r],e[r]);if(0!==i)return i}return t.length===e.length?0:t.length>e.length?1:-1}function p(t,e){return t===e?0:t>e?1:-1}function d(t,e){for(var n=Object.keys(t),r=Object.keys(e),i=Math.min(n.length,r.length),a=0;a<i;a++){var s=o(n[a],r[a]);if(0!==s)return s;if(0!==(s=o(t[n[a]],e[r[a]])))return s}return n.length===r.length?0:n.length>r.length?1:-1}function v(t){var e=["boolean","number","string","object"],n=e.indexOf(typeof t);return~n?null===t?1:Array.isArray(t)?5:n<3?n+2:n+3:Array.isArray(t)?5:void 0}function m(t){if(0===t)return"1";var e=t.toExponential().split(/e\+?/),n=parseInt(e[1],10),r=t<0,o=r?"0":"2",a=(r?-n:n)-y,s=i(a.toString(),"0",g);o+=b+s;var u=Math.abs(parseFloat(e[0]));r&&(u=10-u);var c=u.toFixed(20);return c=c.replace(/\.?0+$/,""),o+=b+c}Object.defineProperty(e,"__esModule",{value:!0});var y=-324,g=3,b="";e.collate=o,e.normalizeKey=a,e.toIndexableString=u,e.parseIndexableString=f},function(t,e,n){"use strict";(function(t){function r(t){return c.btoa(t)}function i(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.slice(e,n)}function o(t,e,n,r,o){(n>0||r<e.size)&&(e=i(e,n,r)),c.readAsArrayBuffer(e,function(e){t.append(e),o()})}function a(t,e,n,r,i){(n>0||r<e.length)&&(e=e.substring(n,r)),t.appendBinary(e),i()}function s(t,e){function n(){f(s)}function i(){var t=m.end(!0),n=r(t);e(n),m.destroy()}function s(){var e=v*p,r=e+p;v++,v<d?y(m,t,e,r,n):y(m,t,e,r,i)}var u="string"==typeof t,c=u?t.length:t.size,p=Math.min(h,c),d=Math.ceil(c/p),v=0,m=u?new l:new l.ArrayBuffer,y=u?a:o;s()}function u(t){return l.hash(t)}Object.defineProperty(e,"__esModule",{value:!0});var c=n(82),l=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n(226)),f=t.setImmediate||t.setTimeout,h=32768;e.binaryMd5=s,e.stringMd5=u}).call(e,n(8))},function(t,e,n){"use strict";function r(t){for(var e,n,r,i,o=t.rev_tree.slice();i=o.pop();){var a=i.ids,s=a[2],u=i.pos;if(s.length)for(var c=0,l=s.length;c<l;c++)o.push({pos:u+1,ids:s[c]});else{var f=!!a[1].deleted,h=a[0];e&&!(r!==f?r:n!==u?n<u:e<h)||(e=h,n=u,r=f)}}return n+"-"+e}function i(t,e){for(var n,r=t.slice();n=r.pop();)for(var i=n.pos,o=n.ids,a=o[2],s=e(0===a.length,i,o[0],n.ctx,o[1]),u=0,c=a.length;u<c;u++)r.push({pos:i+1,ids:a[u],ctx:s})}function o(t,e){return t.pos-e.pos}function a(t){var e=[];i(t,function(t,n,r,i,o){t&&e.push({rev:n+"-"+r,pos:n,opts:o})}),e.sort(o).reverse();for(var n=0,r=e.length;n<r;n++)delete e[n].pos;return e}function s(t){for(var e=r(t),n=a(t.rev_tree),i=[],o=0,s=n.length;o<s;o++){var u=n[o];u.rev===e||u.opts.deleted||i.push(u.rev)}return i}function u(t){var e=[];return i(t.rev_tree,function(t,n,r,i,o){"available"!==o.status||t||(e.push(n+"-"+r),o.status="missing")}),e}function c(t){for(var e,n=[],r=t.slice();e=r.pop();){var i=e.pos,o=e.ids,a=o[0],s=o[1],u=o[2],c=0===u.length,l=e.history?e.history.slice():[];l.push({id:a,opts:s}),c&&n.push({pos:i+1-l.length,ids:l});for(var f=0,h=u.length;f<h;f++)r.push({pos:i+1,ids:u[f],history:l})}return n.reverse()}function l(t,e){return t.pos-e.pos}function f(t,e,n){for(var r,i=0,o=t.length;i<o;)r=i+o>>>1,n(t[r],e)<0?i=r+1:o=r;return i}function h(t,e,n){var r=f(t,e,n);t.splice(r,0,e)}function p(t,e){for(var n,r,i=e,o=t.length;i<o;i++){var a=t[i],s=[a.id,a.opts,[]];r?(r[2].push(s),r=s):n=r=s}return n}function d(t,e){return t[0]<e[0]?-1:1}function v(t,e){for(var n=[{tree1:t,tree2:e}],r=!1;n.length>0;){var i=n.pop(),o=i.tree1,a=i.tree2;(o[1].status||a[1].status)&&(o[1].status="available"===o[1].status||"available"===a[1].status?"available":"missing");for(var s=0;s<a[2].length;s++)if(o[2][0]){for(var u=!1,c=0;c<o[2].length;c++)o[2][c][0]===a[2][s][0]&&(n.push({tree1:o[2][c],tree2:a[2][s]}),u=!0);u||(r="new_branch",h(o[2],a[2][s],d))}else r="new_leaf",o[2][0]=a[2][s]}return{conflicts:r,tree:t}}function m(t,e,n){var r,i=[],o=!1,a=!1;if(!t.length)return{tree:[e],conflicts:"new_leaf"};for(var s=0,u=t.length;s<u;s++){var c=t[s];if(c.pos===e.pos&&c.ids[0]===e.ids[0])r=v(c.ids,e.ids),i.push({pos:c.pos,ids:r.tree}),o=o||r.conflicts,a=!0;else if(!0!==n){var f=c.pos<e.pos?c:e,h=c.pos<e.pos?e:c,p=h.pos-f.pos,d=[],m=[];for(m.push({ids:f.ids,diff:p,parent:null,parentIdx:null});m.length>0;){var y=m.pop();if(0!==y.diff)for(var g=y.ids[2],b=0,_=g.length;b<_;b++)m.push({ids:g[b],diff:y.diff-1,parent:y.ids,parentIdx:b});else y.ids[0]===h.ids[0]&&d.push(y)}var w=d[0];w?(r=v(w.ids,h.ids),w.parent[2][w.parentIdx]=r.tree,i.push({pos:f.pos,ids:f.ids}),o=o||r.conflicts,a=!0):i.push(c)}else i.push(c)}return a||i.push(e),i.sort(l),{tree:i,conflicts:o||"internal_node"}}function y(t,e){for(var n,r,o=c(t),a=0,s=o.length;a<s;a++){var u,l=o[a],f=l.ids;if(f.length>e){n||(n={});var h=f.length-e;u={pos:l.pos+h,ids:p(f,h)};for(var d=0;d<h;d++){var v=l.pos+d+"-"+f[d].id;n[v]=!0}}else u={pos:l.pos,ids:p(f,0)};r=r?m(r,u,!0).tree:[u]}return n&&i(r,function(t,e,r){delete n[e+"-"+r]}),{tree:r,revs:n?Object.keys(n):[]}}function g(t,e,n){var r=m(t,e),i=y(r.tree,n);return{tree:i.tree,stemmedRevs:i.revs,conflicts:r.conflicts}}function b(t,e){for(var n,r=t.slice(),i=e.split("-"),o=parseInt(i[0],10),a=i[1];n=r.pop();){if(n.pos===o&&n.ids[0]===a)return!0;for(var s=n.ids[2],u=0,c=s.length;u<c;u++)r.push({pos:n.pos+1,ids:s[u]})}return!1}function _(t){return t.ids}function w(t,e){e||(e=r(t));for(var n,i=e.substring(e.indexOf("-")+1),o=t.rev_tree.map(_);n=o.pop();){if(n[0]===i)return!!n[1].deleted;o=o.concat(n[2])}}function $(t){return/^_local/.test(t)}function x(t,e){for(var n,r=e.rev_tree.slice();n=r.pop();){var i=n.pos,o=n.ids,a=o[0],s=o[1],u=o[2],c=0===u.length,l=n.history?n.history.slice():[];if(l.push({id:a,pos:i,opts:s}),c)for(var f=0,h=l.length;f<h;f++){var p=l[f],d=p.pos+"-"+p.id;if(d===t)return i+"-"+a}for(var v=0,m=u.length;v<m;v++)r.push({pos:i+1,ids:u[v],history:l})}throw new Error("Unable to resolve latest revision for id "+e.id+", rev "+t)}Object.defineProperty(e,"__esModule",{value:!0}),e.collectConflicts=s,e.collectLeaves=a,e.compactTree=u,e.isDeleted=w,e.isLocalId=$,e.merge=g,e.revExists=b,e.rootToLeaf=c,e.traverseRevTree=i,e.winningRev=r,e.latest=x},function(t,e,n){"use strict";function r(t,e){for(var n=t,r=0,i=e.length;r<i;r++){if(!(n=n[e[r]]))break}return n}function i(t,e,n){for(var r=0,i=e.length;r<i-1;r++){t=t[e[r]]={}}t[e[i-1]]=n}function o(t,e){return t<e?-1:t>e?1:0}function a(t){for(var e=[],n="",r=0,i=t.length;r<i;r++){var o=t[r];"."===o?r>0&&"\\"===t[r-1]?n=n.substring(0,n.length-1)+".":(e.push(n),n=""):n+=o}return e.push(n),e}function s(t){return D.indexOf(t)>-1}function u(t){return Object.keys(t)[0]}function c(t){return t[u(t)]}function l(t){var e={};return t.forEach(function(t){Object.keys(t).forEach(function(n){var r=t[n];if("object"!=typeof r&&(r={$eq:r}),s(n))r instanceof Array?e[n]=r.map(function(t){return l([t])}):e[n]=l([r]);else{var i=e[n]=e[n]||{};Object.keys(r).forEach(function(t){var e=r[t];return"$gt"===t||"$gte"===t?f(t,e,i):"$lt"===t||"$lte"===t?h(t,e,i):"$ne"===t?p(e,i):"$eq"===t?d(e,i):void(i[t]=e)})}})}),e}function f(t,e,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===t?e>n.$gte&&(n.$gte=e):e>=n.$gte&&(delete n.$gte,n.$gt=e):void 0!==n.$gt?"$gte"===t?e>n.$gt&&(delete n.$gt,n.$gte=e):e>n.$gt&&(n.$gt=e):n[t]=e)}function h(t,e,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===t?e<n.$lte&&(n.$lte=e):e<=n.$lte&&(delete n.$lte,n.$lt=e):void 0!==n.$lt?"$lte"===t?e<n.$lt&&(delete n.$lt,n.$lte=e):e<n.$lt&&(n.$lt=e):n[t]=e)}function p(t,e){"$ne"in e?e.$ne.push(t):e.$ne=[t]}function d(t,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=t}function v(t){var e=P.clone(t),n=!1;"$and"in e&&(e=l(e.$and),n=!0),["$or","$nor"].forEach(function(t){t in e&&e[t].forEach(function(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var r=e[n],i=t[r];"object"==typeof i&&null!==i||(t[r]={$eq:i})}})}),"$not"in e&&(e.$not=l([e.$not]));for(var r=Object.keys(e),i=0;i<r.length;i++){var o=r[i],a=e[o];"object"!=typeof a||null===a?a={$eq:a}:"$ne"in a&&!n&&(a.$ne=[a.$ne]),e[o]=a}return e}function m(t){function e(e){return t.map(function(t){var n=u(t),i=a(n);return r(e,i)})}return function(t,n){var r=e(t.doc),i=e(n.doc),a=M.collate(r,i);return 0!==a?a:o(t.doc._id,n.doc._id)}}function y(t,e,n){if(t=t.filter(function(t){return g(t.doc,e.selector,n)}),e.sort){var r=m(e.sort);t=t.sort(r),"string"!=typeof e.sort[0]&&"desc"===c(e.sort[0])&&(t=t.reverse())}if("limit"in e||"skip"in e){var i=e.skip||0,o=("limit"in e?e.limit:t.length)+i;t=t.slice(i,o)}return t}function g(t,e,n){return n.every(function(n){if(b(t))return!1;var i=e[n],o=a(n),u=r(t,o);return s(n)?w(n,i,t):_(i,t,o,u)})}function b(t){return/^_design\//.test(t._id)}function _(t,e,n,r){return!t||Object.keys(t).every(function(i){var o=t[i];return $(i,e,o,n,r)})}function w(t,e,n){return"$or"===t?e.some(function(t){return g(n,t,Object.keys(t))}):"$not"===t?!g(n,e,Object.keys(e)):!e.find(function(t){return g(n,t,Object.keys(t))})}function $(t,e,n,r,i){if(!R[t])throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type or $all');return R[t](e,n,r,i)}function x(t){return void 0!==t&&null!==t}function E(t){return void 0!==t}function k(t,e){var n=e[0],r=e[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(t,10)===t&&t%n===r}function S(t,e){return e.some(function(e){return t instanceof Array?t.indexOf(e)>-1:t===e})}function O(t,e){return e.every(function(e){return t.indexOf(e)>-1})}function A(t,e){return t.length===e}function j(t,e){return new RegExp(e).test(t)}function C(t,e){switch(e){case"null":return null===t;case"boolean":return"boolean"==typeof t;case"number":return"number"==typeof t;case"string":return"string"==typeof t;case"array":return t instanceof Array;case"object":return"[object Object]"==={}.toString.call(t)}throw new Error(e+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}function T(t,e){if("object"!=typeof e)throw"Selector error: expected a JSON object";e=v(e);var n={doc:t},r=y([n],{selector:e},Object.keys(e));return r&&1===r.length}Object.defineProperty(e,"__esModule",{value:!0});var P=n(29),M=n(132),D=["$or","$nor","$not"],R={$elemMatch:function(t,e,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.some(function(t){return g(t,e,Object.keys(e))}):r.some(function(r){return _(e,t,n,r)})))},$eq:function(t,e,n,r){return E(r)&&0===M.collate(r,e)},$gte:function(t,e,n,r){return E(r)&&M.collate(r,e)>=0},$gt:function(t,e,n,r){return E(r)&&M.collate(r,e)>0},$lte:function(t,e,n,r){return E(r)&&M.collate(r,e)<=0},$lt:function(t,e,n,r){return E(r)&&M.collate(r,e)<0},$exists:function(t,e,n,r){return e?E(r):!E(r)},$mod:function(t,e,n,r){return x(r)&&k(r,e)},$ne:function(t,e,n,r){return e.every(function(t){return 0!==M.collate(r,t)})},$in:function(t,e,n,r){return x(r)&&S(r,e)},$nin:function(t,e,n,r){return x(r)&&!S(r,e)},$size:function(t,e,n,r){return x(r)&&A(r,e)},$all:function(t,e,n,r){return Array.isArray(r)&&O(r,e)},$regex:function(t,e,n,r){return x(r)&&j(r,e)},$type:function(t,e,n,r){return C(r,e)}};e.massageSelector=v,e.matchesSelector=T,e.filterInMemoryFields=y,e.createFieldSorter=m,e.rowFilter=g,e.isCombinationalField=s,e.getKey=u,e.getValue=c,e.getFieldFromDoc=r,e.setFieldInDoc=i,e.compare=o,e.parseField=a},function(t,e,n){"use strict";function r(t,e){if(e[t.schema.primaryPath].startsWith("_design"))return null;var n=new w(t,e);return n.prepare(),n}function i(){if(!$){var t=["deleted","synced"],e=new w,n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(Object.getPrototypeOf(e));$=[].concat(n,r,t)}return $}e.a=r,e.b=i;var o=n(6),a=n.n(o),s=n(5),u=n.n(s),c=n(1),l=n.n(c),f=n(2),h=n.n(f),p=n(14),d=n.n(p),v=n(50),m=n.n(v),y=n(169),g=n.n(y),b=n(11),_=n(64),w=function(){function t(e,n){l()(this,t),this.collection=e,this._dataSync$=new b.a.BehaviorSubject(d()(n)),this._data=d()(n),this._synced$=new b.a.BehaviorSubject(!0),this._deleted$=new b.a.BehaviorSubject(!1)}return t.prototype.prepare=function(){this._defineGetterSetter(this,"")},t.prototype.getPrimaryPath=function(){return this.collection.schema.primaryPath},t.prototype.getPrimary=function(){return this._data[this.getPrimaryPath()]},t.prototype.getRevision=function(){return this._data._rev},t.prototype.resync=function(){this._synced$.getValue()||(this._data=d()(this._dataSync$.getValue()),this._synced$.next(!0))},t.prototype._handleChangeEvent=function(t){if(t.data.doc==this.getPrimary())switch(t.data.op){case"INSERT":break;case"UPDATE":var e=d()(t.data.v);delete e._ext;var n=this._dataSync$.getValue(),r=this._data;g()(n,r)?(this._data=e,1!=this._synced$.getValue()&&this._synced$.next(!0)):(0!=this._synced$.getValue()&&this._synced$.next(!1),this._data._rev=e._rev),this._dataSync$.next(d()(e));break;case"REMOVE":this.collection._docCache.delete(this.getPrimary()),this._deleted$.next(!0)}},t.prototype.$emit=function(t){return this.collection.$emit(t)},t.prototype.get$=function(t){if(t.includes(".item."))throw new Error("cannot get observable of in-array fields because order cannot be guessed: "+t);if(!this.collection.schema.getSchemaByObjectPath(t))throw new Error("cannot observe a non-existed field ("+t+")");return this._dataSync$.map(function(e){return m.a.get(e,t)}).distinctUntilChanged().asObservable()},t.prototype.populate=function(){function t(t,n){return e.apply(this,arguments)}var e=u()(a.a.mark(function t(e,n){var r,i,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.collection.schema.getSchemaByObjectPath(e),i=this.get(e),r){t.next=4;break}throw new Error("cannot populate a non-existed field ("+e+")");case 4:if(r.ref){t.next=6;break}throw new Error("cannot populate because path has no ref ("+e+")");case 6:if(o=this.collection.database.collections[r.ref]){t.next=9;break}throw new Error("ref-collection ("+r.ref+") not in database");case 9:if("array"!=r.type){t.next=13;break}return t.abrupt("return",Promise.all(i.map(function(t){return o.findOne(t).exec()})));case 13:return t.next=15,o.findOne(i).exec();case 15:return t.abrupt("return",t.sent);case 16:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.get=function(t){if(this._data){if("string"!=typeof t)throw new TypeError("RxDocument.get(): objPath must be a string");var e=m.a.get(this._data,t);return"object"!=typeof(e=d()(e))||Array.isArray(e)?e:(this._defineGetterSetter(e,t),e)}},t.prototype._defineGetterSetter=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.collection.schema.getSchemaByObjectPath(n);r.properties&&(r=r.properties),Object.keys(r).forEach(function(r){var i=b.g(n+"."+r);t.__defineGetter__(r,function(){return e.get(i)}),Object.defineProperty(t,r+"$",{get:function(){return e.get$(i)},enumerable:!1,configurable:!1}),Object.defineProperty(t,r+"_",{get:function(){return e.populate(i)},enumerable:!1,configurable:!1}),t.__defineSetter__(r,function(t){return e.set(i,t)})})},t.prototype.toJSON=function(){return d()(this._data)},t.prototype.set=function(t,e){if("string"!=typeof t)throw new TypeError("RxDocument.set(): objPath must be a string");if(t==this.getPrimaryPath())throw new Error("RxDocument.set(): primary-key ("+this.getPrimaryPath()+")\n                cannot be modified");if(!Object.is(this.get(t),e)){var n=t.split(".");n.pop();var r=n.join(".");if(void 0===m.a.get(this._data,r))throw new Error("cannot set childpath "+t+"\n                 when rootPath "+r+" not selected");return this.collection.schema.validate(e,t),m.a.set(this._data,t,e),this}},t.prototype.save=function(){function t(){return e.apply(this,arguments)}var e=u()(a.a.mark(function t(){var e,n,r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._deleted$.getValue()){t.next=2;break}throw new Error("RxDocument.save(): cant save deleted document");case 2:if(!g()(this._data,this._dataSync$.getValue())){t.next=5;break}return this._synced$.next(!0),t.abrupt("return",!1);case 5:return t.next=7,this.collection._runHooks("pre","save",this);case 7:return this.collection.schema.validate(this._data),t.next=10,this.collection._pouchPut(d()(this._data));case 10:if(e=t.sent,e.ok){t.next=13;break}throw new Error("RxDocument.save(): error "+JSON.stringify(e));case 13:return n=d()(this._data),n._rev=e.rev,this._data=n,t.next=18,this.collection._runHooks("post","save",this);case 18:return this._synced$.next(!0),this._dataSync$.next(d()(n)),r=_.b("UPDATE",this.collection.database,this.collection,this,n),this.$emit(r),t.abrupt("return",!0);case 23:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.remove=function(){function t(){return e.apply(this,arguments)}var e=u()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.deleted){t.next=2;break}throw new Error("RxDocument.remove(): Document is already deleted");case 2:return t.next=4,this.collection._runHooks("pre","remove",this);case 4:return t.next=6,this.collection.pouch.remove(this.getPrimary(),this._data._rev);case 6:return this.$emit(_.b("REMOVE",this.collection.database,this.collection,this,this._data)),t.next=9,this.collection._runHooks("post","remove",this);case 9:return t.next=11,b.h(0);case 11:return t.abrupt("return");case 12:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.destroy=function(){},h()(t,[{key:"deleted$",get:function(){return this._deleted$.asObservable()}},{key:"deleted",get:function(){return this._deleted$.getValue()}},{key:"synced$",get:function(){return this._synced$.asObservable().distinctUntilChanged()}},{key:"synced",get:function(){return this._synced$.getValue()}},{key:"$",get:function(){return this._dataSync$.asObservable()}}]),t}(),$=void 0},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=function(t){function e(e){t.call(this),this.scheduler=e}return r(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(i.Observable);e.EmptyObservable=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.done,n=t.value,r=t.subscriber;if(e)return void r.complete();r.next(n),r.closed||(t.done=!0,this.schedule(t))},e.prototype._subscribe=function(t){var n=this.value,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(i.Observable);e.ScalarObservable=o},function(t,e,n){"use strict";var r=n(217),i=n(218);e.async=new i.AsyncScheduler(r.AsyncAction)},function(t,e,n){"use strict";function r(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=t.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var a=i[o];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}var i=n(19);e.symbolIteratorPonyfill=r,e.iterator=r(i.root),e.$$iterator=e.iterator},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var i=n(19);e.getSymbolObservable=r,e.observable=r(i.root),e.$$observable=e.observable},function(t,e,n){"use strict";var r=n(19),i=r.root.Symbol;e.rxSubscriber="function"==typeof i&&"function"==typeof i.for?i.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ObjectUnsubscribedError=i},function(t,e,n){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e,n){"use strict";function r(t){return"function"==typeof t}e.isFunction=r},function(t,e,n){"use strict";function r(){try{return o.apply(this,arguments)}catch(t){return a.errorObject.e=t,a.errorObject}}function i(t){return o=t,r}var o,a=n(88);e.tryCatch=i},function(t,e,n){function r(t,e){for(var n in t)e[n]=t[n]}function i(t,e,n){return a(t,e,n)}var o=n(39),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=o:(r(o,e),e.Buffer=i),r(a,i),i.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return a(t,e,n)},i.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=a(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return a(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},function(t,e,n){"use strict";(function(e,r){function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){S(e,t)}}function o(t){return M.from(t)}function a(t){return"[object Uint8Array]"===Object.prototype.toString.call(t)||M.isBuffer(t)}function s(){}function u(t,e){A=A||n(38),t=t||{},this.objectMode=!!t.objectMode,e instanceof A&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){y(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function c(t){if(A=A||n(38),!(R.call(c,this)||this instanceof A))return new c(t);this._writableState=new u(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),P.call(this)}function l(t,e){var n=new Error("write after end");t.emit("error",n),O(e,n)}function f(t,e,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),O(r,o),i=!1),i}function h(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=M.from(e,n)),e}function p(t,e,n,r,i,o){if(!n){var a=h(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else d(t,e,!1,s,r,i,o);return u}function d(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function v(t,e,n,r,i){--e.pendingcb,n?(O(i,r),O(E,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),E(t,e))}function m(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function y(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(m(n),e)v(t,n,r,e,i);else{var o=w(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||_(t,n),r?j(g,t,n,o,i):g(t,n,o,i)}}function g(t,e,n,r){n||b(t,e),e.pendingcb--,r(),E(t,e)}function b(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function _(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,o=new Array(r),a=e.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)o[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;o.allBuffers=u,d(t,e,!0,e.length,o,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new i(e)}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(d(t,e,!1,e.objectMode?1:c.length,c,l,f),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function w(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function $(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),E(t,e)})}function x(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,O($,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function E(t,e){var n=w(e);return n&&(x(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}function k(t,e,n){e.ending=!0,E(t,e),n&&(e.finished?O(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function S(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}var O=n(83);t.exports=c;var A,j=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:O;c.WritableState=u;var C=n(59);C.inherits=n(13);var T={deprecate:n(579)},P=n(230),M=n(147).Buffer,D=n(229);C.inherits(c,P),u.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(u.prototype,"buffer",{get:T.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}();var R;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(R=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(t){return!!R.call(this,t)||t&&t._writableState instanceof u}})):R=function(t){return t instanceof this},c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},c.prototype.write=function(t,e,n){var r=this._writableState,i=!1,u=a(t)&&!r.objectMode;return u&&!M.isBuffer(t)&&(t=o(t)),"function"==typeof e&&(n=e,e=null),u?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=s),r.ended?l(this,n):(u||f(this,r,t,n))&&(r.pendingcb++,i=p(this,r,u,t,e,n)),i},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||_(this,t))},c.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},c.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},c.prototype._writev=null,c.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||k(this,r,n)},Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),c.prototype.destroy=D.destroy,c.prototype._undestroy=D.undestroy,c.prototype._destroy=function(t,e){this.end(),e(t)}}).call(e,n(3),n(232).setImmediate)},function(t,e,n){e=t.exports=n(227),e.Stream=e,e.Readable=e,e.Writable=n(148),e.Duplex=n(38),e.Transform=n(228),e.PassThrough=n(570)},function(t,e,n){n(241),t.exports="ngRoute"},function(t,e,n){n(242),t.exports=angular},function(t,e,n){t.exports={default:n(276),__esModule:!0}},function(t,e,n){t.exports={default:n(282),__esModule:!0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(260),o=r(i),a=n(259),s=r(a),u="function"==typeof s.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===u(o.default)?function(t){return void 0===t?"undefined":u(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":void 0===t?"undefined":u(t)}},function(t,e,n){t.exports=n(10).document&&document.documentElement},function(t,e,n){t.exports=!n(25)&&!n(41)(function(){return 7!=Object.defineProperty(n(99)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(55);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(43),i=n(7)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(21);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){"use strict";var r=n(71),i=n(22),o=n(166),a=n(34),s=n(33),u=n(43),c=n(293),l=n(74),f=n(164),h=n(7)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,v,m,y,g){c(n,e,v);var b,_,w,$=function(t){if(!p&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",E="values"==m,k=!1,S=t.prototype,O=S[h]||S["@@iterator"]||m&&S[m],A=O||$(m),j=m?E?$("entries"):A:void 0,C="Array"==e?S.entries||O:O;if(C&&(w=f(C.call(new t)))!==Object.prototype&&(l(w,x,!0),r||s(w,h)||a(w,h,d)),E&&O&&"values"!==O.name&&(k=!0,A=function(){return O.call(this)}),r&&!g||!p&&!k&&S[h]||a(S,h,A),u[e]=A,u[x]=d,m)if(b={values:E?A:$("values"),keys:y?A:$("keys"),entries:j},g)for(_ in b)_ in S||o(S,_,b[_]);else i(i.P+i.F*(p||k),e,b);return b}},function(t,e,n){var r=n(7)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){var r=n(26),i=n(163).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(t,e,n){var r=n(165),i=n(100).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(33),i=n(57),o=n(104)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(33),i=n(26),o=n(287)(!1),a=n(104)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){t.exports=n(34)},function(t,e,n){var r,i,o,a=n(40),s=n(291),u=n(155),c=n(99),l=n(10),f=l.process,h=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,v=0,m={},y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},g=function(t){y.call(t.data)};h&&p||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++v]=function(){s("function"==typeof t?t:Function(t),e)},r(v),v},p=function(t){delete m[t]},"process"==n(55)(f)?r=function(t){f.nextTick(a(y,t,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=g,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",g,!1)):r="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:h,clear:p}},function(t,e){},function(t,e,n){function r(t){return null===t||void 0===t}function i(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}function o(t,e,n){var o,l;if(r(t)||r(e))return!1;if(t.prototype!==e.prototype)return!1;if(u(t))return!!u(e)&&(t=a.call(t),e=a.call(e),c(t,e,n));if(i(t)){if(!i(e))return!1;if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}try{var f=s(t),h=s(e)}catch(t){return!1}if(f.length!=h.length)return!1;for(f.sort(),h.sort(),o=f.length-1;o>=0;o--)if(f[o]!=h[o])return!1;for(o=f.length-1;o>=0;o--)if(l=f[o],!c(t[l],e[l],n))return!1;return typeof t==typeof e}var a=Array.prototype.slice,s=n(331),u=n(330),c=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:o(t,e,n))}},function(t,e){},function(t,e){},function(t,e,n){(function(t){function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function i(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}function o(t,e){return t.localeCompare(e)}function a(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(s))}function s(t){var e=null;if("/**"===t.slice(-3)){var n=t.replace(/(\/\*\*)+$/,"");e=new y(n,{dot:!0})}return{matcher:new y(t,{dot:!0}),gmatcher:e}}function u(e,n,i){if(i||(i={}),i.matchBase&&-1===n.indexOf("/")){if(i.noglobstar)throw new Error("base matching requires globstar");n="**/"+n}e.silent=!!i.silent,e.pattern=n,e.strict=!1!==i.strict,e.realpath=!!i.realpath,e.realpathCache=i.realpathCache||Object.create(null),e.follow=!!i.follow,e.dot=!!i.dot,e.mark=!!i.mark,e.nodir=!!i.nodir,e.nodir&&(e.mark=!0),e.sync=!!i.sync,e.nounique=!!i.nounique,e.nonull=!!i.nonull,e.nosort=!!i.nosort,e.nocase=!!i.nocase,e.stat=!!i.stat,e.noprocess=!!i.noprocess,e.maxLength=i.maxLength||1/0,e.cache=i.cache||Object.create(null),e.statCache=i.statCache||Object.create(null),e.symlinks=i.symlinks||Object.create(null),a(e,i),e.changedCwd=!1;var o=t.cwd();r(i,"cwd")?(e.cwd=i.cwd,e.changedCwd=d.resolve(i.cwd)!==o):e.cwd=o,e.root=i.root||d.resolve(e.cwd,"/"),e.root=d.resolve(e.root),"win32"===t.platform&&(e.root=e.root.replace(/\\/g,"/")),e.nomount=!!i.nomount,i.nonegate=!0,i.nocomment=!0,e.minimatch=new y(n,i),e.options=e.minimatch.options}function c(t){for(var e=t.nounique,n=e?[]:Object.create(null),r=0,a=t.matches.length;r<a;r++){var s=t.matches[r];if(s&&0!==Object.keys(s).length){var u=Object.keys(s);e?n.push.apply(n,u):u.forEach(function(t){n[t]=!0})}else if(t.nonull){var c=t.minimatch.globSet[r];e?n.push(c):n[c]=!0}}if(e||(n=Object.keys(n)),t.nosort||(n=n.sort(t.nocase?i:o)),t.mark){for(var r=0;r<n.length;r++)n[r]=t._mark(n[r]);t.nodir&&(n=n.filter(function(t){return!/\/$/.test(t)}))}t.ignore.length&&(n=n.filter(function(e){return!h(t,e)})),t.found=n}function l(t,e){var n=f(t,e),r=t.cache[n],i=e;if(r){var o="DIR"===r||Array.isArray(r),a="/"===e.slice(-1);if(o&&!a?i+="/":!o&&a&&(i=i.slice(0,-1)),i!==e){var s=f(t,i);t.statCache[s]=t.statCache[n],t.cache[s]=t.cache[n]}}return i}function f(t,e){return"/"===e.charAt(0)?d.join(t.root,e):m(e)||""===e?e:t.changedCwd?d.resolve(t.cwd,e):d.resolve(e)}function h(t,e){return!!t.ignore.length&&t.ignore.some(function(t){return t.matcher.match(e)||!(!t.gmatcher||!t.gmatcher.match(e))})}function p(t,e){return!!t.ignore.length&&t.ignore.some(function(t){return!(!t.gmatcher||!t.gmatcher.match(e))})}e.alphasort=o,e.alphasorti=i,e.setopts=u,e.ownProp=r,e.makeAbs=f,e.finish=c,e.mark=l,e.isIgnored=h,e.childrenIgnored=p;var d=n(24),v=n(130),m=n(131),y=v.Minimatch}).call(e,n(3))},function(t,e,n){(function(e){function r(t,e,n){if("function"==typeof e&&(n=e,e={}),e||(e={}),e.sync){if(n)throw new TypeError("callback provided to sync glob");return d(t,e)}return new o(t,e,n)}function i(t,e){if(null===e||"object"!=typeof e)return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}function o(t,e,n){function r(){--a._processing<=0&&a._finish()}if("function"==typeof e&&(n=e,e=null),e&&e.sync){if(n)throw new TypeError("callback provided to sync glob");return new $(t,e)}if(!(this instanceof o))return new o(t,e,n);m(this,t,e),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),"function"==typeof n&&(n=w(n),this.on("error",n),this.on("end",function(t){n(null,t)}));var a=this,i=this.minimatch.set.length;if(this._processing=0,this.matches=new Array(i),this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===i)return r();for(var s=0;s<i;s++)this._process(this.minimatch.set[s],s,!1,r)}function a(t,e,n){return function(r,i){r?t._readdirError(e,r,n):t._readdirEntries(e,i,n)}}t.exports=r;var s=n(30),u=n(130),c=(u.Minimatch,n(13)),l=n(35).EventEmitter,f=n(24),h=n(68),p=n(131),d=n(340),v=n(172),m=(v.alphasort,v.alphasorti,v.setopts),y=v.ownProp,g=n(349),b=(n(67),v.childrenIgnored),_=v.isIgnored,w=n(203);r.sync=d;var $=r.GlobSync=d.GlobSync;r.glob=r,r.hasMagic=function(t,e){var n=i({},e);n.noprocess=!0;var r=new o(t,n),a=r.minimatch.set;if(a.length>1)return!0;for(var s=0;s<a[0].length;s++)if("string"!=typeof a[0][s])return!0;return!1},r.Glob=o,c(o,l),o.prototype._finish=function(){if(h(this instanceof o),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();v.finish(this),this.emit("end",this.found)}},o.prototype._realpath=function(){function t(){0==--e&&n._finish()}if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var n=this,r=0;r<this.matches.length;r++)this._realpathSet(r,t)}},o.prototype._realpathSet=function(t,e){var n=this.matches[t];if(!n)return e();var r=Object.keys(n),i=this,o=r.length;if(0===o)return e();var a=this.matches[t]=Object.create(null);r.forEach(function(n,r){n=i._makeAbs(n),s.realpath(n,i.realpathCache,function(r,s){r?"stat"===r.syscall?a[n]=!0:i.emit("error",r):a[s]=!0,0==--o&&(i.matches[t]=a,e())})})},o.prototype._mark=function(t){return v.mark(this,t)},o.prototype._makeAbs=function(t){return v.makeAbs(this,t)},o.prototype.abort=function(){this.aborted=!0,this.emit("abort")},o.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},o.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var n=t[e];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<r.length;e++){var i=r[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},o.prototype._process=function(t,e,n,r){if(h(this instanceof o),h("function"==typeof r),!this.aborted){if(this._processing++,this.paused)return void this._processQueue.push([t,e,n,r]);for(var i=0;"string"==typeof t[i];)i++;var a;switch(i){case t.length:return void this._processSimple(t.join("/"),e,r);case 0:a=null;break;default:a=t.slice(0,i).join("/")}var s,c=t.slice(i);null===a?s=".":p(a)||p(t.join("/"))?(a&&p(a)||(a="/"+a),s=a):s=a;var l=this._makeAbs(s);if(b(this,s))return r();c[0]===u.GLOBSTAR?this._processGlobStar(a,s,l,c,e,n,r):this._processReaddir(a,s,l,c,e,n,r)}},o.prototype._processReaddir=function(t,e,n,r,i,o,a){var s=this;this._readdir(n,o,function(u,c){return s._processReaddir2(t,e,n,r,i,o,c,a)})},o.prototype._processReaddir2=function(t,e,n,r,i,o,a,s){if(!a)return s();for(var u=r[0],c=!!this.minimatch.negate,l=u._glob,h=this.dot||"."===l.charAt(0),p=[],d=0;d<a.length;d++){var v=a[d];if("."!==v.charAt(0)||h){var m;m=c&&!t?!v.match(u):v.match(u),m&&p.push(v)}}var y=p.length;if(0===y)return s();if(1===r.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var d=0;d<y;d++){var v=p[d];t&&(v="/"!==t?t+"/"+v:t+v),"/"!==v.charAt(0)||this.nomount||(v=f.join(this.root,v)),this._emitMatch(i,v)}return s()}r.shift();for(var d=0;d<y;d++){var v=p[d];t&&(v="/"!==t?t+"/"+v:t+v),this._process([v].concat(r),i,o,s)}s()},o.prototype._emitMatch=function(t,e){if(!this.aborted&&!this.matches[t][e]&&!_(this,e)){if(this.paused)return void this._emitQueue.push([t,e]);var n=this._makeAbs(e);if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.mark&&(e=this._mark(e)),this.matches[t][e]=!0;var i=this.statCache[n];i&&this.emit("stat",e,i),this.emit("match",e)}},o.prototype._readdirInGlobStar=function(t,e){function n(n,r){if(n)return e();var o=r.isSymbolicLink();i.symlinks[t]=o,o||r.isDirectory()?i._readdir(t,!1,e):(i.cache[t]="FILE",e())}if(!this.aborted){if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,i=this,o=g(r,n);o&&s.lstat(t,o)}},o.prototype._readdir=function(t,e,n){if(!this.aborted&&(n=g("readdir\0"+t+"\0"+e,n))){if(e&&!y(this.symlinks,t))return this._readdirInGlobStar(t,n);if(y(this.cache,t)){var r=this.cache[t];if(!r||"FILE"===r)return n();if(Array.isArray(r))return n(null,r)}s.readdir(t,a(this,t,n))}},o.prototype._readdirEntries=function(t,e,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var i=e[r];i="/"===t?t+i:t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,n(null,e)}},o.prototype._readdirError=function(t,e,n){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":this.cache[this._makeAbs(t)]="FILE";break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e)}return n()}},o.prototype._processGlobStar=function(t,e,n,r,i,o,a){var s=this;this._readdir(n,o,function(u,c){s._processGlobStar2(t,e,n,r,i,o,c,a)})},o.prototype._processGlobStar2=function(t,e,n,r,i,o,a,s){if(!a)return s();var u=r.slice(1),c=t?[t]:[],l=c.concat(u);this._process(l,i,!1,s);var f=this.symlinks[n],h=a.length;if(f&&o)return s();for(var p=0;p<h;p++){if("."!==a[p].charAt(0)||this.dot){var d=c.concat(a[p],u);this._process(d,i,!0,s);var v=c.concat(a[p],r);this._process(v,i,!0,s)}}s()},o.prototype._processSimple=function(t,e,n){var r=this;this._stat(t,function(i,o){r._processSimple2(t,e,i,o,n)})},o.prototype._processSimple2=function(t,n,r,i,o){if(this.matches[n]||(this.matches[n]=Object.create(null)),!i)return o();if(t&&p(t)&&!this.nomount){var a=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=f.join(this.root,t):(t=f.resolve(this.root,t),a&&(t+="/"))}"win32"===e.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(n,t),o()},o.prototype._stat=function(t,e){function n(n,i){if(i&&i.isSymbolicLink())return s.stat(r,function(n,o){n?c._stat2(t,r,null,i,e):c._stat2(t,r,n,o,e)});c._stat2(t,r,n,i,e)}var r=this._makeAbs(t),i="/"===t.slice(-1);if(t.length>this.maxLength)return e();if(!this.stat&&y(this.cache,r)){var o=this.cache[r];if(Array.isArray(o)&&(o="DIR"),!i||"DIR"===o)return e(null,o);if(i&&"FILE"===o)return e()}var a=this.statCache[r];if(void 0!==a){if(!1===a)return e(null,a);var u=a.isDirectory()?"DIR":"FILE";return i&&"FILE"===u?e():e(null,u,a)}var c=this,l=g("stat\0"+r,n);l&&s.lstat(r,l)},o.prototype._stat2=function(t,e,n,r,i){if(n)return this.statCache[e]=!1,i();var o="/"===t.slice(-1);if(this.statCache[e]=r,"/"===e.slice(-1)&&!r.isDirectory())return i(null,!1,r);var a=r.isDirectory()?"DIR":"FILE";return this.cache[e]=this.cache[e]||a,o&&"DIR"!==a?i():i(null,a,r)}}).call(e,n(3))},function(t,e,n){"use strict";(function(e){function n(){l=!0;for(var t,e,n=f.length;n;){for(e=f,f=[],t=-1;++t<n;)e[t]();n=f.length}l=!1}function r(t){1!==f.push(t)||l||i()}var i,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,s=new o(n),u=e.document.createTextNode("");s.observe(u,{characterData:!0}),i=function(){u.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,i=function(){c.port2.postMessage(0)}}var l,f=[];t.exports=r}).call(e,n(8))},function(t,e,n){var r=n(17),i=r.Uint8Array;t.exports=i},function(t,e,n){function r(t,e){var n=a(t),r=!n&&o(t),l=!n&&!r&&s(t),h=!n&&!r&&!l&&c(t),p=n||r||l||h,d=p?i(t.length,String):[],v=d.length;for(var m in t)!e&&!f.call(t,m)||p&&("length"==m||l&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,v))||d.push(m);return d}var i=n(393),o=n(125),a=n(18),s=n(126),u=n(121),c=n(200),l=Object.prototype,f=l.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=n},function(t,e){function n(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}t.exports=n},function(t,e,n){function r(t,e,n){var r=e(t);return o(t)?r:i(r,n(t))}var i=n(115),o=n(18);t.exports=r},function(t,e,n){function r(t,e,n,a,s){return t===e||(null==t||null==e||!o(t)&&!o(e)?t!==t&&e!==e:i(t,e,n,a,r,s))}var i=n(378),o=n(49);t.exports=r},function(t,e){function n(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}t.exports=n},function(t,e,n){var r=n(36),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){function r(t,e,n,r,c,l){var f=n&s,h=t.length,p=e.length;if(h!=p&&!(f&&p>h))return!1;var d=l.get(t);if(d&&l.get(e))return d==e;var v=-1,m=!0,y=n&u?new i:void 0;for(l.set(t,e),l.set(e,t);++v<h;){var g=t[v],b=e[v];if(r)var _=f?r(b,g,v,e,t,l):r(g,b,v,t,e,l);if(void 0!==_){if(_)continue;m=!1;break}if(y){if(!o(e,function(t,e){if(!a(y,e)&&(g===t||c(g,t,n,r,l)))return y.push(e)})){m=!1;break}}else if(g!==b&&!c(g,b,n,r,l)){m=!1;break}}return l.delete(t),l.delete(e),m}var i=n(361),o=n(368),a=n(397),s=1,u=2;t.exports=r},function(t,e,n){function r(t){return a(o(t,void 0,i),t+"")}var i=n(456),o=n(443),a=n(447);t.exports=r},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(8))},function(t,e,n){function r(t){return i(t,a,o)}var i=n(179),o=n(120),a=n(61);t.exports=r},function(t,e,n){function r(t){return i(t,a,o)}var i=n(179),o=n(188),a=n(201);t.exports=r},function(t,e,n){var r=n(115),i=n(119),o=n(120),a=n(202),s=Object.getOwnPropertySymbols,u=s?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=u},function(t,e,n){var r=n(357),i=n(112),o=n(359),a=n(360),s=n(362),u=n(46),c=n(195),l=c(r),f=c(i),h=c(o),p=c(a),d=c(s),v=u;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=v(new i)||o&&"[object Promise]"!=v(o.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,n){function r(t){return t===t&&!i(t)}var i=n(28);t.exports=r},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}t.exports=n},function(t,e){function n(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}t.exports=n},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e){function n(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var r=Function.prototype,i=r.toString;t.exports=n},function(t,e,n){function r(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}var i=n(79);t.exports=r},function(t,e,n){function r(t,e){return null!=t&&o(t,e,i)}var i=n(376),o=n(416);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t){return null!=t&&o(t.length)&&!i(t)}var i=n(127),o=n(128);t.exports=r},function(t,e,n){var r=n(381),i=n(395),o=n(441),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e,n){function r(t){return a(t)?i(t,!0):o(t)}var i=n(176),o=n(384),a=n(199);t.exports=r},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){function r(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function i(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}var o=n(233);t.exports=o(r),t.exports.strict=o(i),r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})})},function(t,e){!function(e){function n(t){return Math.floor(Math.random()*t)}function r(t,e){for(var r="",i=t.length;e--;){r+=t[n(i)]}return r}function i(t){t="string"==typeof t&&t.length>0?t:"abcdefghijklmnopqrstuvwxzy0123456789";var e=o.bind(o,t);return e.salt=function(){return t},e.create=i,e.gen=i,e}var o=function(t,e){return isNaN(e)?void 0:e<1?void 0:r(t,e)};o.gen=i,t.exports=i()}()},function(t,e,n){"use strict";function r(t,e){return new f(t,e)}e.a=r;var i=n(1),o=n.n(i),a=n(50),s=n.n(a),u=n(14),c=n.n(u),l=n(11),f=function(){function t(e,n){o()(this,t),this._password=e,this._schema=n}return t.prototype._encryptValue=function(t){return l.k(JSON.stringify(t),this._password)},t.prototype._decryptValue=function(t){var e=l.l(t,this._password);return JSON.parse(e)},t.prototype.encrypt=function(t){var e=this;return t=c()(t),this._password?(Object.keys(this._schema.encryptedPaths).map(function(n){var r=s.a.get(t,n),i=e._encryptValue(r);s.a.set(t,n,i)}),t):t},t.prototype.decrypt=function(t){var e=this;return t=c()(t),this._password?(Object.keys(this._schema.encryptedPaths).map(function(n){var r=s.a.get(t,n),i=e._decryptValue(r);s.a.set(t,n,i)}),t):t},t}()},function(t,e,n){"use strict";function r(t){return new h(t)}e.a=r;var i=n(1),o=n.n(i),a=n(2),s=n.n(a),u=n(50),c=(n.n(u),n(14)),l=n.n(c),f=n(11),h=function(){function t(e){o()(this,t),this.schema=e,this._table,this._reverseTable,this._fullTable}return t.prototype._compressObj=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r={};return"object"!=typeof t||null===t?t:Array.isArray(t)?t.map(function(t){return e._compressObj(t,f.g(n+".item"))}):(Object.keys(t).forEach(function(i){var o=t[i],a=f.g(n+"."+i),s=e.table[a]?e.table[a]:i,u=o;u=e._compressObj(o,a),r[s]=u}),r)},t.prototype.compress=function(t){return this.schema.doKeyCompression()?this._compressObj(t):l()(t)},t.prototype._decompressObj=function(t){var e=this,n=this.reverseTable;if("object"!=typeof t||null===t)return t;if(Array.isArray(t))return t.map(function(t){return e._decompressObj(t)});var r={};return Object.keys(t).forEach(function(i){var o=i;(i.startsWith("|")||i.startsWith("_"))&&n[i]&&(o=n[i]),r[o]=e._decompressObj(t[i])}),r},t.prototype.decompress=function(t){return this.schema.doKeyCompression()?this._decompressObj(t):l()(t)},t.prototype._transformKey=function(t,e,n){var r=this.table;t=f.g(t),e=f.g(e);var i=n.shift(),o=f.g(t+"."+i);return r[o]?e+="."+r[o]:e+="."+i,n.length>0?this._transformKey(o,e,n):f.g(e)},t.prototype.compressQuery=function(t){var e=this;if(t=l()(t),!this.schema.doKeyCompression())return t;var n=(this.table,{});return Object.keys(t.selector).forEach(function(r){var i=t.selector[r],o=e._transformKey("","",r.split("."));n[o]=i}),t.selector=n,t.sort&&(t.sort=t.sort.map(function(t){var n=Object.keys(t)[0],r=t[n],i={};return i[e._transformKey("","",n.split("."))]=r,i})),t},s()(t,[{key:"table",get:function(){var t=this;if(!this._table){var e=0,n=function(){return e++,f.j(e-1)};this._table={};var r=this.schema.normalized;!function e(r,i){Object.keys(i).map(function(o){var a=i[o],s="properties"==o?r:f.g(r+"."+o);"object"==typeof a&&!Array.isArray(a)&&!t._table[s]&&""!=s&&o.length>3&&!s.startsWith("_")&&(t._table[s]="|"+n()),1==a.primary&&(t._table[s]="_id"),"object"!=typeof a||Array.isArray(a)||e(s,a)})}("",r)}return this._table}},{key:"reverseTable",get:function(){var t=this;if(!this._reverseTable){var e=this.table;this._reverseTable={},Object.keys(e).forEach(function(n){var r=e[n],i=n.split(".").pop();t._reverseTable[r]=i})}return this._reverseTable}}]),t}()},function(t,e,n){"use strict";function r(){console.log("QueryChangeDetector.enableDebugging()"),h=!0}function i(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];console.log("QueryChangeDetector.enableDebugging("+t+")"),p=t}function o(t){return new d(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.enableDebugging=r,e.enable=i,e.create=o;var a=n(1),s=n.n(a),u=n(135),c=(n.n(u),n(14)),l=(n.n(c),n(50)),f=n.n(l),h=!1,p=!1,d=function(){function t(e){s()(this,t),this.query=e,this.primaryKey=this.query.collection.schema.primaryPath}return t.prototype.runChangeDetection=function(t){var e=this;if(0==t.length)return!1;if(!p)return!0;var n=(this.query.toJSON(),this.query._resultsData),r=!1;return!!t.find(function(t){var i=e.handleSingleChange(n,t);return Array.isArray(i)?(r=!0,n=i,!1):!!i||void 0})||!!r&&n},t.prototype._debugMessage=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"optimized";console.dir({name:"QueryChangeDetector",title:n,query:this.query.toString(),key:t,changeEventData:e})},t.prototype.handleSingleChange=function(t,e){var n=this,r=t.slice(0),i=this.query.toJSON(),o=e.data.v,a=this._isDocInResultData(o,t),s=this.doesDocMatchQuery(o),u=!i.limit||i.limit&&t.length>=i.limit,c=i.limit&&t.length>=i.limit;h&&(console.log("!!!:!!!:   handleSingleChange()"),this._debugMessage("start",e.data.v,"handleSingleChange()"),console.log("changeEvent.data:"),console.dir(e.data),console.log("wasDocInResults: "+a),console.log("doesMatchNow: "+s),console.log("isFilled: "+u));var l=null,f=null,p=null;if("REMOVE"==e.data.op){if(!s)return h&&this._debugMessage("R1",o),!1;if(i.skip&&s&&function(){return null===f&&(f=n._isSortedBefore(o,r[0])),f}()&&!u)return h&&this._debugMessage("R2",o),r.shift(),r;if(s&&a&&!u)return h&&this._debugMessage("R3",o),r=r.filter(function(t){return t[n.primaryKey]!=o[n.primaryKey]});if(s&&a&&!i.limit&&!i.skip)return h&&this._debugMessage("R3.1",o),r=r.filter(function(t){return t[n.primaryKey]!=o[n.primaryKey]});if(s&&i.limit&&function(){return null===l&&(l=n._isSortedBefore(r[r.length-1],o)),l}())return h&&this._debugMessage("R4",o),!1}else{if(!(i.skip||i.limit||a||s))return h&&this._debugMessage("U1",o),!1;if(!i.skip&&!i.limit&&a&&s){var d=r.find(function(t){return t[n.primaryKey]==o[n.primaryKey]}),v=r.indexOf(d);return r[v]=o,function(){if(null===p){var e=t.find(function(t){return t[n.primaryKey]==o[n.primaryKey]});p=n._sortFieldChanged(e,o)}return p}()?(h&&this._debugMessage("U2 - resort",o),this._resortDocData(r)):(h&&this._debugMessage("U2 - no-resort",o),r)}if(!i.skip&&!c&&!a&&s){h&&this._debugMessage("U3",o),r.push(o);return this._resortDocData(r)}}return!0},t.prototype.doesDocMatchQuery=function(t){t=this.query.collection.schema.swapPrimaryToId(t);var e=Object.keys(this.query.toJSON().selector);return 1==n.i(u.filterInMemoryFields)([{doc:t}],{selector:n.i(u.massageSelector)(this.query.toJSON().selector)},e).length},t.prototype._isDocInResultData=function(t,e){var n=this.query.collection.schema.primaryPath;return!!e.find(function(e){return e[n]==t[n]})},t.prototype._sortFieldChanged=function(t,e){var n=this.query.toJSON(),r=n.sort.map(function(t){return Object.keys(t).pop()}),i=!1;return r.find(function(n){return f.a.get(t,n)!=f.a.get(e,n)&&(i=!0,!0)}),i},t.prototype._isSortedBefore=function(t,e){var r=this.query.toJSON(),i=Object.keys(this.query.toJSON().selector),o=this.query.collection.schema.swapPrimaryToId(t),a=this.query.collection.schema.swapPrimaryToId(e),s=[o,a].map(function(t){return{id:t._id,doc:t}});return n.i(u.filterInMemoryFields)(s,{selector:n.i(u.massageSelector)(this.query.toJSON().selector),sort:r.sort},i)[0].id==o._id},t.prototype._resortDocData=function(t){var e=this,r=t.map(function(t){return{doc:e.query.collection.schema.swapPrimaryToId(t)}}),i=this.query.toJSON(),o=Object.keys(this.query.toJSON().selector);return n.i(u.filterInMemoryFields)(r,{selector:n.i(u.massageSelector)(this.query.toJSON().selector),sort:i.sort},o).map(function(t){return t.doc}).map(function(t){return e.query.collection.schema.swapIdToPrimary(t)})},t}()},function(t,e,n){"use strict";function r(){return!("object"!=typeof window||!window.BroadcastChannel||"function"!=typeof window.BroadcastChannel||"function"!=typeof window.BroadcastChannel.prototype.postMessage||"function"!=typeof window.BroadcastChannel.prototype.close)}function i(t,e){return r()?new h(t,e):null}e.b=r,e.a=i;var o=n(6),a=n.n(o),s=n(5),u=n.n(s),c=n(1),l=n.n(c),f=n(11),h=function(){function t(e,n){var r=this;l()(this,t),this.name=n,this.database=e,this.token=e.token,this.bc=new BroadcastChannel("RxDB:"+this.database.name+":"+this.name),this.$=f.a.Observable.fromEvent(this.bc,"message").map(function(t){return t.data}).map(function(t){return JSON.parse(t)}).filter(function(t){return t.it!=r.token})}return t.prototype.write=function(){function t(t,n){return e.apply(this,arguments)}var e=u()(a.a.mark(function t(e,n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.bc.postMessage(JSON.stringify({type:e,it:this.token,data:n,t:(new Date).getTime()}));case 2:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.destroy=function(){this.bc.close()},t}()},function(t,e,n){"use strict";function r(){if(!T){var t=new j,e=Object.getOwnPropertyNames(t),n=Object.getOwnPropertyNames(Object.getPrototypeOf(t));T=[].concat(e,n)}return T}n.d(e,"a",function(){return M});var i=n(6),o=n.n(i),a=n(5),s=n.n(a),u=n(1),c=n.n(u),l=n(2),f=n.n(l),h=(n(84),n(50)),p=(n.n(h),n(14)),d=n.n(p),v=n(11),m=n(136),y=n(492),g=n(64),b=n(206),_=n(488),w=n(205),$=n(489),x=n(491),E=n(487),k=n(85),S=n(210),O=["pre","post"],A=["insert","save","remove"],j=function(){function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};c()(this,t),this.database=e,this.name=n,this.schema=r,this._migrationStrategies=a,this._pouchSettings=i,this._methods=s,this._docCache=$.a(),this._queryCache=x.a(),this.synced=!1,this.hooks={},this._subs=[],this.pouchSyncs=[],this.pouch=null,A.forEach(function(t){O.map(function(e){var n=e+v.e(t);o[n]=function(n,r){return o.addHook(e,t,n,r)}})})}return t.prototype.prepare=function(){function t(){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(){var e=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._dataMigrator=_.a(this,this._migrationStrategies),this._crypter=w.a(this.database.password,this.schema),this._keyCompressor=b.a(this.schema),this.pouch=this.database._spawnPouchDB(this.name,this.schema.version,this._pouchSettings),this._observable$=this.database.$.filter(function(t){return t.data.col==e.name}),this._changeEventBuffer=E.a(this),t.next=8,Promise.all(this.schema.indexes.map(function(t){var n=t.map(function(t){return e.schema.doKeyCompression()?e._keyCompressor._transformKey("","",t.split(".")):t});return e.pouch.createIndex({index:{fields:n}})}));case 8:this._subs.push(this._observable$.subscribe(function(t){var n=e._docCache.get(t.data.doc);n&&n._handleChangeEvent(t)}));case 9:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.migrationNeeded=function(){function t(){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=this.schema.version){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,this._dataMigrator._getOldCollections();case 4:return e=t.sent,t.abrupt("return",e.length>0);case 6:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.migrate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._dataMigrator.migrate(t)},t.prototype.migratePromise=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._dataMigrator.migratePromise(t)},t.prototype._handleToPouch=function(t){var e=this._crypter.encrypt(t),n=this.schema.swapPrimaryToId(e);return this._keyCompressor.compress(n)},t.prototype._handleFromPouch=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.schema.swapIdToPrimary(t),r=this._keyCompressor.decompress(n);return e?r:this._crypter.decrypt(r)},t.prototype._pouchPut=function(){function t(t){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(e){var n,r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this._handleToPouch(e),n=null,t.prev=2,t.next=5,this.pouch.put(e);case 5:n=t.sent,t.next=21;break;case 8:if(t.prev=8,t.t0=t.catch(2),!i||409!=t.t0.status){t.next=20;break}return t.next=13,this.pouch.get(e._id);case 13:return r=t.sent,e._rev=r._rev,t.next=17,this.pouch.put(e);case 17:n=t.sent,t.next=21;break;case 20:throw t.t0;case 21:return t.abrupt("return",n);case 22:case"end":return t.stop()}},t,this,[[2,8]])}));return t}(),t.prototype._pouchGet=function(){function t(t){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pouch.get(e);case 2:return n=t.sent,n=this._handleFromPouch(n),t.abrupt("return",n);case 5:case"end":return t.stop()}},t,this)}));return t}(),t.prototype._pouchFind=function(){function t(t,n){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(e,n){var r,i,a,s=this,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.keyCompress(),n&&(r.limit=n),t.next=4,this.pouch.find(r);case 4:return i=t.sent,a=i.docs.map(function(t){return s._handleFromPouch(t,u)}),t.abrupt("return",a);case 7:case"end":return t.stop()}},t,this)}));return t}(),t.prototype._assignMethodsToDocument=function(t){Object.entries(this._methods).forEach(function(e){var n=e[0],r=e[1];t.__defineGetter__(n,function(){return r.bind(t)})})},t.prototype._createDocument=function(t){var e=t[this.schema.primaryPath],n=this._docCache.get(e);if(n)return n;var r=m.a(this,t);return this._assignMethodsToDocument(r),this._docCache.set(e,r),r},t.prototype._createDocuments=function(t){var e=this;return t.map(function(t){return e._createDocument(t)})},t.prototype.$emit=function(t){return this.database.$emit(t)},t.prototype.insert=function(){function t(t){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(e){var n,r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=d()(e),!e._id){t.next=3;break}throw new Error("do not provide ._id, it will be generated");case 3:return"_id"!=this.schema.primaryPath||e._id||(e._id=v.f()),t.next=6,this._runHooks("pre","insert",e);case 6:return this.schema.validate(e),t.next=9,this._pouchPut(e);case 9:return n=t.sent,e[this.schema.primaryPath]=n.id,e._rev=n.rev,r=this._createDocument(e),t.next=15,this._runHooks("post","insert",r);case 15:return i=g.b("INSERT",this.database,this,r,e),this.$emit(i),t.abrupt("return",r);case 18:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.upsert=function(){function t(t){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(e){var n,r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=d()(e),n=e[this.schema.primaryPath]){t.next=4;break}throw new Error("RxCollection.upsert() does not work without primary");case 4:return t.next=6,this.findOne(n).exec();case 6:if(!(r=t.sent)){t.next=15;break}return e._rev=r._rev,r._data=e,t.next=12,r.save();case 12:return t.abrupt("return",r);case 15:return t.next=17,this.insert(e);case 17:return i=t.sent,t.abrupt("return",i);case 19:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.find=function(t){if("string"==typeof t)throw new Error("if you want to search by _id, use .findOne(_id)");return y.a("find",t,this)},t.prototype.findOne=function(t){var e=void 0;if(e="string"==typeof t?y.a("findOne",{_id:t},this):y.a("findOne",t,this),"number"==typeof t||Array.isArray(t))throw new TypeError(".findOne() needs a queryObject or string");return e},t.prototype.dump=function(){function t(){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(){var e,n,r,i,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=!a,n={name:this.name,schemaHash:this.schema.hash,encrypted:!1,passwordHash:null,docs:[]},this.database.password&&e&&(n.passwordHash=v.b(this.database.password),n.encrypted=!0),r=y.a("find",{},this),t.next=6,this._pouchFind(r,null,e);case 6:return i=t.sent,n.docs=i.map(function(t){return delete t._rev,t}),t.abrupt("return",n);case 9:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.importDump=function(){function t(t){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(e){var n,r=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.schemaHash==this.schema.hash){t.next=2;break}throw new Error("the imported json relies on a different schema");case 2:if(!e.encrypted||e.passwordHash==v.b(this.database.password)){t.next=4;break}throw new Error("json.passwordHash does not match the own");case 4:return n=e.docs.map(function(t){return r._crypter.decrypt(t)}).map(function(t){return r.schema.validate(t)}).map(function(t){return r._pouchPut(t)}),t.abrupt("return",Promise.all(n));case 6:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.sync=function(){function t(t){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(e){var n,r,i,a,s=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("function"==typeof this.pouch.sync){t.next=2;break}throw new Error("RxCollection.sync needs 'pouchdb-replication'. Code:\n                 RxDB.plugin(require('pouchdb-replication')); ");case 2:if(u){t.next=5;break}return t.next=5,this.database.waitForLeadership();case 5:return this.synced||(n={},r=v.a.Observable.fromEvent(this.pouch.changes({since:"now",live:!0,include_docs:!0}),"change").filter(function(t){return"_"!=t.id.charAt(0)}).map(function(t){return t.doc}).map(function(t){return t._ext=!0,t}).filter(function(t){return!s._changeEventBuffer.buffer.map(function(t){return t.data.v._rev}).includes(t._rev)}).filter(function(t){return n[t._rev]="YES"}).delay(10).map(function(t){var e=null;return"YES"==n[t._rev]&&(e=t),delete n[t._rev],e}).filter(function(t){return null!=t}).subscribe(function(t){s.$emit(g.c(t,s))}),this._subs.push(r),i=this.$.map(function(t){return t.data.v}).map(function(t){t&&n[t._rev]&&(n[t._rev]="NO")}).subscribe(),this._subs.push(i)),this.synced=!0,a=this.pouch.sync(e,{live:!0,retry:!0}).on("error",function(t){throw new Error(t)}),this.pouchSyncs.push(a),t.abrupt("return",a);case 10:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.addHook=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof n)throw new TypeError(e+"-hook must be a function");if(!O.includes(t))throw new TypeError("hooks-when not known");if(!A.includes(e))throw new Error("hook-name "+e+"not known");var i=r?"parallel":"series";this.hooks[e]=this.hooks[e]||{},this.hooks[e][t]=this.hooks[e][t]||{series:[],parallel:[]},this.hooks[e][t][i].push(n)},t.prototype.getHooks=function(t,e){try{return this.hooks[e][t]}catch(t){return{series:[],parallel:[]}}},t.prototype._runHooks=function(){function t(t,n,r){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(e,n,r){var i,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.getHooks(e,n)){t.next=3;break}return t.abrupt("return");case 3:a=0;case 4:if(!(a<i.series.length)){t.next=10;break}return t.next=7,i.series[a](r);case 7:a++,t.next=4;break;case 10:return t.next=12,Promise.all(i.parallel.map(function(t){return t(r)}));case 12:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.destroy=function(){function t(){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this._subs.forEach(function(t){return t.unsubscribe()}),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this._queryCache.destroy(),this.pouchSyncs.forEach(function(t){return t.cancel()}),delete this.database.collections[this.name];case 5:case"end":return t.stop()}},t,this)}));return t}(),f()(t,[{key:"$",get:function(){return this._observable$}}]),t}(),C=function(t,e){if("object"!=typeof e||Array.isArray(e))throw new TypeError("migrationStrategies must be an object");if(t.previousVersions.length!=Object.keys(e).length)throw new Error("\n      a migrationStrategy is missing or too much\n      - have: "+JSON.stringify(Object.keys(e).map(function(t){return parseInt(t)}))+"\n      - should: "+JSON.stringify(t.previousVersions)+"\n      ");return t.previousVersions.map(function(t){return{v:t,s:e[t+1+""]}}).filter(function(t){return"function"!=typeof t.s}).forEach(function(t){throw new TypeError("migrationStrategy(v"+t.v+") must be a function; is : "+typeof t)}),!0},T=null,P=function(t){Object.entries(t).forEach(function(t){if("string"!=typeof t[0])throw new TypeError("given static method-name ("+t[0]+") is not a string");if(t[0].startsWith("_"))throw new TypeError("static method-names cannot start with underscore _ ("+t[0]+")");if("function"!=typeof t[1])throw new TypeError("given static method ("+t[0]+") is not a function but "+typeof t[1]);if(r().includes(t[0])||m.b().includes(t[0]))throw new Error("statics-name not allowed: "+t[0])})},M=function(){var t=s()(o.a.mark(function t(e){var n,r=e.database,i=e.name,a=e.schema,s=e.pouchSettings,u=void 0===s?{}:s,c=e.migrationStrategies,l=void 0===c?{}:c,f=e.autoMigrate,h=void 0===f||f,p=e.statics,d=void 0===p?{}:p,m=e.methods,y=void 0===m?{}:m;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(!a instanceof k.RxSchema)){t.next=2;break}throw new TypeError("given schema is no Schema-object");case 2:if(!(!r instanceof S.RxDatabase)){t.next=4;break}throw new TypeError("given database is no Database-object");case 4:if("boolean"==typeof h){t.next=6;break}throw new TypeError("autoMigrate must be boolean");case 6:return v.c(i),C(a,l),P(d),P(y),Object.keys(y).filter(function(t){return a.topLevelFields.includes(t)}).forEach(function(t){throw new Error("collection-method not allowed because fieldname is in the schema "+t)}),n=new j(r,i,a,u,l,y),t.next=14,n.prepare();case 14:if(Object.entries(d).forEach(function(t){var e=t.pop(),r=t.pop();n.__defineGetter__(r,function(){return e.bind(n)})}),!h){t.next=18;break}return t.next=18,n.migratePromise();case 18:return t.abrupt("return",n);case 19:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},function(t,e,n){"use strict";function r(){if(!x){var t=new $,e=Object.getOwnPropertyNames(t),n=Object.getOwnPropertyNames(Object.getPrototypeOf(t));x=[].concat(e,n)}return x}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"RxDatabase",function(){return $}),e.properties=r,n.d(e,"create",function(){return E});var i=n(6),o=n.n(i),a=n(5),s=n.n(a),u=n(1),c=n.n(u),l=n(2),f=n.n(l),h=n(204),p=n.n(h),d=n(84),v=n(11),m=n(209),y=n(85),g=n(64),b=n(493),_=n(490);n.d(e,"RxSchema",function(){return y});var w={minPassLength:8},$=function(){function t(e,n,r,i){c()(this,t),this.name=e,this.adapter=n,this.password=r,this.multiInstance=i,this.token=p()(10),this.subs=[],this.destroyed=!1,this.collections={},this.subject=null,this.observable$=null}return t.prototype.prepare=function(){function t(){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(){var e,n=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.subject=new v.a.Subject,this.observable$=this.subject.asObservable().filter(function(t){return g.a(t)}),this._adminPouch=this._spawnPouchDB("_admin",0,{auto_compaction:!1,revs_limit:1}),this._collectionsPouch=this._spawnPouchDB("_collections",0,{auto_compaction:!1,revs_limit:1}),!this.password){t.next=24;break}return e=null,t.prev=6,t.next=9,this._adminPouch.get("_local/pwHash");case 9:e=t.sent,t.next=14;break;case 12:t.prev=12,t.t0=t.catch(6);case 14:if(e){t.next=22;break}return t.prev=15,t.next=18,this._adminPouch.put({_id:"_local/pwHash",value:v.b(this.password)});case 18:t.next=22;break;case 20:t.prev=20,t.t1=t.catch(15);case 22:if(!e||!this.password||v.b(this.password)==e.value){t.next=24;break}throw new Error("another instance on this adapter has a different password");case 24:if(!this.multiInstance){t.next=29;break}return t.next=27,b.a(this);case 27:this.socket=t.sent,this.socket.messages$.subscribe(function(t){return n.$emit(t)});case 29:return t.next=31,_.a(this);case 31:this.leaderElector=t.sent;case 32:case"end":return t.stop()}},t,this,[[6,12],[15,20]])}));return t}(),t.prototype._spawnPouchDB=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.name+"-rxdb-"+e+"-"+t;return new d.a(r,this._adapterObj,n)},t.prototype.waitForLeadership=function(){function t(){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.multiInstance){t.next=2;break}return t.abrupt("return",!0);case 2:return t.abrupt("return",this.leaderElector.waitForLeadership());case 3:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.writeToSocket=function(){function t(t){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.multiInstance||e.isIntern()||!this.socket){t.next=4;break}return t.next=3,this.socket.write(e);case 3:return t.abrupt("return",!0);case 4:return t.abrupt("return",!1);case 5:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.$emit=function(t){t&&(this.subject.next(t),t.data.it==this.token&&this.writeToSocket(t))},t.prototype._collectionNamePrimary=function(t,e){return t+"-"+e.version},t.prototype.removeCollectionDoc=function(){function t(t,n){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(e,n){var r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this._collectionNamePrimary(e,n),t.next=3,this._collectionsPouch.get(r);case 3:return i=t.sent,t.abrupt("return",this._collectionsPouch.remove(i));case 5:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.collection=function(){function t(t){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(e){var n,i,a,s,u,c=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.database=this,"_"!=e.name.charAt(0)){t.next=3;break}throw new Error("collection("+e.name+"): collection-names cannot start with underscore _");case 3:if(!this.collections[e.name]){t.next=5;break}throw new Error("collection("+e.name+") already exists. use myDatabase."+e.name+" to get it");case 5:if(e.schema){t.next=7;break}throw new Error("collection("+e.name+"): schema is missing");case 7:if(y.isInstanceOf(e.schema)||(e.schema=y.create(e.schema)),n=this._collectionNamePrimary(e.name,e.schema),!r().includes(e.name)){t.next=11;break}throw new Error("Collection-name "+e.name+" not allowed");case 11:return i=e.schema.hash,a=null,t.prev=13,t.next=16,this._collectionsPouch.get(n);case 16:a=t.sent,t.next=21;break;case 19:t.prev=19,t.t0=t.catch(13);case 21:if(!a||a.schemaHash==i){t.next=23;break}throw new Error("collection("+e.name+"): another instance created this collection with a different schema");case 23:return t.next=25,m.a(e);case 25:if(s=t.sent,!(Object.keys(s.schema.encryptedPaths).length>0)||this.password){t.next=28;break}throw new Error("collection("+e.name+"): schema encrypted but no password given");case 28:if(a){t.next=36;break}return t.prev=29,t.next=32,this._collectionsPouch.put({_id:n,schemaHash:i,schema:s.schema.normalized,version:s.schema.version});case 32:t.next=36;break;case 34:t.prev=34,t.t1=t.catch(29);case 36:return u=g.b("RxDatabase.collection",this),u.data.v=s.name,u.data.col="_collections",this.$emit(u),this.collections[e.name]=s,this.__defineGetter__(e.name,function(){return c.collections[e.name]}),t.abrupt("return",s);case 43:case"end":return t.stop()}},t,this,[[13,19],[29,34]])}));return t}(),t.prototype.dump=function(){function t(){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(){var e,n,r=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={name:this.name,instanceToken:this.token,encrypted:!1,passwordHash:null,collections:[]},this.password&&(e.passwordHash=v.b(this.password),e.encrypted=!i),n=Object.keys(this.collections).filter(function(t){return!a||a.includes(t)}).filter(function(t){return"_"!=t.charAt(0)}).map(function(t){return r.collections[t]}),t.next=5,Promise.all(n.map(function(t){return t.dump(i)}));case 5:return e.collections=t.sent,t.abrupt("return",e);case 7:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.importDump=function(){function t(t){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(e){var n=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(e.collections.filter(function(t){return n.collections[t.name]}).map(function(t){return n.collections[t.name].importDump(t)})));case 1:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.destroy=function(){function t(){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(){var e=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.destroyed){t.next=2;break}return t.abrupt("return");case 2:return this.destroyed=!0,this.socket&&this.socket.destroy(),t.next=6,this.leaderElector.destroy();case 6:this.subs.map(function(t){return t.unsubscribe()}),Object.keys(this.collections).map(function(t){return e.collections[t]}).map(function(t){return t.destroy()});case 8:case"end":return t.stop()}},t,this)}));return t}(),f()(t,[{key:"_adapterObj",get:function(){var t={db:this.adapter};return"string"==typeof this.adapter&&(t={adapter:this.adapter}),t}},{key:"isLeader",get:function(){return!this.multiInstance||this.leaderElector.isLeader}},{key:"$",get:function(){return this.observable$}}]),t}(),x=null,E=function(){var t=s()(o.a.mark(function t(e){var n,r=e.name,i=e.adapter,a=e.password,s=e.multiInstance,u=void 0===s||s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(v.c(r),"string"!=typeof i){t.next=6;break}if(d.a.adapters&&d.a.adapters[i]){t.next=4;break}throw new Error("Adapter "+i+" not added.\n                 Use RxDB.plugin(require('pouchdb-adapter-"+i+"');");case 4:t.next=9;break;case 6:if(v.d(i),d.a.adapters&&d.a.adapters.leveldb){t.next=9;break}throw new Error("To use leveldown-adapters, you have to add the leveldb-plugin.\n                 Use RxDB.plugin(require('pouchdb-adapter-leveldb'));");case 9:if(!a||"string"==typeof a){t.next=11;break}throw new TypeError("password is no string");case 11:if(!(a&&a.length<w.minPassLength)){t.next=13;break}throw new Error("password must have at least "+w.minPassLength+" chars");case 13:return n=new $(r,i,a,u),t.next=16,n.prepare();case 16:return t.abrupt("return",n);case 17:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},function(t,e,n){"use strict";var r=n(0),i=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return r.Observable.of(this.value);case"E":return r.Observable.throw(this.error);case"C":return r.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):this.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return this.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();e.Notification=i},function(t,e,n){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(37),o=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return r(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(i.Subscription);e.SubjectSubscription=o},function(t,e,n){"use strict";function r(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(86),a=n(90);e.mergeAll=r;var s=function(){function t(t){this.concurrent=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.concurrent))},t}();e.MergeAllOperator=s;var u=function(t){function e(e,n){t.call(this,e),this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?(this.active++,this.add(a.subscribeToResult(this,t))):this.buffer.push(t)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeAllSubscriber=u},function(t,e,n){"use strict";function r(t,e){var n;if(n="function"==typeof t?t:function(){return t},"function"==typeof e)return this.lift(new o(n,e));var r=Object.create(this,i.connectableObservableDescriptor);return r.source=this,r.subjectFactory=n,r}var i=n(520);e.multicast=r;var o=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}();e.MulticastOperator=o},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=0),this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(9),a=n(211);e.observeOn=r;var s=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=s;var u=function(t){function e(e,n,r){void 0===r&&(r=0),t.call(this,e),this.scheduler=n,this.delay=r}return i(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new c(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(a.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(a.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(a.Notification.createComplete())},e}(o.Subscriber);e.ObserveOnSubscriber=u;var c=function(){function t(t,e){this.notification=t,this.destination=e}return t}();e.ObserveOnMessage=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(19),o=n(547),a=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n,this.pending=!1}return r(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),i.root.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){return void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending?e:i.root.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(o.Action);e.AsyncAction=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(500),o=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return r(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}},e}(i.Scheduler);e.AsyncScheduler=o},function(t,e,n){"use strict";e.isArrayLike=function(t){return t&&"number"==typeof t.length}},function(t,e,n){"use strict";function r(t){return t instanceof Date&&!isNaN(+t)}e.isDate=r},function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}e.isObject=r},function(t,e,n){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}e.isPromise=r},function(t,e,n){function r(){this._array=[],this._set=Object.create(null)}var i=n(66),o=Object.prototype.hasOwnProperty;r.fromArray=function(t,e){for(var n=new r,i=0,o=t.length;i<o;i++)n.add(t[i],e);return n},r.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},r.prototype.add=function(t,e){var n=i.toSetString(t),r=o.call(this._set,n),a=this._array.length;r&&!e||this._array.push(t),r||(this._set[n]=a)},r.prototype.has=function(t){var e=i.toSetString(t);return o.call(this._set,e)},r.prototype.indexOf=function(t){var e=i.toSetString(t);if(o.call(this._set,e))return this._set[e];throw new Error('"'+t+'" is not in the set.')},r.prototype.at=function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},r.prototype.toArray=function(){return this._array.slice()},e.ArraySet=r},function(t,e,n){function r(t){return t<0?1+(-t<<1):0+(t<<1)}function i(t){var e=1==(1&t),n=t>>1;return e?-n:n}var o=n(560);e.encode=function(t){var e,n="",i=r(t);do{e=31&i,i>>>=5,i>0&&(e|=32),n+=o.encode(e)}while(i>0);return n},e.decode=function(t,e,n){var r,a,s=t.length,u=0,c=0;do{if(e>=s)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(a=o.decode(t.charCodeAt(e++))))throw new Error("Invalid base64 digit: "+t.charAt(e-1));r=!!(32&a),a&=31,u+=a<<c,c+=5}while(r);n.value=i(u),n.rest=e}},function(t,e,n){function r(t){t||(t={}),this._file=o.getArg(t,"file",null),this._sourceRoot=o.getArg(t,"sourceRoot",null),this._skipValidation=o.getArg(t,"skipValidation",!1),this._sources=new a,this._names=new a,this._mappings=new s,this._sourcesContents=null}var i=n(224),o=n(66),a=n(223).ArraySet,s=n(562).MappingList;r.prototype._version=3,r.fromSourceMap=function(t){var e=t.sourceRoot,n=new r({file:t.file,sourceRoot:e});return t.eachMapping(function(t){var r={generated:{line:t.generatedLine,column:t.generatedColumn}};null!=t.source&&(r.source=t.source,null!=e&&(r.source=o.relative(e,r.source)),r.original={line:t.originalLine,column:t.originalColumn},null!=t.name&&(r.name=t.name)),n.addMapping(r)}),t.sources.forEach(function(e){var r=t.sourceContentFor(e);null!=r&&n.setSourceContent(e,r)}),n},r.prototype.addMapping=function(t){var e=o.getArg(t,"generated"),n=o.getArg(t,"original",null),r=o.getArg(t,"source",null),i=o.getArg(t,"name",null);this._skipValidation||this._validateMapping(e,n,r,i),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=i&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:e.line,generatedColumn:e.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:i})},r.prototype.setSourceContent=function(t,e){var n=t;null!=this._sourceRoot&&(n=o.relative(this._sourceRoot,n)),null!=e?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[o.toSetString(n)]=e):this._sourcesContents&&(delete this._sourcesContents[o.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},r.prototype.applySourceMap=function(t,e,n){var r=e;if(null==e){if(null==t.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=t.file}var i=this._sourceRoot;null!=i&&(r=o.relative(i,r));var s=new a,u=new a;this._mappings.unsortedForEach(function(e){if(e.source===r&&null!=e.originalLine){var a=t.originalPositionFor({line:e.originalLine,column:e.originalColumn});null!=a.source&&(e.source=a.source,null!=n&&(e.source=o.join(n,e.source)),null!=i&&(e.source=o.relative(i,e.source)),e.originalLine=a.line,e.originalColumn=a.column,null!=a.name&&(e.name=a.name))}var c=e.source;null==c||s.has(c)||s.add(c);var l=e.name;null==l||u.has(l)||u.add(l)},this),this._sources=s,this._names=u,t.sources.forEach(function(e){var r=t.sourceContentFor(e);null!=r&&(null!=n&&(e=o.join(n,e)),null!=i&&(e=o.relative(i,e)),this.setSourceContent(e,r))},this)},r.prototype._validateMapping=function(t,e,n,r){if((!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0)||e||n||r)&&!(t&&"line"in t&&"column"in t&&e&&"line"in e&&"column"in e&&t.line>0&&t.column>=0&&e.line>0&&e.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:n,original:e,name:r}))},r.prototype._serializeMappings=function(){for(var t,e,n,r,a=0,s=1,u=0,c=0,l=0,f=0,h="",p=this._mappings.toArray(),d=0,v=p.length;d<v;d++){if(e=p[d],t="",e.generatedLine!==s)for(a=0;e.generatedLine!==s;)t+=";",s++;else if(d>0){if(!o.compareByGeneratedPositionsInflated(e,p[d-1]))continue;t+=","}t+=i.encode(e.generatedColumn-a),a=e.generatedColumn,null!=e.source&&(r=this._sources.indexOf(e.source),t+=i.encode(r-f),f=r,t+=i.encode(e.originalLine-1-c),c=e.originalLine-1,t+=i.encode(e.originalColumn-u),u=e.originalColumn,null!=e.name&&(n=this._names.indexOf(e.name),t+=i.encode(n-l),l=n)),h+=t}return h},r.prototype._generateSourcesContent=function(t,e){return t.map(function(t){if(!this._sourcesContents)return null;null!=e&&(t=o.relative(e,t));var n=o.toSetString(t);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},r.prototype.toJSON=function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(t.file=this._file),null!=this._sourceRoot&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},r.prototype.toString=function(){return JSON.stringify(this.toJSON())},e.SourceMapGenerator=r},function(t,e,n){!function(e){t.exports=e()}(function(t){"use strict";function e(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n+=(r&i|~r&o)+e[0]-680876936|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&i)+e[1]-389564586|0,o=(o<<12|o>>>20)+n|0,i+=(o&n|~o&r)+e[2]+606105819|0,i=(i<<17|i>>>15)+o|0,r+=(i&o|~i&n)+e[3]-1044525330|0,r=(r<<22|r>>>10)+i|0,n+=(r&i|~r&o)+e[4]-176418897|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&i)+e[5]+1200080426|0,o=(o<<12|o>>>20)+n|0,i+=(o&n|~o&r)+e[6]-1473231341|0,i=(i<<17|i>>>15)+o|0,r+=(i&o|~i&n)+e[7]-45705983|0,r=(r<<22|r>>>10)+i|0,n+=(r&i|~r&o)+e[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&i)+e[9]-1958414417|0,o=(o<<12|o>>>20)+n|0,i+=(o&n|~o&r)+e[10]-42063|0,i=(i<<17|i>>>15)+o|0,r+=(i&o|~i&n)+e[11]-1990404162|0,r=(r<<22|r>>>10)+i|0,n+=(r&i|~r&o)+e[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,o+=(n&r|~n&i)+e[13]-40341101|0,o=(o<<12|o>>>20)+n|0,i+=(o&n|~o&r)+e[14]-1502002290|0,i=(i<<17|i>>>15)+o|0,r+=(i&o|~i&n)+e[15]+1236535329|0,r=(r<<22|r>>>10)+i|0,n+=(r&o|i&~o)+e[1]-165796510|0,n=(n<<5|n>>>27)+r|0,o+=(n&i|r&~i)+e[6]-1069501632|0,o=(o<<9|o>>>23)+n|0,i+=(o&r|n&~r)+e[11]+643717713|0,i=(i<<14|i>>>18)+o|0,r+=(i&n|o&~n)+e[0]-373897302|0,r=(r<<20|r>>>12)+i|0,n+=(r&o|i&~o)+e[5]-701558691|0,n=(n<<5|n>>>27)+r|0,o+=(n&i|r&~i)+e[10]+38016083|0,o=(o<<9|o>>>23)+n|0,i+=(o&r|n&~r)+e[15]-660478335|0,i=(i<<14|i>>>18)+o|0,r+=(i&n|o&~n)+e[4]-405537848|0,r=(r<<20|r>>>12)+i|0,n+=(r&o|i&~o)+e[9]+568446438|0,n=(n<<5|n>>>27)+r|0,o+=(n&i|r&~i)+e[14]-1019803690|0,o=(o<<9|o>>>23)+n|0,i+=(o&r|n&~r)+e[3]-187363961|0,i=(i<<14|i>>>18)+o|0,r+=(i&n|o&~n)+e[8]+1163531501|0,r=(r<<20|r>>>12)+i|0,n+=(r&o|i&~o)+e[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,o+=(n&i|r&~i)+e[2]-51403784|0,o=(o<<9|o>>>23)+n|0,i+=(o&r|n&~r)+e[7]+1735328473|0,i=(i<<14|i>>>18)+o|0,r+=(i&n|o&~n)+e[12]-1926607734|0,r=(r<<20|r>>>12)+i|0,n+=(r^i^o)+e[5]-378558|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^i)+e[8]-2022574463|0,o=(o<<11|o>>>21)+n|0,i+=(o^n^r)+e[11]+1839030562|0,i=(i<<16|i>>>16)+o|0,r+=(i^o^n)+e[14]-35309556|0,r=(r<<23|r>>>9)+i|0,n+=(r^i^o)+e[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^i)+e[4]+1272893353|0,o=(o<<11|o>>>21)+n|0,i+=(o^n^r)+e[7]-155497632|0,i=(i<<16|i>>>16)+o|0,r+=(i^o^n)+e[10]-1094730640|0,r=(r<<23|r>>>9)+i|0,n+=(r^i^o)+e[13]+681279174|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^i)+e[0]-358537222|0,o=(o<<11|o>>>21)+n|0,i+=(o^n^r)+e[3]-722521979|0,i=(i<<16|i>>>16)+o|0,r+=(i^o^n)+e[6]+76029189|0,r=(r<<23|r>>>9)+i|0,n+=(r^i^o)+e[9]-640364487|0,n=(n<<4|n>>>28)+r|0,o+=(n^r^i)+e[12]-421815835|0,o=(o<<11|o>>>21)+n|0,i+=(o^n^r)+e[15]+530742520|0,i=(i<<16|i>>>16)+o|0,r+=(i^o^n)+e[2]-995338651|0,r=(r<<23|r>>>9)+i|0,n+=(i^(r|~o))+e[0]-198630844|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+e[7]+1126891415|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+e[14]-1416354905|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+e[5]-57434055|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~o))+e[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+e[3]-1894986606|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+e[10]-1051523|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+e[1]-2054922799|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~o))+e[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+e[15]-30611744|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+e[6]-1560198380|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+e[13]+1309151649|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~o))+e[4]-145523070|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+e[11]-1120210379|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+e[2]+718787259|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+e[9]-343485551|0,r=(r<<21|r>>>11)+i|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=i+t[2]|0,t[3]=o+t[3]|0}function n(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function r(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function i(t){var r,i,o,a,s,u,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=c;r+=64)e(l,n(t.substring(r-64,r)));for(t=t.substring(r-64),i=t.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<i;r+=1)o[r>>2]|=t.charCodeAt(r)<<(r%4<<3);if(o[r>>2]|=128<<(r%4<<3),r>55)for(e(l,o),r=0;r<16;r+=1)o[r]=0;return a=8*c,a=a.toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,o[14]=s,o[15]=u,e(l,o),l}function o(t){var n,i,o,a,s,u,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=c;n+=64)e(l,r(t.subarray(n-64,n)));for(t=n-64<c?t.subarray(n-64):new Uint8Array(0),i=t.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<i;n+=1)o[n>>2]|=t[n]<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(e(l,o),n=0;n<16;n+=1)o[n]=0;return a=8*c,a=a.toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,o[14]=s,o[15]=u,e(l,o),l}function a(t){var e,n="";for(e=0;e<4;e+=1)n+=d[t>>8*e+4&15]+d[t>>8*e&15];return n}function s(t){var e;for(e=0;e<t.length;e+=1)t[e]=a(t[e]);return t.join("")}function u(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function c(t,e){var n,r=t.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=t.charCodeAt(n);return e?o:i}function l(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function f(t,e,n){var r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t)),r.set(new Uint8Array(e),t.byteLength),n?r:r.buffer}function h(t){var e,n=[],r=t.length;for(e=0;e<r-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function p(){this.reset()}var d=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==s(i("hello"))&&function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return t=0|t||0,t<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(n,r){var i,o,a,s,u=this.byteLength,c=e(n,u),l=u;return r!==t&&(l=e(r,u)),c>l?new ArrayBuffer(0):(i=l-c,o=new ArrayBuffer(i),a=new Uint8Array(o),s=new Uint8Array(this,c,i),a.set(s),o)}}(),p.prototype.append=function(t){return this.appendBinary(u(t)),this},p.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var r,i=this._buff.length;for(r=64;r<=i;r+=64)e(this._hash,n(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},p.prototype.end=function(t){var e,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(o,i),n=s(this._hash),t&&(n=h(n)),this.reset(),n},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},p.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(t,n){var r,i,o,a=n;if(t[a>>2]|=128<<(a%4<<3),a>55)for(e(this._hash,t),a=0;a<16;a+=1)t[a]=0;r=8*this._length,r=r.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),o=parseInt(r[1],16)||0,t[14]=i,t[15]=o,e(this._hash,t)},p.hash=function(t,e){return p.hashBinary(u(t),e)},p.hashBinary=function(t,e){var n=i(t),r=s(n);return e?h(r):r},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(t){var n,i=f(this._buff.buffer,t,!0),o=i.length;for(this._length+=t.byteLength,n=64;n<=o;n+=64)e(this._hash,r(i.subarray(n-64,n)));return this._buff=n-64<o?new Uint8Array(i.buffer.slice(n-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=r[e]<<(e%4<<3);return this._finish(o,i),n=s(this._hash),t&&(n=h(n)),this.reset(),n},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var t=p.prototype.getState.call(this);return t.buff=l(t.buff),t},p.ArrayBuffer.prototype.setState=function(t){return t.buff=c(t.buff,!0),p.prototype.setState.call(this,t)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(t,e){var n=o(new Uint8Array(t)),r=s(n);return e?h(r):r},p})},function(t,e,n){"use strict";(function(e){function r(t){return I.from(t)}function i(t){return"[object Uint8Array]"===Object.prototype.toString.call(t)||I.isBuffer(t)}function o(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?M(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function a(t,e){P=P||n(38),t=t||{},this.objectMode=!!t.objectMode,e instanceof P&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new q,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(F||(F=n(231).StringDecoder),this.decoder=new F(t.encoding),this.encoding=t.encoding)}function s(t){if(P=P||n(38),!(this instanceof s))return new s(t);this._readableState=new a(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),R.call(this)}function u(t,e,n,i,o){var a=t._readableState;if(null===e)a.reading=!1,d(t,a);else{var s;o||(s=l(a,e)),s?t.emit("error",s):a.objectMode||e&&e.length>0?("string"==typeof e||Object.getPrototypeOf(e)===I.prototype||a.objectMode||(e=r(e)),i?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):c(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?c(t,a,e,!1):y(t,a)):c(t,a,e,!1))):i||(a.reading=!1)}return f(a)}function c(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&v(t)),y(t,e)}function l(t,e){var n;return i(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function f(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function h(t){return t>=z?t=z:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function p(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=h(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function d(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,v(t)}}function v(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(B("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?T(m,t):m(t))}function m(t){B("emit readable"),t.emit("readable"),x(t)}function y(t,e){e.readingMore||(e.readingMore=!0,T(g,t,e))}function g(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(B("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function b(t){return function(){var e=t._readableState;B("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&D(t,"data")&&(e.flowing=!0,x(t))}}function _(t){B("readable nexttick read 0"),t.read(0)}function w(t,e){e.resumeScheduled||(e.resumeScheduled=!0,T($,t,e))}function $(t,e){e.reading||(B("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),x(t),e.flowing&&!e.reading&&t.read(0)}function x(t){var e=t._readableState;for(B("flow",e.flowing);e.flowing&&null!==t.read(););}function E(t,e){if(0===e.length)return null;var n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=k(t,e.buffer,e.decoder),n}function k(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?S(t,e):O(t,e),r}function S(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++r}return e.length-=r,i}function O(t,e){var n=I.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0===(t-=a)){a===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++i}return e.length-=i,n}function A(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,T(j,e,t))}function j(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function C(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}var T=n(83);t.exports=s;var P,M=n(568);s.ReadableState=a;var D=(n(35).EventEmitter,function(t,e){return t.listeners(e).length}),R=n(230),I=n(147).Buffer,N=n(59);N.inherits=n(13);var L=n(585),B=void 0;B=L&&L.debuglog?L.debuglog("stream"):function(){};var F,q=n(571),U=n(229);N.inherits(s,R);var V=["error","close","destroy","pause","resume"];Object.defineProperty(s.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),s.prototype.destroy=U.destroy,s.prototype._undestroy=U.undestroy,s.prototype._destroy=function(t,e){this.push(null),e(t)},s.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=I.from(t,e),e=""),n=!0),u(this,t,e,!1,n)},s.prototype.unshift=function(t){return u(this,t,null,!0,!1)},s.prototype.isPaused=function(){return!1===this._readableState.flowing},s.prototype.setEncoding=function(t){return F||(F=n(231).StringDecoder),this._readableState.decoder=new F(t),this._readableState.encoding=t,this};var z=8388608;s.prototype.read=function(t){B("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return B("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?A(this):v(this),null;if(0===(t=p(t,e))&&e.ended)return 0===e.length&&A(this),null;var r=e.needReadable;B("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&(r=!0,B("length less than watermark",r)),e.ended||e.reading?(r=!1,B("reading or ended",r)):r&&(B("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=p(n,e)));var i;return i=t>0?E(t,e):null,null===i?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&A(this)),null!==i&&this.emit("data",i),i},s.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},s.prototype.pipe=function(t,n){function r(t,e){B("onunpipe"),t===h&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,a())}function i(){B("onend"),t.end()}function a(){B("cleanup"),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("drain",m),t.removeListener("error",u),t.removeListener("unpipe",r),h.removeListener("end",i),h.removeListener("end",f),h.removeListener("data",s),y=!0,!p.awaitDrain||t._writableState&&!t._writableState.needDrain||m()}function s(e){B("ondata"),g=!1,!1!==t.write(e)||g||((1===p.pipesCount&&p.pipes===t||p.pipesCount>1&&-1!==C(p.pipes,t))&&!y&&(B("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,g=!0),h.pause())}function u(e){B("onerror",e),f(),t.removeListener("error",u),0===D(t,"error")&&t.emit("error",e)}function c(){t.removeListener("finish",l),f()}function l(){B("onfinish"),t.removeListener("close",c),f()}function f(){B("unpipe"),h.unpipe(t)}var h=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=t;break;case 1:p.pipes=[p.pipes,t];break;default:p.pipes.push(t)}p.pipesCount+=1,B("pipe count=%d opts=%j",p.pipesCount,n);var d=(!n||!1!==n.end)&&t!==e.stdout&&t!==e.stderr,v=d?i:f;p.endEmitted?T(v):h.once("end",v),t.on("unpipe",r);var m=b(h);t.on("drain",m);var y=!1,g=!1;return h.on("data",s),o(t,"error",u),t.once("close",c),t.once("finish",l),t.emit("pipe",h),p.flowing||(B("pipe resume"),h.resume()),t},s.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=C(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},s.prototype.on=function(t,e){var n=R.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&v(this):T(_,this))}return n},s.prototype.addListener=s.prototype.on,s.prototype.resume=function(){var t=this._readableState;return t.flowing||(B("resume"),t.flowing=!0,w(this,t)),this},s.prototype.pause=function(){return B("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(B("pause"),this._readableState.flowing=!1,this.emit("pause")),this},s.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(B("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(i){if(B("wrapped data"),e.decoder&&(i=e.decoder.write(i)),(!e.objectMode||null!==i&&void 0!==i)&&(e.objectMode||i&&i.length)){r.push(i)||(n=!0,t.pause())}});for(var i in t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<V.length;o++)t.on(V[o],r.emit.bind(r,V[o]));return r._read=function(e){B("wrapped _read",e),n&&(n=!1,t.resume())},r},s._fromList=E}).call(e,n(3))},function(t,e,n){"use strict";function r(t){this.afterTransform=function(e,n){return i(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&t.push(n),i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);s.call(this,t),this._transformState=new r(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t,n){a(e,t,n)}):a(e)})}function a(t,e,n){if(e)return t.emit("error",e);null!==n&&void 0!==n&&t.push(n);var r=t._writableState,i=t._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}t.exports=o;var s=n(38),u=n(59);u.inherits=n(13),u.inherits(o,s),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var n=this;s.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){"use strict";function r(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;if(r||i)return void(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||a(o,this,t));this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(a(o,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(t,e){t.emit("error",e)}var a=n(83);t.exports={destroy:r,undestroy:i}},function(t,e,n){t.exports=n(35).EventEmitter},function(t,e,n){function r(t){if(t&&!u(t))throw new Error("Unknown encoding: "+t)}function i(t){return t.toString(this.encoding)}function o(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function a(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var s=n(39).Buffer,u=s.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=e.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),r(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=i)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";t=t.slice(n,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=e.charCodeAt(e.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var i=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,i),i-=this.charReceived),e+=t.toString(this.encoding,0,i);var i=e.length-1,r=e.charCodeAt(i);if(r>=55296&&r<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,i)}return e},c.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},c.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e}},function(t,e,n){function r(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(558),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e){function n(t,e){function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach(function(t){r[t]=i[t]}),r}if(t&&e)return n(t)(e);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(e){r[e]=t[e]}),r}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),n(333);var i=n(246),o=r(i),a=n(250),s=r(a);n(249),n(247),n(170),n(248),n(171),n(251),n(244),n(243),n(245),o.default.routing(s.default),o.default.config(function(t){t.html5Mode(!1)}),o.default.bootstrap(),e.default=o.default.name},function(t,e){t.exports={data:[{customer_id:"1",first_name:"Peter",last_name:"Smith",birthday:"1996-10-12",gender:"m",last_contact:"2013-06-01",customer_lifetime_value:191.12},{customer_id:"2",first_name:"Anna",last_name:"Hopp",birthday:"1987-05-03",gender:"w",last_contact:"2013-07-08",customer_lifetime_value:50.99},{customer_id:"3",first_name:"Christian",last_name:"Cox",birthday:"1991-02-21",gender:"m",last_contact:"2013-08-01",customer_lifetime_value:0},{customer_id:"4",first_name:"Roxy",last_name:"Fox",birthday:"1979-06-30",gender:"w",last_contact:"2012-01-29",customer_lifetime_value:213.12},{customer_id:"5",first_name:"Eric",last_name:"Adam",birthday:"1969-11-21",gender:"m",last_contact:"2013-03-18",customer_lifetime_value:1019.91}]}},function(t,e){t.exports={title:"customer",version:0,description:"describes a customer's details",type:"object",properties:{customer_id:{type:"string",primary:!0},first_name:{type:"string"},last_name:{type:"string"},birthday:{type:"string"},gender:{type:"string"},last_contact:{type:"string"},customer_lifetime_value:{type:"number"}}}},function(t,e){t.exports={data:[{customer_id:"1",pages:"A",timestamp:"2013-06-01 10:10:12"},{customer_id:"1",pages:"B",timestamp:"2013-06-01 10:11:12"},{customer_id:"1",pages:"A",timestamp:"2013-06-01 10:12:12"},{customer_id:"2",pages:"C",timestamp:"2013-07-08 09:03:09"},{customer_id:"2",pages:"A",timestamp:"2013-07-08 09:09:09"},{customer_id:"2",pages:"D",timestamp:"2013-07-08 09:19:09"},{customer_id:"3",pages:"B",timestamp:"2013-07-08 09:19:09"},{customer_id:"3",pages:"A",timestamp:"2013-07-08 09:19:10"},{customer_id:"4",pages:"D",timestamp:"2013-07-08 09:19:11"},{customer_id:"4",pages:"A",timestamp:"2013-07-08 09:19:12"},{customer_id:"5",pages:"X",timestamp:"2013-07-08 09:19:13"},{customer_id:"5",pages:"A",timestamp:"2013-07-08 09:19:14"},{customer_id:"5",pages:"B",timestamp:"2013-07-08 09:19:15"}]}},function(t,e){t.exports={title:"navigation",version:0,description:"describes a page navigation",type:"object",properties:{customer_id:{type:"string"},pages:{type:"string"},timestamp:{type:"string"}},compoundIndexes:[["customer_id","timestamp"]]}},function(t,e){/**
 * @license AngularJS v1.6.4
 * (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(t,e){"use strict";function n(t,e,n){if(!t)throw ut("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function r(t,e){return t||e?t?e?(G(t)&&(t=t.join(" ")),G(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function i(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}function o(t,e,n){var r="";return t=G(t)?t:t&&Q(t)&&t.length?t.split(/\s+/):[],H(t,function(t,i){t&&t.length>0&&(r+=i>0?" ":"",r+=n?e+t:t+e)}),r}function a(t,e){var n=t.indexOf(e);e>=0&&t.splice(n,1)}function s(t){if(t instanceof Z)switch(t.length){case 0:return t;case 1:if(t[0].nodeType===N)return t;break;default:return Z(u(t))}if(t.nodeType===N)return Z(t)}function u(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===N)return n}}function c(t,e,n){H(e,function(e){t.addClass(e,n)})}function l(t,e,n){H(e,function(e){t.removeClass(e,n)})}function f(t){return function(e,n){n.addClass&&(c(t,e,n.addClass),n.addClass=null),n.removeClass&&(l(t,e,n.removeClass),n.removeClass=null)}}function h(t){if(t=t||{},!t.$$prepared){var e=t.domOperation||tt;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=tt},t.$$prepared=!0}return t}function p(t,e){d(t,e),v(t,e)}function d(t,e){e.from&&(t.css(e.from),e.from=null)}function v(t,e){e.to&&(t.css(e.to),e.to=null)}function m(t,e,n){var r=e.options||{},i=n.options||{},o=(r.addClass||"")+" "+(i.addClass||""),a=(r.removeClass||"")+" "+(i.removeClass||""),s=y(t.attr("class"),o,a);i.preparationClasses&&(r.preparationClasses=E(i.preparationClasses,r.preparationClasses),delete i.preparationClasses);var u=r.domOperation!==tt?r.domOperation:null;return z(r,i),u&&(r.domOperation=u),s.addClass?r.addClass=s.addClass:r.addClass=null,s.removeClass?r.removeClass=s.removeClass:r.removeClass=null,e.addClass=r.addClass,e.removeClass=r.removeClass,r}function y(t,e,n){function r(t){Q(t)&&(t=t.split(" "));var e={};return H(t,function(t){t.length&&(e[t]=!0)}),e}var i={};t=r(t),e=r(e),H(e,function(t,e){i[e]=1}),n=r(n),H(n,function(t,e){i[e]=1===i[e]?null:-1});var o={addClass:"",removeClass:""};return H(i,function(e,n){var r,i;1===e?(r="addClass",i=!t[n]||t[n+B]):-1===e&&(r="removeClass",i=t[n]||t[n+L]),i&&(o[r].length&&(o[r]+=" "),o[r]+=n)}),o}function g(t){return t instanceof Z?t[0]:t}function b(t,e,n){var r="";e&&(r=o(e,F,!0)),n.addClass&&(r=E(r,o(n.addClass,L))),n.removeClass&&(r=E(r,o(n.removeClass,B))),r.length&&(n.preparationClasses=r,t.addClass(r))}function _(t,e){e.preparationClasses&&(t.removeClass(e.preparationClasses),e.preparationClasses=null),e.activeClasses&&(t.removeClass(e.activeClasses),e.activeClasses=null)}function w(t,e){var n=e?"-"+e+"s":"";return x(t,[at,n]),[at,n]}function $(t,e){var n=e?"paused":"",r=R+rt;return x(t,[r,n]),[r,n]}function x(t,e){var n=e[0],r=e[1];t.style[n]=r}function E(t,e){return t?e?t+" "+e:t:e}function k(t){return[ot,t+"s"]}function S(t,e){return[e?it:at,t+"s"]}function O(t,e,n){var r=Object.create(null),i=t.getComputedStyle(e)||{};return H(n,function(t,e){var n=i[t];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=A(n)),0===n&&(n=null),r[e]=n}}),r}function A(t){var e=0,n=t.split(/\s*,\s*/);return H(n,function(t){"s"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function j(t){return 0===t||null!=t}function C(t,e){var n=M,r=t+"s";return e?n+=et:r+=" linear all",[n,r]}function T(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}function P(t,e,n){H(n,function(n){t[n]=W(t[n])?t[n]:e.style.getPropertyValue(n)})}var M,D,R,I,N=1,L="-add",B="-remove",F="ng-",q="ng-animate",U="$$ngAnimateChildren";void 0===t.ontransitionend&&void 0!==t.onwebkittransitionend?("-webkit-",M="WebkitTransition",D="webkitTransitionEnd transitionend"):(M="transition",D="transitionend"),void 0===t.onanimationend&&void 0!==t.onwebkitanimationend?("-webkit-",R="WebkitAnimation",I="webkitAnimationEnd animationend"):(R="animation",I="animationend");var V,z,H,G,W,K,J,Y,Q,X,Z,tt,et="Duration",nt="TimingFunction",rt="PlayState",it=R+"Delay",ot=R+et,at=M+"Delay",st=M+et,ut=e.$$minErr("ng"),ct=["$$rAF",function(t){function e(t){r=r.concat(t),n()}function n(){if(r.length){for(var e=r.shift(),o=0;o<e.length;o++)e[o]();i||t(function(){i||n()})}}var r,i;return r=e.queue=[],e.waitUntilQuiet=function(e){i&&i(),i=t(function(){i=null,e(),n()})},e}],lt=["$interpolate",function(t){return{link:function(e,n,r){function i(t){t="on"===t||"true"===t,n.data(U,t)}var o=r.ngAnimateChildren;Q(o)&&0===o.length?n.data(U,!0):(i(t(o)(e)),r.$observe("ngAnimateChildren",i))}}}],ft="$$animateCss",ht=1e3,pt=3,dt=1.5,vt={transitionDuration:st,transitionDelay:at,transitionProperty:M+"Property",animationDuration:ot,animationDelay:it,animationIterationCount:R+"IterationCount"},mt={transitionDuration:st,transitionDelay:at,animationDuration:ot,animationDelay:it},yt=["$animateProvider",function(t){var e=T(),n=T();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(t,r,s,u,c,l,m,y){function b(t,e){var n="$$ngAnimateParentKey",r=t.parentNode;return(r[n]||(r[n]=++q))+"-"+t.getAttribute("class")+"-"+e}function _(n,r,i,o){var a=e.get(i);return a||(a=O(t,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),e.put(i,a),a}function E(i,a,s,u){var c;if(e.count(s)>0&&!(c=n.get(s))){var l=o(a,"-stagger");r.addClass(i,l),c=O(t,i,u),c.animationDuration=Math.max(c.animationDuration,0),c.transitionDuration=Math.max(c.transitionDuration,0),r.removeClass(i,l),n.put(s,c)}return c||{}}function A(t){U.push(t),m.waitUntilQuiet(function(){e.flush(),n.flush();for(var t=c(),r=0;r<U.length;r++)U[r](t);U.length=0})}function T(t,e,n){var r=_(t,e,n,vt),i=r.animationDelay,o=r.transitionDelay;return r.maxDelay=i&&o?Math.max(i,o):i||o,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}var N=f(r),q=0,U=[];return function(t,n){function c(){m()}function f(){m(!0)}function m(e){if(!(J||Q&&Y)){J=!0,Y=!1,z.$$skipPreparationClasses||r.removeClass(t,_t),r.removeClass(t,$t),$(K,!1),w(K,!1),H(st,function(t){K.style[t[0]]=""}),N(t,z),p(t,z),Object.keys(W).length&&H(W,function(t,e){t?K.style.setProperty(e,t):K.style.removeProperty(e)}),z.onDone&&z.onDone(),lt&&lt.length&&t.off(lt.join(" "),q);var n=t.data(ft);n&&(u.cancel(n[0].timer),t.removeData(ft)),X&&X.complete(!e)}}function _(t){Rt.blockTransition&&w(K,t),Rt.blockKeyframeAnimation&&$(K,!!t)}function O(){return X=new s({end:c,cancel:f}),A(tt),m(),{$$willAnimate:!1,start:function(){return X},end:c}}function q(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||Date.now(),r=parseFloat(e.elapsedTime.toFixed(pt));Math.max(n-at,0)>=rt&&r>=it&&(Q=!0,m())}function U(){function e(){if(!J){if(_(!1),H(st,function(t){var e=t[0],n=t[1];K.style[e]=n}),N(t,z),r.addClass(t,$t),Rt.recalculateTimingStyles){if(wt=K.getAttribute("class")+" "+_t,Et=b(K,wt),Mt=T(K,wt,Et),Dt=Mt.maxDelay,et=Math.max(Dt,0),0===(it=Mt.maxDuration))return void m();Rt.hasTransitions=Mt.transitionDuration>0,Rt.hasAnimations=Mt.animationDuration>0}if(Rt.applyAnimationDelay&&(Dt="boolean"!=typeof z.delay&&j(z.delay)?parseFloat(z.delay):Dt,et=Math.max(Dt,0),Mt.animationDelay=Dt,It=S(Dt,!0),st.push(It),K.style[It[0]]=It[1]),rt=et*ht,ot=it*ht,z.easing){var e,i=z.easing;Rt.hasTransitions&&(e=M+nt,st.push([e,i]),K.style[e]=i),Rt.hasAnimations&&(e=R+nt,st.push([e,i]),K.style[e]=i)}Mt.transitionDuration&&lt.push(D),Mt.animationDuration&&lt.push(I),at=Date.now();var o=rt+dt*ot,a=at+o,s=t.data(ft)||[],c=!0;if(s.length){var l=s[0];c=a>l.expectedEndTime,c?u.cancel(l.timer):s.push(m)}if(c){var f=u(n,o,!1);s[0]={timer:f,expectedEndTime:a},s.push(m),t.data(ft,s)}lt.length&&t.on(lt.join(" "),q),z.to&&(z.cleanupStyles&&P(W,K,Object.keys(z.to)),v(t,z))}}function n(){var e=t.data(ft);if(e){for(var n=1;n<e.length;n++)e[n]();t.removeData(ft)}}if(!J){if(!K.parentNode)return void m();var i=function(t){if(Q)Y&&t&&(Y=!1,m());else if(Y=!t,Mt.animationDuration){var e=$(K,Y);Y?st.push(e):a(st,e)}},o=Tt>0&&(Mt.transitionDuration&&0===kt.transitionDuration||Mt.animationDuration&&0===kt.animationDuration)&&Math.max(kt.animationDelay,kt.transitionDelay);o?u(e,Math.floor(o*Tt*ht),!1):e(),Z.resume=function(){i(!0)},Z.pause=function(){i(!1)}}}var z=n||{};z.$$prepared||(z=h(V(z)));var W={},K=g(t);if(!K||!K.parentNode||!y.enabled())return O();var J,Y,Q,X,Z,et,rt,it,ot,at,st=[],ut=t.attr("class"),ct=i(z),lt=[];if(0===z.duration||!l.animations&&!l.transitions)return O();var vt=z.event&&G(z.event)?z.event.join(" "):z.event,yt=vt&&z.structural,gt="",bt="";yt?gt=o(vt,F,!0):vt&&(gt=vt),z.addClass&&(bt+=o(z.addClass,L)),z.removeClass&&(bt.length&&(bt+=" "),bt+=o(z.removeClass,B)),z.applyClassesEarly&&bt.length&&N(t,z);var _t=[gt,bt].join(" ").trim(),wt=ut+" "+_t,$t=o(_t,"-active"),xt=ct.to&&Object.keys(ct.to).length>0;if(!((z.keyframeStyle||"").length>0||xt||_t))return O();var Et,kt;if(z.stagger>0){var St=parseFloat(z.stagger);kt={transitionDelay:St,animationDelay:St,transitionDuration:0,animationDuration:0}}else Et=b(K,wt),kt=E(K,_t,Et,mt);z.$$skipPreparationClasses||r.addClass(t,_t);var Ot;if(z.transitionStyle){var At=[M,z.transitionStyle];x(K,At),st.push(At)}if(z.duration>=0){Ot=K.style[M].length>0;var jt=C(z.duration,Ot);x(K,jt),st.push(jt)}if(z.keyframeStyle){var Ct=[R,z.keyframeStyle];x(K,Ct),st.push(Ct)}var Tt=kt?z.staggerIndex>=0?z.staggerIndex:e.count(Et):0,Pt=0===Tt;Pt&&!z.skipBlocking&&w(K,9999);var Mt=T(K,wt,Et),Dt=Mt.maxDelay;et=Math.max(Dt,0),it=Mt.maxDuration;var Rt={};if(Rt.hasTransitions=Mt.transitionDuration>0,Rt.hasAnimations=Mt.animationDuration>0,Rt.hasTransitionAll=Rt.hasTransitions&&"all"===Mt.transitionProperty,Rt.applyTransitionDuration=xt&&(Rt.hasTransitions&&!Rt.hasTransitionAll||Rt.hasAnimations&&!Rt.hasTransitions),Rt.applyAnimationDuration=z.duration&&Rt.hasAnimations,Rt.applyTransitionDelay=j(z.delay)&&(Rt.applyTransitionDuration||Rt.hasTransitions),Rt.applyAnimationDelay=j(z.delay)&&Rt.hasAnimations,Rt.recalculateTimingStyles=bt.length>0,(Rt.applyTransitionDuration||Rt.applyAnimationDuration)&&(it=z.duration?parseFloat(z.duration):it,Rt.applyTransitionDuration&&(Rt.hasTransitions=!0,Mt.transitionDuration=it,Ot=K.style[M+"Property"].length>0,st.push(C(it,Ot))),Rt.applyAnimationDuration&&(Rt.hasAnimations=!0,Mt.animationDuration=it,st.push(k(it)))),0===it&&!Rt.recalculateTimingStyles)return O();if(null!=z.delay){var It;"boolean"!=typeof z.delay&&(It=parseFloat(z.delay),et=Math.max(It,0)),Rt.applyTransitionDelay&&st.push(S(It)),Rt.applyAnimationDelay&&st.push(S(It,!0))}return null==z.duration&&Mt.transitionDuration>0&&(Rt.recalculateTimingStyles=Rt.recalculateTimingStyles||Pt),rt=et*ht,ot=it*ht,z.skipBlocking||(Rt.blockTransition=Mt.transitionDuration>0,Rt.blockKeyframeAnimation=Mt.animationDuration>0&&kt.animationDelay>0&&0===kt.animationDuration),z.from&&(z.cleanupStyles&&P(W,K,Object.keys(z.from)),d(t,z)),Rt.blockTransition||Rt.blockKeyframeAnimation?_(it):z.skipBlocking||w(K,!1),{$$willAnimate:!0,end:c,start:function(){if(!J)return Z={end:c,cancel:f,resume:null,pause:null},X=new s(Z),A(U),X}}}}]}],gt=["$$animationProvider",function(t){function e(t){return t.parentNode&&11===t.parentNode.nodeType}t.drivers.push("$$animateCssDriver");var n="ng-animate-shim",r="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,i,o,a,s,u,c){function l(t){return t.replace(/\bng-\S+\b/g,"")}function f(t,e){return Q(t)&&(t=t.split(" ")),Q(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function h(e,i,a){function s(t){var e={},n=g(t).getBoundingClientRect();return H(["width","height","top","left"],function(t){var r=n[t];switch(t){case"top":r+=v.scrollTop;break;case"left":r+=v.scrollLeft}e[t]=Math.floor(r)+"px"}),e}function u(t){return t.attr("class")||""}function c(){var e=l(u(a)),n=f(e,d),i=f(d,e),o=t(p,{to:s(a),addClass:"ng-anchor-in "+n,removeClass:r+" "+i,delay:!0});return o.$$willAnimate?o:null}function h(){p.remove(),i.removeClass(n),a.removeClass(n)}var p=Z(g(i).cloneNode(!0)),d=l(u(p));i.addClass(n),a.addClass(n),p.addClass("ng-anchor"),y.append(p);var m,b=function(){var e=t(p,{addClass:r,delay:!0,from:s(i)});return e.$$willAnimate?e:null}();if(!b&&!(m=c()))return h();var _=b||m;return{start:function(){function t(){n&&n.end()}var e,n=_.start();return n.done(function(){if(n=null,!m&&(m=c()))return n=m.start(),n.done(function(){n=null,h(),e.complete()}),n;h(),e.complete()}),e=new o({end:t,cancel:t})}}}function p(t,e,n,r){var i=d(t),a=d(e),s=[];if(H(r,function(t){var e=t.out,r=t.in,i=h(n,e,r);i&&s.push(i)}),i||a||0!==s.length)return{start:function(){function t(){H(e,function(t){t.end()})}var e=[];i&&e.push(i.start()),a&&e.push(a.start()),H(s,function(t){e.push(t.start())});var n=new o({end:t,cancel:t});return o.all(e,function(t){n.complete(t)}),n}}}function d(e){var n=e.element,r=e.options||{};e.structural&&(r.event=e.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===e.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=E(r.event,r.preparationClasses));var i=t(n,r);return i.$$willAnimate?i:null}if(!s.animations&&!s.transitions)return tt;var v=c[0].body,m=g(a),y=Z(e(m)||v.contains(m)?m:v);return function(t){return t.from&&t.to?p(t.from,t.to,t.classes,t.anchors):d(t)}}]}],bt=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,r){function i(n){n=G(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var a=n[o],s=t.$$registeredAnimations[a];s&&!i[a]&&(r.push(e.get(s)),i[a]=!0)}return r}var o=f(r);return function(t,e,r,a){function s(){a.domOperation(),o(t,a)}function u(){d=!0,s(),p(t,a)}function c(t,e,r,i,o){var a;switch(r){case"animate":a=[e,i.from,i.to,o];break;case"setClass":a=[e,y,g,o];break;case"addClass":a=[e,y,o];break;case"removeClass":a=[e,g,o];break;default:a=[e,o]}a.push(i);var s=t.apply(t,a);if(s)if(J(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(J(s))return s;return tt}function l(t,e,r,i,o){var a=[];return H(i,function(i){var s=i[o];s&&a.push(function(){var i,o,a=!1,u=function(t){a||(a=!0,(o||tt)(t),i.complete(!t))};return i=new n({end:function(){u()},cancel:function(){u(!0)}}),o=c(s,t,e,r,function(t){u(!1===t)}),i})}),a}function f(t,e,r,i,o){var a=l(t,e,r,i,o);if(0===a.length){var s,u;"beforeSetClass"===o?(s=l(t,"removeClass",r,i,"beforeRemoveClass"),u=l(t,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(s=l(t,"removeClass",r,i,"removeClass"),u=l(t,"addClass",r,i,"addClass")),s&&(a=a.concat(s)),u&&(a=a.concat(u))}if(0!==a.length)return function(t){var e=[];return a.length&&H(a,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){H(e,function(e){t?e.cancel():e.end()})}}}var d=!1;3===arguments.length&&Y(r)&&(a=r,r=null),a=h(a),r||(r=t.attr("class")||"",a.addClass&&(r+=" "+a.addClass),a.removeClass&&(r+=" "+a.removeClass));var v,m,y=a.addClass,g=a.removeClass,b=i(r);if(b.length){var _,w;"leave"===e?(w="leave",_="afterLeave"):(w="before"+e.charAt(0).toUpperCase()+e.substr(1),_=e),"enter"!==e&&"move"!==e&&(v=f(t,e,a,b,w)),m=f(t,e,a,b,_)}if(v||m){var $;return{$$willAnimate:!0,end:function(){return $?$.end():(u(),$=new n,$.complete(!0)),$},start:function(){function t(t){u(t),$.complete(t)}function e(e){d||((r||tt)(e),t(e))}if($)return $;$=new n;var r,i=[];return v&&i.push(function(t){r=v(t)}),i.length?i.push(function(t){s(),t(!0)}):s(),m&&i.push(function(t){r=m(t)}),$.setHost({end:function(){e()},cancel:function(){e(!0)}}),n.chain(i,t),$}}}}}]}],_t=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){var n=e.element,r=e.event,i=e.options,o=e.classes;return t(n,r,o,i)}return function(t){if(t.from&&t.to){var r=n(t.from),i=n(t.to);if(!r&&!i)return;return{start:function(){function t(){return function(){H(o,function(t){t.end()})}}function n(t){a.complete(t)}var o=[];r&&o.push(r.start()),i&&o.push(i.start()),e.all(o,n);var a=new e({end:t(),cancel:t()});return a}}}return n(t)}}]}],wt="data-ng-animate",$t="$ngAnimatePin",xt=["$animateProvider",function(e){function r(t){if(!t)return null;var e=t.split(d),n=Object.create(null);return H(e,function(t){n[t]=!0}),n}function i(t,e){if(t&&e){var n=r(e);return t.split(d).some(function(t){return n[t]})}}function o(t,e,n){return v[t].some(function(t){return t(e,n)})}function a(t,e){var n=(t.addClass||"").length>0,r=(t.removeClass||"").length>0;return e?n&&r:n||r}var c=1,l=2,d=" ",v=this.rules={skip:[],cancel:[],join:[]};v.join.push(function(t,e){return!t.structural&&a(t)}),v.skip.push(function(t,e){return!t.structural&&!a(t)}),v.skip.push(function(t,e){return"leave"===e.event&&t.structural}),v.skip.push(function(t,e){return e.structural&&e.state===l&&!t.structural}),v.cancel.push(function(t,e){return e.structural&&t.structural}),v.cancel.push(function(t,e){return e.state===l&&t.structural}),v.cancel.push(function(t,e){if(e.structural)return!1;var n=t.addClass,r=t.removeClass,o=e.addClass,a=e.removeClass;return!(X(n)&&X(r)||X(o)&&X(a))&&(i(n,a)||i(r,o))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(r,i,d,v,y,w,$,x,E,k,S){function O(){var t=!1;return function(e){t?e():i.$$postDigest(function(){t=!0,e()})}}function A(t,e){return m(t,e,{})}function j(t,e,n){var r=[],i=J[n];return i&&H(i,function(i){rt.call(i.node,e)?r.push(i.callback):"leave"===n&&rt.call(i.node,t)&&r.push(i.callback)}),r}function C(t,e,n){var r=u(e);return t.filter(function(t){return!(t.node===r&&(!n||t.callback===n))})}function T(t,e){"close"!==t||e.parentNode||it.off(e)}function P(t,e,n){function u(t,e,n,i){k(function(){var t=j(x,y,e);t.length?r(function(){H(t,function(t){t(v,n,i)}),T(n,y)}):T(n,y)}),t.progress(e,n,i)}function f(t){_(v,d),nt(v,d),p(v,d),d.domOperation(),E.complete(!t)}var d=V(n),v=s(t),y=g(v),x=y&&y.parentNode;d=h(d);var E=new $,k=O();if(G(d.addClass)&&(d.addClass=d.addClass.join(" ")),d.addClass&&!Q(d.addClass)&&(d.addClass=null),G(d.removeClass)&&(d.removeClass=d.removeClass.join(" ")),d.removeClass&&!Q(d.removeClass)&&(d.removeClass=null),d.from&&!Y(d.from)&&(d.from=null),d.to&&!Y(d.to)&&(d.to=null),!y)return f(),E;var C=[y.getAttribute("class"),d.addClass,d.removeClass].join(" ");if(!et(C))return f(),E;var P=["enter","move","leave"].indexOf(e)>=0,N=S(),q=!F||N||B.get(y),U=!q&&L.get(y)||{},z=!!U.state;if(q||z&&U.state===c||(q=!R(y,x,e)),q)return N&&u(E,e,"start"),f(),N&&u(E,e,"close"),E;P&&M(y);var W={structural:P,element:v,event:e,addClass:d.addClass,removeClass:d.removeClass,close:f,options:d,runner:E};if(z){if(o("skip",W,U))return U.state===l?(f(),E):(m(v,U,W),U.runner);if(o("cancel",W,U))if(U.state===l)U.runner.end();else{if(!U.structural)return m(v,U,W),U.runner;U.close()}else{if(o("join",W,U)){if(U.state!==l)return b(v,P?e:null,d),e=W.event=U.event,d=m(v,U,W),U.runner;A(v,W)}}}else A(v,W);var K=W.structural;if(K||(K="animate"===W.event&&Object.keys(W.options.to||{}).length>0||a(W)),!K)return f(),D(y),E;var J=(U.counter||0)+1;return W.counter=J,I(y,c,W),i.$$postDigest(function(){v=s(t);var n=L.get(y),r=!n;n=n||{};var i=v.parent()||[],o=i.length>0&&("animate"===n.event||n.structural||a(n));if(r||n.counter!==J||!o)return r&&(nt(v,d),p(v,d)),(r||P&&n.event!==e)&&(d.domOperation(),E.end()),void(o||D(y));e=!n.structural&&a(n,!0)?"setClass":n.event,I(y,l);var c=w(v,e,n.options);E.setHost(c),u(E,e,"start",{}),c.done(function(t){f(!t);var n=L.get(y);n&&n.counter===J&&D(y),u(E,e,"close",{})})}),E}function M(t){var e=t.querySelectorAll("["+wt+"]");H(e,function(t){var e=parseInt(t.getAttribute(wt),10),n=L.get(t);if(n)switch(e){case l:n.runner.end();case c:L.delete(t)}})}function D(t){t.removeAttribute(wt),L.delete(t)}function R(t,e,n){var r,i=v[0].body,o=g(d),a=t===i||"HTML"===t.nodeName,s=t===o,u=!1,c=B.get(t),l=Z.data(t,$t);for(l&&(e=g(l));e&&(s||(s=e===o),e.nodeType===N);){var f=L.get(e)||{};if(!u){var h=B.get(e);if(!0===h&&!1!==c){c=!0;break}!1===h&&(c=!1),u=f.structural}if(X(r)||!0===r){var p=Z.data(e,U);W(p)&&(r=p)}if(u&&!1===r)break;if(a||(a=e===i),a&&s)break;e=s||!(l=Z.data(e,$t))?e.parentNode:g(l)}return(!u||r)&&!0!==c&&s&&a}function I(t,e,n){n=n||{},n.state=e,t.setAttribute(wt,e);var r=L.get(t),i=r?z(r,n):n;L.set(t,i)}var L=new y,B=new y,F=null,q=i.$watch(function(){return 0===x.totalPendingRequests},function(t){t&&(q(),i.$$postDigest(function(){i.$$postDigest(function(){null===F&&(F=!0)})}))}),J=Object.create(null),tt=e.classNameFilter(),et=tt?function(t){return tt.test(t)}:function(){return!0},nt=f(E),rt=t.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))},it={on:function(t,e,n){var r=u(e);J[t]=J[t]||[],J[t].push({node:r,callback:n}),Z(e).on("$destroy",function(){L.get(r)||it.off(t,e,n)})},off:function(t,e,n){if(1!==arguments.length||Q(arguments[0])){var r=J[t];r&&(J[t]=1===arguments.length?null:C(r,e,n))}else{e=arguments[0];for(var i in J)J[i]=C(J[i],e)}},pin:function(t,e){n(K(t),"element","not an element"),n(K(e),"parentElement","not an element"),t.data($t,e)},push:function(t,e,n,r){return n=n||{},n.domOperation=r,P(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!F;else{if(K(t)){var r=g(t);1===n?e=!B.get(r):B.set(r,!e)}else e=F=!!t}return e}};return it}]}],Et=["$animateProvider",function(t){function e(t,e){t.data(s,e)}function n(t){t.removeData(s)}function i(t){return t.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(t,s,u,c,l,d){function v(t){function e(t){if(t.processed)return t;t.processed=!0;var n=t.domNode,o=n.parentNode;i.set(n,t);for(var a;o;){if(a=i.get(o)){a.processed||(a=e(a));break}o=o.parentNode}return(a||r).children.push(t),t}var n,r={children:[]},i=new l;for(n=0;n<t.length;n++){var o=t[n];i.set(o.domNode,t[n]={domNode:o.domNode,fn:o.fn,children:[]})}for(n=0;n<t.length;n++)e(t[n]);return function(t){var e,n=[],r=[];for(e=0;e<t.children.length;e++)r.push(t.children[e]);var i=r.length,o=0,a=[];for(e=0;e<r.length;e++){var s=r[e];i<=0&&(i=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(t){o++,r.push(t)}),i--}return a.length&&n.push(a),n}(r)}var m=[],y=f(t);return function(l,f,b){function _(t){var e="["+o+"]",n=t.hasAttribute(o)?[t]:t.querySelectorAll(e),r=[];return H(n,function(t){var e=t.getAttribute(o);e&&e.length&&r.push(t)}),r}function w(t){var e=[],n={};H(t,function(t,r){var i=t.element,a=g(i),s=t.event,u=["enter","move"].indexOf(s)>=0,c=t.structural?_(a):[];if(c.length){var l=u?"to":"from";H(c,function(t){var e=t.getAttribute(o);n[e]=n[e]||{},n[e][l]={animationID:r,element:Z(t)}})}else e.push(t)});var r={},i={};return H(n,function(n,o){var a=n.from,s=n.to;if(!a||!s){var u=a?a.animationID:s.animationID,c=u.toString();return void(r[c]||(r[c]=!0,e.push(t[u])))}var l=t[a.animationID],f=t[s.animationID],h=a.animationID.toString();if(!i[h]){var p=i[h]={structural:!0,beforeStart:function(){l.beforeStart(),f.beforeStart()},close:function(){l.close(),f.close()},classes:$(l.classes,f.classes),from:l,to:f,anchors:[]};p.classes.length?e.push(p):(e.push(l),e.push(f))}i[h].anchors.push({out:a.element,in:s.element})}),e}function $(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],r=0;r<t.length;r++){var i=t[r];if("ng-"!==i.substring(0,3))for(var o=0;o<e.length;o++)if(i===e[o]){n.push(i);break}}return n.join(" ")}function x(t){for(var e=a.length-1;e>=0;e--){var n=a[e],r=u.get(n),i=r(t);if(i)return i}}function E(){l.addClass(q),T&&t.addClass(l,T),P&&(t.removeClass(l,P),P=null)}function k(t,e){function n(t){var n=i(t);n&&n.setHost(e)}t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element)}function S(){var t=i(l);!t||"leave"===f&&b.$$domOperationFired||t.end()}function O(e){l.off("$destroy",S),n(l),y(l,b),p(l,b),b.domOperation(),T&&t.removeClass(l,T),l.removeClass(q),j.complete(!e)}b=h(b);var A=["enter","move","leave"].indexOf(f)>=0,j=new c({end:function(){O()},cancel:function(){O(!0)}});if(!a.length)return O(),j;e(l,j);var C=r(l.attr("class"),r(b.addClass,b.removeClass)),T=b.tempClasses;T&&(C+=" "+T,b.tempClasses=null);var P;return A&&(P="ng-"+f+"-prepare",t.addClass(l,P)),m.push({element:l,classes:C,event:f,structural:A,options:b,beforeStart:E,close:O}),l.on("$destroy",S),m.length>1?j:(s.$$postDigest(function(){var t=[];H(m,function(e){i(e.element)?t.push(e):e.close()}),m.length=0;var e=w(t),n=[];H(e,function(t){n.push({domNode:g(t.from?t.from.element:t.element),fn:function(){t.beforeStart();var e,n=t.close;if(i(t.anchors?t.from.element||t.to.element:t.element)){var r=x(t);r&&(e=r.start)}if(e){var o=e();o.done(function(t){n(!t)}),k(t,o)}else n()}})}),d(v(n))}),j)}}]}],kt=["$animate","$rootScope",function(t,e){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,r,i,o){var a,s;e.$watchCollection(r.ngAnimateSwap||r.for,function(r){a&&t.leave(a),s&&(s.$destroy(),s=null),(r||0===r)&&(s=e.$new(),o(s,function(e){a=e,t.enter(e,null,n)}))})}}}];e.module("ngAnimate",[],function(){tt=e.noop,V=e.copy,z=e.extend,Z=e.element,H=e.forEach,G=e.isArray,Q=e.isString,Y=e.isObject,X=e.isUndefined,W=e.isDefined,J=e.isFunction,K=e.isElement}).info({angularVersion:"1.6.4"}).directive("ngAnimateSwap",kt).directive("ngAnimateChildren",lt).factory("$$rAFScheduler",ct).provider("$$animateQueue",xt).provider("$$animation",Et).provider("$animateCss",yt).provider("$$animateCssDriver",gt).provider("$$animateJs",bt).provider("$$animateJsDriver",_t)}(window,window.angular)},function(t,e,n){n(239),t.exports="ngAnimate"},function(t,e){/**
 * @license AngularJS v1.6.4
 * (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(t,e){"use strict";function n(t,e){if(u(t)){e=e||[];for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}else if(c(t)){e=e||{};for(var i in t)"$"===i.charAt(0)&&"$"===i.charAt(1)||(e[i]=t[i])}return e||t}function r(){function t(t,n){return e.extend(Object.create(t),n)}function r(t,e){var n=e.caseInsensitiveMatch,r={originalPath:t,regexp:t},i=r.keys=[];return t=t.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(t,e,n,r){var o="?"===r||"*?"===r?"?":null,a="*"===r||"*?"===r?"*":null;return i.push({name:n,optional:!!o}),e=e||"",(o?"":e)+"(?:"+(o?e:"")+(a&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$*])/g,"\\$1"),r.regexp=new RegExp("^"+t+"$",n?"i":""),r}u=e.isArray,c=e.isObject,l=e.isDefined,f=e.noop;var i={};this.when=function(t,o){var a=n(o);if(e.isUndefined(a.reloadOnSearch)&&(a.reloadOnSearch=!0),e.isUndefined(a.caseInsensitiveMatch)&&(a.caseInsensitiveMatch=this.caseInsensitiveMatch),i[t]=e.extend(a,t&&r(t,a)),t){var s="/"===t[t.length-1]?t.substr(0,t.length-1):t+"/";i[s]=e.extend({redirectTo:t},r(s,a))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(t){return"string"==typeof t&&(t={redirectTo:t}),this.when(null,t),this},h=!0,this.eagerInstantiationEnabled=function(t){return l(t)?(h=t,this):h},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(n,r,o,a,s,u,c,l){function h(t,e){var n=e.keys,r={};if(!e.regexp)return null;var i=e.regexp.exec(t);if(!i)return null;for(var o=1,a=i.length;o<a;++o){var s=n[o-1],u=i[o];s&&u&&(r[s.name]=u)}return r}function p(t){var r=k.current;$=_(),(x=$&&r&&$.$$route===r.$$route&&e.equals($.pathParams,r.pathParams)&&!$.reloadOnSearch&&!E)||!r&&!$||n.$broadcast("$routeChangeStart",$,r).defaultPrevented&&t&&t.preventDefault()}function v(){var t=k.current,r=$;if(x)t.params=r.params,e.copy(t.params,o),n.$broadcast("$routeUpdate",t);else if(r||t){E=!1,k.current=r;var i=a.resolve(r);l.$$incOutstandingRequestCount(),i.then(m).then(y).then(function(a){return a&&i.then(g).then(function(i){r===k.current&&(r&&(r.locals=i,e.copy(r.params,o)),n.$broadcast("$routeChangeSuccess",r,t))})}).catch(function(e){r===k.current&&n.$broadcast("$routeChangeError",r,t,e)}).finally(function(){l.$$completeOutstandingRequest(f)})}}function m(t){var n={route:t,hasRedirection:!1};if(t)if(t.redirectTo)if(e.isString(t.redirectTo))n.path=w(t.redirectTo,t.params),n.search=t.params,n.hasRedirection=!0;else{var i=r.path(),o=r.search(),u=t.redirectTo(t.pathParams,i,o);e.isDefined(u)&&(n.url=u,n.hasRedirection=!0)}else if(t.resolveRedirectTo)return a.resolve(s.invoke(t.resolveRedirectTo)).then(function(t){return e.isDefined(t)&&(n.url=t,n.hasRedirection=!0),n});return n}function y(t){var e=!0;if(t.route!==k.current)e=!1;else if(t.hasRedirection){var n=r.url(),i=t.url;i?r.url(i).replace():i=r.path(t.path).search(t.search).replace().url(),i!==n&&(e=!1)}return e}function g(t){if(t){var n=e.extend({},t.resolve);e.forEach(n,function(t,r){n[r]=e.isString(t)?s.get(t):s.invoke(t,null,null,r)});var r=b(t);return e.isDefined(r)&&(n.$template=r),a.all(n)}}function b(t){var n,r;return e.isDefined(n=t.template)?e.isFunction(n)&&(n=n(t.params)):e.isDefined(r=t.templateUrl)&&(e.isFunction(r)&&(r=r(t.params)),e.isDefined(r)&&(t.loadedTemplateUrl=c.valueOf(r),n=u(r))),n}function _(){var n,o;return e.forEach(i,function(i,a){!o&&(n=h(r.path(),i))&&(o=t(i,{params:e.extend({},r.search(),n),pathParams:n}),o.$$route=i)}),o||i[null]&&t(i[null],{params:{},pathParams:{}})}function w(t,n){var r=[];return e.forEach((t||"").split(":"),function(t,e){if(0===e)r.push(t);else{var i=t.match(/(\w+)(?:[?*])?(.*)/),o=i[1];r.push(n[o]),r.push(i[2]||""),delete n[o]}}),r.join("")}var $,x,E=!1,k={routes:i,reload:function(){E=!0;var t={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,E=!1}};n.$evalAsync(function(){p(t),t.defaultPrevented||v()})},updateParams:function(t){if(!this.current||!this.current.$$route)throw d("norout","Tried updating route when with no current route");t=e.extend({},this.current.params,t),r.path(w(this.current.$$route.originalPath,t)),r.search(t)}};return n.$on("$locationChangeStart",p),n.$on("$locationChangeSuccess",v),k}]}function i(t){h&&t.get("$route")}function o(){this.$get=function(){return{}}}function a(t,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,o,a,s,u){function c(){p&&(r.cancel(p),p=null),f&&(f.$destroy(),f=null),h&&(p=r.leave(h),p.done(function(t){!1!==t&&(p=null)}),h=null)}function l(){var a=t.current&&t.current.locals,s=a&&a.$template;if(e.isDefined(s)){var l=i.$new(),p=t.current,m=u(l,function(t){r.enter(t,null,h||o).done(function(t){!1===t||!e.isDefined(d)||d&&!i.$eval(d)||n()}),c()});h=m,f=p.scope=l,f.$emit("$viewContentLoaded"),f.$eval(v)}else c()}var f,h,p,d=a.autoscroll,v=a.onload||"";i.$on("$routeChangeSuccess",l),l()}}}function s(t,e,n){return{restrict:"ECA",priority:-400,link:function(r,i){var o=n.current,a=o.locals;i.html(a.$template);var s=t(i.contents());if(o.controller){a.$scope=r;var u=e(o.controller,a);o.controllerAs&&(r[o.controllerAs]=u),i.data("$ngControllerController",u),i.children().data("$ngControllerController",u)}r[o.resolveAs||"$resolve"]=a,s(r)}}}var u,c,l,f,h,p=e.module("ngRoute",[]).info({angularVersion:"1.6.4"}).provider("$route",r).run(i),d=e.$$minErr("ngRoute");i.$inject=["$injector"],p.provider("$routeParams",o),p.directive("ngView",a),p.directive("ngView",s),a.$inject=["$route","$anchorScroll","$animate"],s.$inject=["$compile","$controller","$route"]}(window,window.angular)},function(t,e){/**
 * @license AngularJS v1.6.4
 * (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(t){"use strict";function e(t,e){return e=e||Error,function(){var n,r,i=arguments[0],o=arguments[1],a="["+(t?t+":":"")+i+"] ",s=G(arguments,2).map(function(t){return $t(t,Wr.objectMaxDepth)});for(a+=o.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e<s.length?s[e]:t}),a+="\nhttp://errors.angularjs.org/1.6.4/"+(t?t+"/":"")+i,r=0,n="?";r<s.length;r++,n="&")a+=n+"p"+r+"="+encodeURIComponent(s[r]);return new e(a)}}function n(t){if(!w(t))return Wr;_(t.objectMaxDepth)&&(Wr.objectMaxDepth=r(t.objectMaxDepth)?t.objectMaxDepth:NaN)}function r(t){return E(t)&&t>0}function i(t){if(null==t||A(t))return!1;if(fi(t)||x(t)||Zr&&t instanceof Zr)return!0;var e="length"in Object(t)&&t.length;return E(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function o(t,e,n){var r,a;if(t)if(S(t))for(r in t)"prototype"!==r&&"length"!==r&&"name"!==r&&t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else if(fi(t)||i(t)){var s="object"!=typeof t;for(r=0,a=t.length;r<a;r++)(s||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if($(t))for(r in t)e.call(n,t[r],r,t);else if("function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else for(r in t)Gr.call(t,r)&&e.call(n,t[r],r,t);return t}function a(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function s(t){return function(e,n){t(n,e)}}function u(){return++ci}function c(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function l(t,e,n){for(var r=t.$$hashKey,i=0,o=e.length;i<o;++i){var a=e[i];if(w(a)||S(a))for(var s=Object.keys(a),u=0,f=s.length;u<f;u++){var h=s[u],p=a[h];n&&w(p)?k(p)?t[h]=new Date(p.valueOf()):O(p)?t[h]=new RegExp(p):p.nodeName?t[h]=p.cloneNode(!0):N(p)?t[h]=p.clone():(w(t[h])||(t[h]=fi(p)?[]:{}),l(t[h],[p],!0)):t[h]=p}}return c(t,r),t}function f(t){return l(t,ni.call(arguments,1),!1)}function h(t){return l(t,ni.call(arguments,1),!0)}function p(t){return parseInt(t,10)}function d(t,e){return f(Object.create(t),e)}function v(){}function m(t){return t}function y(t){return function(){return t}}function g(t){return S(t.toString)&&t.toString!==oi}function b(t){return void 0===t}function _(t){return void 0!==t}function w(t){return null!==t&&"object"==typeof t}function $(t){return null!==t&&"object"==typeof t&&!ai(t)}function x(t){return"string"==typeof t}function E(t){return"number"==typeof t}function k(t){return"[object Date]"===oi.call(t)}function S(t){return"function"==typeof t}function O(t){return"[object RegExp]"===oi.call(t)}function A(t){return t&&t.window===t}function j(t){return t&&t.$evalAsync&&t.$watch}function C(t){return"[object File]"===oi.call(t)}function T(t){return"[object FormData]"===oi.call(t)}function P(t){return"[object Blob]"===oi.call(t)}function M(t){return"boolean"==typeof t}function D(t){return t&&S(t.then)}function R(t){return t&&E(t.length)&&hi.test(oi.call(t))}function I(t){return"[object ArrayBuffer]"===oi.call(t)}function N(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function L(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function B(t){return Kr(t.nodeName||t[0]&&t[0].nodeName)}function F(t,e){return-1!==Array.prototype.indexOf.call(t,e)}function q(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function U(t,e,n){function i(t,e,n){if(--n<0)return"...";var r,i=e.$$hashKey;if(fi(t))for(var o=0,s=t.length;o<s;o++)e.push(a(t[o],n));else if($(t))for(r in t)e[r]=a(t[r],n);else if(t&&"function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&(e[r]=a(t[r],n));else for(r in t)Gr.call(t,r)&&(e[r]=a(t[r],n));return c(e,i),e}function a(t,e){if(!w(t))return t;var n=u.indexOf(t);if(-1!==n)return l[n];if(A(t)||j(t))throw si("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,o=s(t);return void 0===o&&(o=fi(t)?[]:Object.create(ai(t)),r=!0),u.push(t),l.push(o),r?i(t,o,e):o}function s(t){switch(oi.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(a(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(S(t.cloneNode))return t.cloneNode(!0)}var u=[],l=[];if(n=r(n)?n:NaN,e){if(R(e)||I(e))throw si("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw si("cpi","Can't copy! Source and destination are identical.");return fi(e)?e.length=0:o(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),u.push(t),l.push(e),i(t,e,n)}return a(t,n)}function V(t,e){return t===e||t!==t&&e!==e}function z(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,r,i,o=typeof t,a=typeof e;if(o===a&&"object"===o){if(!fi(t)){if(k(t))return!!k(e)&&V(t.getTime(),e.getTime());if(O(t))return!!O(e)&&t.toString()===e.toString();if(j(t)||j(e)||A(t)||A(e)||fi(e)||k(e)||O(e))return!1;i=yt();for(r in t)if("$"!==r.charAt(0)&&!S(t[r])){if(!z(t[r],e[r]))return!1;i[r]=!0}for(r in e)if(!(r in i)&&"$"!==r.charAt(0)&&_(e[r])&&!S(e[r]))return!1;return!0}if(!fi(e))return!1;if((n=t.length)===e.length){for(r=0;r<n;r++)if(!z(t[r],e[r]))return!1;return!0}}return!1}function H(t,e,n){return t.concat(ni.call(e,n))}function G(t,e){return ni.call(t,e||0)}function W(t,e){var n=arguments.length>2?G(arguments,2):[];return!S(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,H(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function K(e,n){var r=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=void 0:A(n)?r="$WINDOW":n&&t.document===n?r="$DOCUMENT":j(n)&&(r="$SCOPE"),r}function J(t,e){if(!b(t))return E(e)||(e=e?2:null),JSON.stringify(t,K,e)}function Y(t){return x(t)?JSON.parse(t):t}function Q(t,e){t=t.replace(yi,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return li(n)?e:n}function X(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function Z(t,e,n){n=n?-1:1;var r=t.getTimezoneOffset();return X(t,n*(Q(e,r)-r))}function tt(t){t=Zr(t).clone();try{t.empty()}catch(t){}var e=Zr("<div>").append(t).html();try{return t[0].nodeType===xi?Kr(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+Kr(e)})}catch(t){return Kr(e)}}function et(t){try{return decodeURIComponent(t)}catch(t){}}function nt(t){var e={};return o((t||"").split("&"),function(t){var n,r,i;t&&(r=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),-1!==n&&(r=t.substring(0,n),i=t.substring(n+1)),r=et(r),_(r)&&(i=!_(i)||et(i),Gr.call(e,r)?fi(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i))}),e}function rt(t){var e=[];return o(t,function(t,n){fi(t)?o(t,function(t){e.push(ot(n,!0)+(!0===t?"":"="+ot(t,!0)))}):e.push(ot(n,!0)+(!0===t?"":"="+ot(t,!0)))}),e.length?e.join("&"):""}function it(t){return ot(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ot(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function at(t,e){var n,r,i=gi.length;for(r=0;r<i;++r)if(n=gi[r]+e,x(n=t.getAttribute(n)))return n;return null}function st(e,n){var r,i,a={};if(o(gi,function(t){var n=t+"app";!r&&e.hasAttribute&&e.hasAttribute(n)&&(r=e,i=e.getAttribute(n))}),o(gi,function(t){var n,o=t+"app";!r&&(n=e.querySelector("["+o.replace(":","\\:")+"]"))&&(r=n,i=n.getAttribute(o))}),r){if(!bi)return void t.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==at(r,"strict-di"),n(r,i?[i]:[],a)}}function ut(e,n,r){w(r)||(r={}),r=f({strictDi:!1},r);var i=function(){if(e=Zr(e),e.injector()){var i=e[0]===t.document?"document":tt(e);throw si("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",e)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=ue(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),o},a=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(t&&a.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(a,"")),t&&!s.test(t.name))return i();t.name=t.name.replace(s,""),ui.resumeBootstrap=function(t){return o(t,function(t){n.push(t)}),i()},S(ui.resumeDeferredBootstrap)&&ui.resumeDeferredBootstrap()}function ct(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function lt(t){var e=ui.element(t).injector();if(!e)throw si("test","no injector found for element argument to getTestability");return e.get("$$testability")}function ft(t,e){return e=e||"_",t.replace(_i,function(t,n){return(n?e:"")+t.toLowerCase()})}function ht(t,e,n){if(!t)throw si("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function pt(t,e,n){return n&&fi(t)&&(t=t[t.length-1]),ht(S(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function dt(t,e){if("hasOwnProperty"===t)throw si("badname","hasOwnProperty is not a valid {0} name",e)}function vt(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,a=i.length,s=0;s<a;s++)r=i[s],t&&(t=(o=t)[r]);return!n&&S(t)?W(o,t):t}function mt(t){for(var e,n=t[0],r=t[t.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(e||t[i]!==n)&&(e||(e=Zr(ni.call(t,0,i))),e.push(n));return e||t}function yt(){return Object.create(null)}function gt(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!g(t)||fi(t)||k(t)?J(t):t.toString()}return t}function bt(t){function n(t,e,n){return t[e]||(t[e]=n())}var r=e("$injector"),i=e("ng"),o=n(t,"angular",Object);return o.$$minErr=o.$$minErr||e,n(o,"module",function(){var t={};return function(e,o,a){var s={};return function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)}(e,"module"),o&&t.hasOwnProperty(e)&&(t[e]=null),n(t,e,function(){function t(t,e,n,r){return r||(r=u),function(){return r[n||"push"]([t,e,arguments]),h}}function n(t,n,r){return r||(r=u),function(i,o){return o&&S(o)&&(o.$$moduleName=e),r.push([t,n,arguments]),h}}if(!o)throw r("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",e);var u=[],c=[],l=[],f=t("$injector","invoke","push",c),h={_invokeQueue:u,_configBlocks:c,_runBlocks:l,info:function(t){if(_(t)){if(!w(t))throw i("aobj","Argument '{0}' must be an object","value");return s=t,this}return s},requires:o,name:e,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:n("$provide","decorator",c),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:f,run:function(t){return l.push(t),this}};return a&&f(a),h})}})}function _t(t,e){if(fi(t)){e=e||[];for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}else if(w(t)){e=e||{};for(var i in t)"$"===i.charAt(0)&&"$"===i.charAt(1)||(e[i]=t[i])}return e||t}function wt(t,e){var n=[];return r(e)&&(t=U(t,null,e)),JSON.stringify(t,function(t,e){if(e=K(t,e),w(e)){if(n.indexOf(e)>=0)return"...";n.push(e)}return e})}function $t(t,e){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):b(t)?"undefined":"string"!=typeof t?wt(t,e):t}function xt(){return++ji}function Et(t){return St(t.replace(Ti,"ms-"))}function kt(t,e){return e.toUpperCase()}function St(t){return t.replace(Ci,kt)}function Ot(t){return!Ri.test(t)}function At(t){var e=t.nodeType;return e===$i||!e||e===ki}function jt(t){for(var e in Ai[t.ng339])return!0;return!1}function Ct(t,e){var n,r,i,a,s=e.createDocumentFragment(),u=[];if(Ot(t))u.push(e.createTextNode(t));else{for(n=s.appendChild(e.createElement("div")),r=(Ii.exec(t)||["",""])[1].toLowerCase(),i=Li[r]||Li._default,n.innerHTML=i[1]+t.replace(Ni,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;u=H(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(u,function(t){s.appendChild(t)}),s}function Tt(e,n){n=n||t.document;var r;return(r=Di.exec(e))?[n.createElement(r[1])]:(r=Ct(e,n))?r.childNodes:[]}function Pt(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function Mt(t){if(t instanceof Mt)return t;var e;if(x(t)&&(t=pi(t),e=!0),!(this instanceof Mt)){if(e&&"<"!==t.charAt(0))throw Mi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Mt(t)}e?Vt(this,Tt(t)):S(t)?Jt(t):Vt(this,t)}function Dt(t){return t.cloneNode(!0)}function Rt(t,e){!e&&At(t)&&Zr.cleanData([t]),t.querySelectorAll&&Zr.cleanData(t.querySelectorAll("*"))}function It(t,e,n,r){if(_(r))throw Mi("offargs","jqLite#off() does not support the `selector` argument");var i=Lt(t),a=i&&i.events,s=i&&i.handle;if(s)if(e){var u=function(e){var r=a[e];_(n)&&q(r||[],n),_(n)&&r&&r.length>0||(t.removeEventListener(e,s),delete a[e])};o(e.split(" "),function(t){u(t),Pi[t]&&u(Pi[t])})}else for(e in a)"$destroy"!==e&&t.removeEventListener(e,s),delete a[e]}function Nt(t,e){var n=t.ng339,r=n&&Ai[n];if(r){if(e)return void delete r.data[e];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),It(t)),delete Ai[n],t.ng339=void 0}}function Lt(t,e){var n=t.ng339,r=n&&Ai[n];return e&&!r&&(t.ng339=n=xt(),r=Ai[n]={events:{},data:{},handle:void 0}),r}function Bt(t,e,n){if(At(t)){var r,i=_(n),o=!i&&e&&!w(e),a=!e,s=Lt(t,!o),u=s&&s.data;if(i)u[St(e)]=n;else{if(a)return u;if(o)return u&&u[St(e)];for(r in e)u[St(r)]=e[r]}}}function Ft(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function qt(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",pi((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+pi(e)+" "," ")))})}function Ut(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=pi(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",pi(n))}}function Vt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;r<n;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function zt(t,e){return Ht(t,"$"+(e||"ngController")+"Controller")}function Ht(t,e,n){t.nodeType===ki&&(t=t.documentElement);for(var r=fi(e)?e:[e];t;){for(var i=0,o=r.length;i<o;i++)if(_(n=Zr.data(t,r[i])))return n;t=t.parentNode||t.nodeType===Si&&t.host}}function Gt(t){for(Rt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Wt(t,e){e||Rt(t);var n=t.parentNode;n&&n.removeChild(t)}function Kt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Zr(n).on("load",e)}function Jt(e){function n(){t.document.removeEventListener("DOMContentLoaded",n),t.removeEventListener("load",n),e()}"complete"===t.document.readyState?t.setTimeout(e):(t.document.addEventListener("DOMContentLoaded",n),t.addEventListener("load",n))}function Yt(t,e){var n=qi[e.toLowerCase()];return n&&Ui[B(t)]&&n}function Qt(t){return Vi[t]}function Xt(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(b(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=i.specialHandlerWrapper||Zt;o>1&&(i=_t(i));for(var u=0;u<o;u++)n.isImmediatePropagationStopped()||s(t,n,i[u])}};return n.elem=t,n}function Zt(t,e,n){n.call(t,e)}function te(t,e,n){var r=e.relatedTarget;r&&(r===t||Bi.call(t,r))||n.call(t,e)}function ee(){this.$get=function(){return f(Mt,{hasClass:function(t,e){return t.attr&&(t=t[0]),Ft(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Ut(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),qt(t,e)}})}}function ne(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"===r||"object"===r&&null!==t?t.$$hashKey=r+":"+(e||u)():r+":"+t}function re(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function ie(t){return Function.prototype.toString.call(t)}function oe(t){var e=ie(t).replace(Qi,"");return e.match(Wi)||e.match(Ki)}function ae(t){var e=oe(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function se(t,e,n){var r,i,a;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw x(n)&&n||(n=t.name||ae(t)),Xi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=oe(t),o(i[1].split(Ji),function(t){t.replace(Yi,function(t,e,n){r.push(n)})})}t.$inject=r}}else fi(t)?(a=t.length-1,pt(t[a],"fn"),r=t.slice(0,a)):pt(t,"fn",!0);return r}function ue(t,e){function n(t){return function(e,n){if(!w(e))return t(e,n);o(e,s(t))}}function r(t,e){if(dt(t,"service"),(S(e)||fi(e))&&(e=$.instantiate(e)),!e.$get)throw Xi("pget","Provider '{0}' must define $get factory method.",t);return _[t+v]=e}function i(t,e){return function(){var n=O.invoke(e,this);if(b(n))throw Xi("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function a(t,e,n){return r(t,{$get:!1!==n?i(t,e):e})}function u(t,e){return a(t,["$injector",function(t){return t.instantiate(e)}])}function c(t,e){return a(t,y(e),!1)}function l(t,e){dt(t,"constant"),_[t]=e,E[t]=e}function f(t,e){var n=$.get(t+v),r=n.$get;n.$get=function(){var t=O.invoke(r,n);return O.invoke(e,null,{$delegate:t})}}function h(t){ht(b(t)||fi(t),"modulesToLoad","not an array");var e,n=[];return o(t,function(t){function r(t){var e,n;for(e=0,n=t.length;e<n;e++){var r=t[e],i=$.get(r[0]);i[r[1]].apply(i,r[2])}}if(!g.get(t)){g.set(t,!0);try{x(t)?(e=ei(t),O.modules[t]=e,n=n.concat(h(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):S(t)?n.push($.invoke(t)):fi(t)?n.push($.invoke(t)):pt(t,"module")}catch(e){throw fi(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Xi("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}}),n}function p(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===d)throw Xi("cdep","Circular dependency found: {0}",e+" <- "+m.join(" <- "));return t[e]}try{return m.unshift(e),t[e]=d,t[e]=n(e,r),t[e]}catch(n){throw t[e]===d&&delete t[e],n}finally{m.shift()}}function i(t,n,i){for(var o=[],a=ue.$$annotate(t,e,i),s=0,u=a.length;s<u;s++){var c=a[s];if("string"!=typeof c)throw Xi("itkn","Incorrect injection token! Expected service name as string, got {0}",c);o.push(n&&n.hasOwnProperty(c)?n[c]:r(c,i))}return o}function o(t){if(Xr||"function"!=typeof t)return!1;var e=t.$$ngIsClass;return M(e)||(e=t.$$ngIsClass=/^(?:class\b|constructor\()/.test(ie(t))),e}function a(t,e,n,r){"string"==typeof n&&(r=n,n=null);var a=i(t,n,r);return fi(t)&&(t=t[t.length-1]),o(t)?(a.unshift(null),new(Function.prototype.bind.apply(t,a))):t.apply(e,a)}function s(t,e,n){var r=fi(t)?t[t.length-1]:t,o=i(t,e,n);return o.unshift(null),new(Function.prototype.bind.apply(r,o))}return{invoke:a,instantiate:s,get:r,annotate:ue.$$annotate,has:function(e){return _.hasOwnProperty(e+v)||t.hasOwnProperty(e)}}}e=!0===e;var d={},v="Provider",m=[],g=new Hi,_={$provide:{provider:n(r),factory:n(a),service:n(u),value:n(c),constant:n(l),decorator:f}},$=_.$injector=p(_,function(t,e){throw ui.isString(e)&&m.push(e),Xi("unpr","Unknown provider: {0}",m.join(" <- "))}),E={},k=p(E,function(t,e){var n=$.get(t+v,e);return O.invoke(n.$get,n,void 0,t)}),O=k;_["$injector"+v]={$get:y(k)},O.modules=$.modules=yt();var A=h(t);return O=k.get("$injector"),O.strictDi=e,o(A,function(t){t&&O.invoke(t)}),O}function ce(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===B(t))return e=t,!0}),e}function o(){var t=s.yOffset;if(S(t))t=t();else if(N(t)){var n=t[0],r=e.getComputedStyle(n);t="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else E(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function s(t){t=x(t)?t:E(t)?t.toString():n.hash();var e;t?(e=u.getElementById(t))?a(e):(e=i(u.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var u=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Kt(function(){r.$evalAsync(s)})}),s}]}function le(t,e){return t||e?t?e?(fi(t)&&(t=t.join(" ")),fi(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function fe(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===to)return n}}function he(t){x(t)&&(t=t.split(" "));var e=yt();return o(t,function(t){t.length&&(e[t]=!0)}),e}function pe(t){return w(t)?t:{}}function de(t,e,n,r){function i(t){try{t.apply(null,G(arguments,1))}finally{if(0===--y)for(;g.length;)try{g.pop()()}catch(t){n.error(t)}}}function a(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function s(){E=null,c()}function u(){_=k(),_=b(_)?null:_,z(_,A)&&(_=A),A=_,w=_}function c(){var t=w;u(),$===l.url()&&t===_||($=l.url(),w=_,o(S,function(t){t(l.url(),_)}))}var l=this,f=t.location,h=t.history,p=t.setTimeout,d=t.clearTimeout,m={};l.isMock=!1;var y=0,g=[];l.$$completeOutstandingRequest=i,l.$$incOutstandingRequestCount=function(){y++},l.notifyWhenNoOutstandingRequests=function(t){0===y?t():g.push(t)};var _,w,$=f.href,x=e.find("base"),E=null,k=r.history?function(){try{return h.state}catch(t){}}:v;u(),l.url=function(e,n,i){if(b(i)&&(i=null),f!==t.location&&(f=t.location),h!==t.history&&(h=t.history),e){var o=w===i;if($===e&&(!r.history||o))return l;var s=$&&Je($)===Je(e);return $=e,w=i,!r.history||s&&o?(s||(E=e),n?f.replace(e):s?f.hash=a(e):f.href=e,f.href!==e&&(E=e)):(h[n?"replaceState":"pushState"](i,"",e),u()),E&&(E=e),l}return E||f.href.replace(/%27/g,"'")},l.state=function(){return _};var S=[],O=!1,A=null;l.onUrlChange=function(e){return O||(r.history&&Zr(t).on("popstate",s),Zr(t).on("hashchange",s),O=!0),S.push(e),e},l.$$applicationDestroyed=function(){Zr(t).off("hashchange popstate",s)},l.$$checkUrlChange=c,l.baseHref=function(){var t=x.attr("href");return t?t.replace(/^(https?:)?\/\/[^\/]*/,""):""},l.defer=function(t,e){var n;return y++,n=p(function(){delete m[n],i(t)},e||0),m[n]=!0,n},l.defer.cancel=function(t){return!!m[t]&&(delete m[t],d(t),i(v),!0)}}function ve(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new de(t,r,e,n)}]}function me(){this.$get=function(){function t(t,r){function i(t){t!==h&&(p?p===t&&(p=t.n):p=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}if(t in n)throw e("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=f({},r,{id:t}),u=yt(),c=r&&r.capacity||Number.MAX_VALUE,l=yt(),h=null,p=null;return n[t]={put:function(t,e){if(!b(e)){if(c<Number.MAX_VALUE){i(l[t]||(l[t]={key:t}))}return t in u||a++,u[t]=e,a>c&&this.remove(p.key),e}},get:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;i(e)}return u[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;e===h&&(h=e.p),e===p&&(p=e.n),o(e.n,e.p),delete l[t]}t in u&&(delete u[t],a--)},removeAll:function(){u=yt(),a=0,l=yt(),h=p=null},destroy:function(){u=null,s=null,l=null,delete n[t]},info:function(){return f({},s,{size:a})}}}var n={};return t.info=function(){var t={};return o(n,function(e,n){t[n]=e.info()}),t},t.get=function(t){return n[t]},t}}function ye(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function ge(){}function be(e,n){function r(t,e,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,i=yt();return o(t,function(t,o){if(t in O)return void(i[o]=O[t]);var a=t.match(r);if(!a)throw so("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,o,t,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(O[t]=i[o])}),i}function i(t,e){var n={isolateScope:null,bindToController:null};if(w(t.scope)&&(!0===t.bindToController?(n.bindToController=r(t.scope,e,!0),n.isolateScope={}):n.isolateScope=r(t.scope,e,!1)),w(t.bindToController)&&(n.bindToController=r(t.bindToController,e,!0)),n.bindToController&&!t.controller)throw so("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return n}function a(t){var e=t.charAt(0);if(!e||e!==Kr(e))throw so("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw so("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}function u(t){var e=t.require||t.controller&&t.name;return!fi(e)&&w(e)&&o(e,function(t,n){var r=t.match(E);t.substring(r[0].length)||(e[n]=r[0]+n)}),e}function c(t,e){if(t&&(!x(t)||!/[EACM]/.test(t)))throw so("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}var l={},h="Directive",p=/^\s*directive:\s*([\w-]+)\s+(.*)$/,g=/(([\w-]+)(?::([^;]+))?;?)/,$=L("ngSrc,ngSrcset,src,srcset"),E=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,k=/^(on[a-z]+|formaction)$/,O=yt();this.directive=function t(n,r){return ht(n,"name"),dt(n,"directive"),x(n)?(a(n),ht(r,"directiveFactory"),l.hasOwnProperty(n)||(l[n]=[],e.factory(n+h,["$injector","$exceptionHandler",function(t,e){var r=[];return o(l[n],function(i,o){try{var a=t.invoke(i);S(a)?a={compile:y(a)}:!a.compile&&a.link&&(a.compile=y(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=u(a),a.restrict=c(a.restrict,n),a.$$moduleName=i.$$moduleName,r.push(a)}catch(t){e(t)}}),r}])),l[n].push(r)):o(n,s(t)),this},this.component=function(t,e){function n(t){function n(e){return S(e)||fi(e)?function(n,r){return t.invoke(e,this,{$element:n,$attrs:r})}:e}var i=e.template||e.templateUrl?e.template:"",a={controller:r,controllerAs:Ee(e.controller)||e.controllerAs||"$ctrl",template:n(i),templateUrl:n(e.templateUrl),transclude:e.transclude,scope:{},bindToController:e.bindings||{},restrict:"E",require:e.require};return o(e,function(t,e){"$"===e.charAt(0)&&(a[e]=t)}),a}var r=e.controller||function(){};return o(e,function(t,e){"$"===e.charAt(0)&&(n[e]=t,S(r)&&(r[e]=t))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(t){return _(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return _(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var A=!0;this.debugInfoEnabled=function(t){return _(t)?(A=t,this):A};var C=!1;this.preAssignBindingsEnabled=function(t){return _(t)?(C=t,this):C};var T=10;this.onChangesTtl=function(t){return arguments.length?(T=t,this):T};var P=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(P=t,this):P};var D=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(D=t,this):D},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,r,a,s,u,c,y,O,R){function I(){try{if(!--Ct)throw Et=void 0,so("infchng","{0} $onChanges() iterations reached. Aborting!\n",T);c.$apply(function(){for(var t=[],e=0,n=Et.length;e<n;++e)try{Et[e]()}catch(e){t.push(e)}if(Et=void 0,t.length)throw t})}finally{Ct++}}function N(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t}function L(t,e,n){St.innerHTML="<span "+e+">";var r=St.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,t.attributes.setNamedItem(i)}function F(t,e){try{t.addClass(e)}catch(t){}}function U(t,e,n,r,i){t instanceof Zr||(t=Zr(t));var o=K(t,e,t,n,r,i);U.$$addScopeClass(t);var a=null;return function(e,n,r){if(!t)throw so("multilink","This element has already been linked.");ht(e,"scope"),i&&i.needsNewScope&&(e=e.$parent.$new()),r=r||{};var s=r.parentBoundTranscludeFn,u=r.transcludeControllers,c=r.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=H(c));var l;if(l="html"!==a?Zr(mt(a,Zr("<div>").append(t).html())):n?Fi.clone.call(t):t,u)for(var f in u)l.data("$"+f+"Controller",u[f].instance);return U.$$addScopeInfo(l,e),n&&n(l,e),o&&o(e,l,l,s),n||(t=o=null),l}}function H(t){var e=t&&t[0];return e&&"foreignobject"!==B(e)&&oi.call(e).match(/SVG/)?"svg":"html"}function K(t,e,n,r,i,o){function a(t,n,r,i){var o,a,s,u,c,l,f,h,v;if(p){var m=n.length;for(v=new Array(m),c=0;c<d.length;c+=3)f=d[c],v[f]=n[f]}else v=n;for(c=0,l=d.length;c<l;)s=v[d[c++]],o=d[c++],a=d[c++],o?(o.scope?(u=t.$new(),U.$$addScopeInfo(Zr(s),u)):u=t,h=o.transcludeOnThisElement?Y(t,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&e?Y(t,e):null,o(a,u,s,r,h)):a&&a(t,s.childNodes,void 0,i)}for(var s,u,c,l,f,h,p,d=[],v=fi(t)||t instanceof Zr,m=0;m<t.length;m++)s=new N,11===Xr&&J(t,m,v),u=Q(t[m],[],s,0===m?r:void 0,i),c=u.length?rt(u,t[m],s,e,n,null,[],[],o):null,c&&c.scope&&U.$$addScopeClass(s.$$element),f=c&&c.terminal||!(l=t[m].childNodes)||!l.length?null:K(l,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||f)&&(d.push(m,c,f),h=!0,p=p||c),o=null;return h?a:null}function J(t,e,n){var r,i=t[e],o=i.parentNode;if(i.nodeType===xi)for(;;){if(!(r=o?i.nextSibling:t[e+1])||r.nodeType!==xi)break;i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===t[e+1]&&t.splice(e+1,1)}}function Y(t,e,n){function r(r,i,o,a,s){return r||(r=t.$new(!1,s),r.$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=r.$$slots=yt();for(var o in e.$$slots)e.$$slots[o]?i[o]=Y(t,e.$$slots[o],n):i[o]=null;return r}function Q(t,e,n,r,i){var o,a,s,u=t.nodeType,c=n.$attr;switch(u){case $i:a=B(t),st(e,we(a),"E",r,i);for(var l,f,h,p,d,v,m=t.attributes,y=0,b=m&&m.length;y<b;y++){var _=!1,$=!1;l=m[y],f=l.name,d=l.value,p=we(f),v=Rt.test(p),v&&(f=f.replace(co,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var E=p.match(It);E&&ut(E[1])&&(_=f,$=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),h=we(f.toLowerCase()),c[h]=f,!v&&n.hasOwnProperty(h)||(n[h]=d,Yt(t,h)&&(n[h]=!0)),bt(t,e,d,h,v),st(e,h,"A",r,i,_,$)}if("input"===a&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!jt)break;if(s=t.className,w(s)&&(s=s.animVal),x(s)&&""!==s)for(;o=g.exec(s);)h=we(o[2]),st(e,h,"C",r,i)&&(n[h]=pi(o[3])),s=s.substr(o.index+o[0].length);break;case xi:vt(e,t.nodeValue);break;case Ei:if(!At)break;X(t,e,n,r,i)}return e.sort(pt),e}function X(t,e,n,r,i){try{var o=p.exec(t.nodeValue);if(o){var a=we(o[1]);st(e,a,"M",r,i)&&(n[a]=pi(o[2]))}}catch(t){}}function Z(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw so("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType===$i&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0);else r.push(t);return Zr(r)}function et(t,e,n){return function(r,i,o,a,s){return i=Z(i[0],e,n),t(r,i,o,a,s)}}function nt(t,e,n,r,i,o){var a;return t?U(e,n,r,i,o):function(){return a||(a=U(e,n,r,i,o),e=n=o=null),a.apply(this,arguments)}}function rt(t,e,n,i,a,s,u,c,l){function h(t,e,n,r){t&&(n&&(t=et(t,n,r)),t.require=d.require,t.directiveName=v,(E===d||d.$$isolateScope)&&(t=wt(t,{isolateScope:!0})),u.push(t)),e&&(n&&(e=et(e,n,r)),e.require=d.require,e.directiveName=v,(E===d||d.$$isolateScope)&&(e=wt(e,{isolateScope:!0})),c.push(e))}function p(t,i,a,s,l){function h(t,e,n,r){var i;if(j(t)||(r=n,n=e,e=t,t=void 0),P&&(i=g),n||(n=P?O.parent():O),!r)return l(t,e,i,n,B);var o=l.$$slots[r];if(o)return o(t,e,i,n,B);if(b(o))throw so("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,tt(O))}var p,d,v,m,y,g,_,O,A,T;e===a?(A=n,O=n.$$element):(O=Zr(a),A=new N(O,n)),y=i,E?m=i.$new(!0):$&&(y=i.$parent),l&&(_=h,_.$$boundTransclude=l,_.isSlotFilled=function(t){return!!l.$$slots[t]}),x&&(g=ot(O,A,_,x,m,i,E)),E&&(U.$$addScopeInfo(O,m,!0,!(k&&(k===E||k===E.$$originalDirective))),U.$$addScopeClass(O,!0),m.$$isolateBindings=E.$$isolateBindings,T=xt(i,A,m,m.$$isolateBindings,E),T.removeWatches&&m.$on("$destroy",T.removeWatches));for(var M in g){var D=x[M],R=g[M],I=D.$$bindings.bindToController;if(C){R.bindingInfo=I?xt(y,A,R.instance,I,D):{};var L=R();L!==R.instance&&(R.instance=L,O.data("$"+D.name+"Controller",L),R.bindingInfo.removeWatches&&R.bindingInfo.removeWatches(),R.bindingInfo=xt(y,A,R.instance,I,D))}else R.instance=R(),O.data("$"+D.name+"Controller",R.instance),R.bindingInfo=xt(y,A,R.instance,I,D)}for(o(x,function(t,e){var n=t.require;t.bindToController&&!fi(n)&&w(n)&&f(g[e].instance,it(e,n,O,g))}),o(g,function(t){var e=t.instance;if(S(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){r(t)}if(S(e.$onInit))try{e.$onInit()}catch(t){r(t)}S(e.$doCheck)&&(y.$watch(function(){e.$doCheck()}),e.$doCheck()),S(e.$onDestroy)&&y.$on("$destroy",function(){e.$onDestroy()})}),p=0,d=u.length;p<d;p++)v=u[p],$t(v,v.isolateScope?m:i,O,A,v.require&&it(v.directiveName,v.require,O,g),_);var B=i;for(E&&(E.template||null===E.templateUrl)&&(B=m),t&&t(B,a.childNodes,void 0,l),p=c.length-1;p>=0;p--)v=c[p],$t(v,v.isolateScope?m:i,O,A,v.require&&it(v.directiveName,v.require,O,g),_);o(g,function(t){var e=t.instance;S(e.$postLink)&&e.$postLink()})}l=l||{};for(var d,v,m,y,g,_=-Number.MAX_VALUE,$=l.newScopeDirective,x=l.controllerDirectives,E=l.newIsolateScopeDirective,k=l.templateDirective,O=l.nonTlbTranscludeDirective,A=!1,T=!1,P=l.hasElementTranscludeDirective,M=n.$$element=Zr(e),D=s,R=i,I=!1,L=!1,F=0,q=t.length;F<q;F++){d=t[F];var V=d.$$start,z=d.$$end;if(V&&(M=Z(e,V,z)),m=void 0,_>d.priority)break;if(g=d.scope,g&&(d.templateUrl||(w(g)?(dt("new/isolated scope",E||$,d,M),E=d):dt("new/isolated scope",E,d,M)),$=$||d),v=d.name,!I&&(d.replace&&(d.templateUrl||d.template)||d.transclude&&!d.$$tlb)){for(var H,K=F+1;H=t[K++];)if(H.transclude&&!H.$$tlb||H.replace&&(H.templateUrl||H.template)){L=!0;break}I=!0}if(!d.templateUrl&&d.controller&&(x=x||yt(),dt("'"+v+"' controller",x[v],d,M),x[v]=d),g=d.transclude)if(A=!0,d.$$tlb||(dt("transclusion",O,d,M),O=d),"element"===g)P=!0,_=d.priority,m=M,M=n.$$element=Zr(U.$$createComment(v,n[v])),e=M[0],_t(a,G(m),e),m[0].$$parentNode=m[0].parentNode,R=nt(L,m,i,_,D&&D.name,{nonTlbTranscludeDirective:O});else{var J=yt();if(w(g)){m=[];var Y=yt(),X=yt();o(g,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,Y[t]=e,J[e]=null,X[e]=n}),o(M.contents(),function(t){var e=Y[we(B(t))];e?(X[e]=!0,J[e]=J[e]||[],J[e].push(t)):m.push(t)}),o(X,function(t,e){if(!t)throw so("reqslot","Required transclusion slot `{0}` was not filled.",e)});for(var rt in J)J[rt]&&(J[rt]=nt(L,J[rt],i))}else m=Zr(Dt(e)).contents();M.empty(),R=nt(L,m,i,void 0,void 0,{needsNewScope:d.$$isolateScope||d.$$newScope}),R.$$slots=J}if(d.template)if(T=!0,dt("template",k,d,M),k=d,g=S(d.template)?d.template(M,n):d.template,g=Mt(g),d.replace){if(D=d,m=Ot(g)?[]:xe(mt(d.templateNamespace,pi(g))),e=m[0],1!==m.length||e.nodeType!==$i)throw so("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v,"");_t(a,M,e);var st={$attr:{}},ut=Q(e,[],st),ft=t.splice(F+1,t.length-(F+1));(E||$)&&at(ut,E,$),t=t.concat(ut).concat(ft),ct(n,st),q=t.length}else M.html(g);if(d.templateUrl)T=!0,dt("template",k,d,M),k=d,d.replace&&(D=d),p=lt(t.splice(F,t.length-F),M,n,a,A&&R,u,c,{controllerDirectives:x,newScopeDirective:$!==d&&$,newIsolateScopeDirective:E,templateDirective:k,nonTlbTranscludeDirective:O}),q=t.length;else if(d.compile)try{y=d.compile(M,n,R);var ht=d.$$originalDirective||d;S(y)?h(null,W(ht,y),V,z):y&&h(W(ht,y.pre),W(ht,y.post),V,z)}catch(t){r(t,tt(M))}d.terminal&&(p.terminal=!0,_=Math.max(_,d.priority))}return p.scope=$&&!0===$.scope,p.transcludeOnThisElement=A,p.templateOnThisElement=T,p.transclude=R,l.hasElementTranscludeDirective=P,p}function it(t,e,n,r){var i;if(x(e)){var a=e.match(E),s=e.substring(a[0].length),u=a[1]||a[3],c="?"===a[2];if("^^"===u?n=n.parent():(i=r&&r[s],i=i&&i.instance),!i){var l="$"+s+"Controller";i=u?n.inheritedData(l):n.data(l)}if(!i&&!c)throw so("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,t)}else if(fi(e)){i=[];for(var f=0,h=e.length;f<h;f++)i[f]=it(t,e[f],n,r)}else w(e)&&(i={},o(e,function(e,o){i[o]=it(t,e,n,r)}));return i||null}function ot(t,e,n,r,i,o,a){var s=yt();for(var c in r){var l=r[c],f={$scope:l===a||l.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:n},h=l.controller;"@"===h&&(h=e[l.name]);var p=u(h,f,!0,l.controllerAs);s[l.name]=p,t.data("$"+l.name+"Controller",p.instance)}return s}function at(t,e,n){for(var r=0,i=t.length;r<i;r++)t[r]=d(t[r],{$$isolateScope:e,$$newScope:n})}function st(t,n,r,o,a,s,u){if(n===a)return null;var c=null;if(l.hasOwnProperty(n))for(var f,p=e.get(n+h),v=0,m=p.length;v<m;v++)if(f=p[v],(b(o)||o>f.priority)&&-1!==f.restrict.indexOf(r)){if(s&&(f=d(f,{$$start:s,$$end:u})),!f.$$bindings){var y=f.$$bindings=i(f,f.name);w(y.isolateScope)&&(f.$$isolateBindings=y.isolateScope)}t.push(f),c=f}return c}function ut(t){if(l.hasOwnProperty(t))for(var n,r=e.get(t+h),i=0,o=r.length;i<o;i++)if(n=r[i],n.multiElement)return!0;return!1}function ct(t,e){var n=e.$attr,r=t.$attr;o(t,function(r,i){"$"!==i.charAt(0)&&(e[i]&&e[i]!==r&&(r.length?r+=("style"===i?";":" ")+e[i]:r=e[i]),t.$set(i,r,!0,n[i]))}),o(e,function(e,i){t.hasOwnProperty(i)||"$"===i.charAt(0)||(t[i]=e,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function lt(t,e,n,i,s,u,c,l){var f,h,p=[],v=e[0],m=t.shift(),y=d(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),g=S(m.templateUrl)?m.templateUrl(e,n):m.templateUrl,b=m.templateNamespace;return e.empty(),a(g).then(function(r){var a,d,_,$;if(r=Mt(r),m.replace){if(_=Ot(r)?[]:xe(mt(b,pi(r))),a=_[0],1!==_.length||a.nodeType!==$i)throw so("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,g);d={$attr:{}},_t(i,e,a);var x=Q(a,[],d);w(m.scope)&&at(x,!0),t=x.concat(t),ct(n,d)}else a=v,e.html(r);for(t.unshift(y),f=rt(t,a,n,s,e,m,u,c,l),o(i,function(t,n){t===a&&(i[n]=e[0])}),h=K(e[0].childNodes,s);p.length;){var E=p.shift(),k=p.shift(),S=p.shift(),O=p.shift(),A=e[0];if(!E.$$destroyed){if(k!==v){var j=k.className;l.hasElementTranscludeDirective&&m.replace||(A=Dt(a)),_t(S,Zr(k),A),F(Zr(A),j)}$=f.transcludeOnThisElement?Y(E,f.transclude,O):O,f(h,E,A,i,$)}}p=null}).catch(function(t){t instanceof Error&&r(t)}),function(t,e,n,r,i){var o=i;e.$$destroyed||(p?p.push(e,n,r,o):(f.transcludeOnThisElement&&(o=Y(e,f.transclude,i)),f(h,e,n,r,o)))}}function pt(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function dt(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e)throw so("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,tt(r))}function vt(t,e){var r=n(e,!0);r&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&U.$$addBindingClass(e),function(t,e){var i=e.parent();n||U.$$addBindingClass(i),U.$$addBindingInfo(i,r.expressions),t.$watch(r,function(t){e[0].nodeValue=t})}}})}function mt(e,n){switch(e=Kr(e||"html")){case"svg":case"math":var r=t.document.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function gt(t,e){if("srcdoc"===e)return y.HTML;var n=B(t);if("src"===e||"ngSrc"===e){if(-1===["img","video","audio","source","track"].indexOf(n))return y.RESOURCE_URL}else if("xlinkHref"===e||"form"===n&&"action"===e||"link"===n&&"href"===e)return y.RESOURCE_URL}function bt(t,e,r,i,o){var a=gt(t,i),s=!o,u=$[i]||o,c=n(r,s,a,u);if(c){if("multiple"===i&&"select"===B(t))throw so("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",tt(t));if(k.test(i))throw so("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");e.push({priority:100,compile:function(){return{pre:function(t,e,o){var s=o.$$observers||(o.$$observers=yt()),l=o[i];l!==r&&(c=l&&n(l,!0,a,u),r=l),c&&(o[i]=c(t),(s[i]||(s[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||t).$watch(c,function(t,e){"class"===i&&t!==e?o.$updateClass(t,e):o.$set(i,t)}))}}}})}}function _t(e,n,r){var i,o,a=n[0],s=n.length,u=a.parentNode;if(e)for(i=0,o=e.length;i<o;i++)if(e[i]===a){e[i++]=r;for(var c=i,l=c+s-1,f=e.length;c<f;c++,l++)l<f?e[c]=e[l]:delete e[c];e.length-=s-1,e.context===a&&(e.context=r);break}u&&u.replaceChild(r,a);var h=t.document.createDocumentFragment();for(i=0;i<s;i++)h.appendChild(n[i]);for(Zr.hasData(a)&&(Zr.data(r,Zr.data(a)),Zr(a).off("$destroy")),Zr.cleanData(h.querySelectorAll("*")),i=1;i<s;i++)delete n[i];n[0]=r,n.length=1}function wt(t,e){return f(function(){return t.apply(null,arguments)},t,e)}function $t(t,e,n,i,o,a){try{t(e,n,i,o,a)}catch(t){r(t,tt(n))}}function xt(t,e,r,i,a){function u(e,n,i){S(r.$onChanges)&&!V(n,i)&&(Et||(t.$$postDigest(I),Et=[]),l||(l={},Et.push(c)),l[e]&&(i=l[e].previousValue),l[e]=new _e(i,n))}function c(){r.$onChanges(l),l=void 0}var l,f=[],h={};return o(i,function(i,o){var c,l,p,d,m,y=i.attrName,g=i.optional,b=i.mode;switch(b){case"@":g||Gr.call(e,y)||(r[o]=e[y]=void 0),m=e.$observe(y,function(t){if(x(t)||M(t)){var e=r[o];u(o,t,e),r[o]=t}}),e.$$observers[y].$$scope=t,c=e[y],x(c)?r[o]=n(c)(t):M(c)&&(r[o]=c),h[o]=new _e(uo,r[o]),f.push(m);break;case"=":if(!Gr.call(e,y)){if(g)break;e[y]=void 0}if(g&&!e[y])break;l=s(e[y]),d=l.literal?z:V,p=l.assign||function(){throw c=r[o]=l(t),so("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[y],y,a.name)},c=r[o]=l(t);var _=function(e){return d(e,r[o])||(d(e,c)?p(t,e=r[o]):r[o]=e),c=e};_.$stateful=!0,m=i.collection?t.$watchCollection(e[y],_):t.$watch(s(e[y],_),null,l.literal),f.push(m);break;case"<":if(!Gr.call(e,y)){if(g)break;e[y]=void 0}if(g&&!e[y])break;l=s(e[y]);var w=l.literal,$=r[o]=l(t);h[o]=new _e(uo,r[o]),m=t.$watch(l,function(t,e){if(e===t){if(e===$||w&&z(e,$))return;e=$}u(o,t,e),r[o]=t},w),f.push(m);break;case"&":if((l=e.hasOwnProperty(y)?s(e[y]):v)===v&&g)break;r[o]=function(e){return l(t,e)}}}),{initialChanges:h,removeWatches:f.length&&function(){for(var t=0,e=f.length;t<e;++t)f[t]()}}}var Et,kt=/^\w/,St=t.document.createElement("div"),At=P,jt=D,Ct=T;N.prototype={$normalize:we,$addClass:function(t){t&&t.length>0&&O.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&O.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=$e(t,e);n&&n.length&&O.addClass(this.$$element,n);var r=$e(e,t);r&&r.length&&O.removeClass(this.$$element,r)},$set:function(t,e,n,i){var a,s=this.$$element[0],u=Yt(s,t),c=Qt(t),l=t;if(u?(this.$$element.prop(t,e),i=u):c&&(this[c]=e,l=c),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=ft(t,"-")),"a"===(a=B(this.$$element))&&("href"===t||"xlinkHref"===t)||"img"===a&&"src"===t)this[t]=e=R(e,"src"===t);else if("img"===a&&"srcset"===t&&_(e)){for(var f="",h=pi(e),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,d=/\s/.test(h)?p:/(,)/,v=h.split(d),m=Math.floor(v.length/2),y=0;y<m;y++){var g=2*y;f+=R(pi(v[g]),!0),f+=" "+pi(v[g+1])}var w=pi(v[2*y]).split(/\s/);f+=R(pi(w[0]),!0),2===w.length&&(f+=" "+pi(w[1])),this[t]=e=f}!1!==n&&(null===e||b(e)?this.$$element.removeAttr(i):kt.test(i)?this.$$element.attr(i,e):L(this.$$element[0],i,e));var $=this.$$observers;$&&o($[l],function(t){try{t(e)}catch(t){r(t)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=yt()),i=r[t]||(r[t]=[]);return i.push(e),c.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(t)||b(n[t])||e(n[t])}),function(){q(i,e)}}};var Tt=n.startSymbol(),Pt=n.endSymbol(),Mt="{{"===Tt&&"}}"===Pt?m:function(t){return t.replace(/\{\{/g,Tt).replace(/}}/g,Pt)},Rt=/^ngAttr[A-Z]/,It=/^(.+)Start$/;return U.$$addBindingInfo=A?function(t,e){var n=t.data("$binding")||[];fi(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:v,U.$$addBindingClass=A?function(t){F(t,"ng-binding")}:v,U.$$addScopeInfo=A?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:v,U.$$addScopeClass=A?function(t,e){F(t,e?"ng-isolate-scope":"ng-scope")}:v,U.$$createComment=function(e,n){var r="";return A&&(r=" "+(e||"")+": ",n&&(r+=n+" ")),t.document.createComment(r)},U}]}function _e(t,e){this.previousValue=t,this.currentValue=e}function we(t){return t.replace(co,"").replace(lo,kt)}function $e(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a===i[s])continue t;n+=(n.length>0?" ":"")+a}return n}function xe(t){t=Zr(t);var e=t.length;if(e<=1)return t;for(;e--;){var n=t[e];(n.nodeType===Ei||n.nodeType===xi&&""===n.nodeValue.trim())&&ri.call(t,e,1)}return t}function Ee(t,e){if(e&&x(e))return e;if(x(t)){var n=ho.exec(t);if(n)return n[3]}}function ke(){var t={},n=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){dt(e,"controller"),w(e)?f(t,e):t[e]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,i){function o(t,n,r,i){if(!t||!w(t.$scope))throw e("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,n);t.$scope[n]=r}return function(e,a,s,u){var c,l,h,p;if(s=!0===s,u&&x(u)&&(p=u),x(e)){if(!(l=e.match(ho)))throw fo("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",e);if(h=l[1],p=p||l[3],!(e=t.hasOwnProperty(h)?t[h]:vt(a.$scope,h,!0)||(n?vt(i,h,!0):void 0)))throw fo("ctrlreg","The controller with the name '{0}' is not registered.",h);pt(e,h,!0)}if(s){var d=(fi(e)?e[e.length-1]:e).prototype;return c=Object.create(d||null),p&&o(a,p,c,h||e.name),f(function(){var t=r.invoke(e,c,a,h);return t!==c&&(w(t)||S(t))&&(c=t,p&&o(a,p,c,h||e.name)),c},{instance:c,identifier:p})}return c=r.instantiate(e,a,h),p&&o(a,p,c,h||e.name),c}}]}function Se(){this.$get=["$window",function(t){return Zr(t.document)}]}function Oe(){this.$get=["$document","$rootScope",function(t,e){function n(){i=r.hidden}var r=t[0],i=r&&r.hidden;return t.on("visibilitychange",n),e.$on("$destroy",function(){t.off("visibilitychange",n)}),function(){return i}}]}function Ae(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function je(t){return w(t)?k(t)?t.toISOString():J(t):t}function Ce(){this.$get=function(){return function(t){if(!t)return"";var e=[];return a(t,function(t,n){null===t||b(t)||(fi(t)?o(t,function(t){e.push(ot(n)+"="+ot(je(t)))}):e.push(ot(n)+"="+ot(je(t))))}),e.join("&")}}}function Te(){this.$get=function(){return function(t){function e(t,r,i){null===t||b(t)||(fi(t)?o(t,function(t,n){e(t,r+"["+(w(t)?n:"")+"]")}):w(t)&&!k(t)?a(t,function(t,n){e(t,r+(i?"":"[")+n+(i?"":"]"))}):n.push(ot(r)+"="+ot(je(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function Pe(t,e){if(x(t)){var n=t.replace(bo,"").trim();if(n){var r=e("Content-Type");if(r&&0===r.indexOf(vo)||Me(n))try{t=Y(n)}catch(e){throw _o("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,e)}}}return t}function Me(t){var e=t.match(yo);return e&&go[e[0]].test(t)}function De(t){function e(t,e){t&&(r[t]=r[t]?r[t]+", "+e:e)}var n,r=yt();return x(t)?o(t.split("\n"),function(t){n=t.indexOf(":"),e(Kr(pi(t.substr(0,n))),pi(t.substr(n+1)))}):w(t)&&o(t,function(t,n){e(Kr(n),pi(t))}),r}function Re(t){var e;return function(n){if(e||(e=De(t)),n){var r=e[Kr(n)];return void 0===r&&(r=null),r}return e}}function Ie(t,e,n,r){return S(r)?r(t,e,n):(o(r,function(r){t=r(t,e,n)}),t)}function Ne(t){return 200<=t&&t<300}function Le(){var t=this.defaults={transformResponse:[Pe],transformRequest:[function(t){return!w(t)||C(t)||P(t)||T(t)?t:J(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:_t(mo),put:_t(mo),patch:_t(mo)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},n=!1;this.useApplyAsync=function(t){return _(t)?(n=!!t,this):n};var r=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(i,a,s,u,c,l,h,p){function d(n){function r(t,e){for(var n=0,r=e.length;n<r;){var i=e[n++],o=e[n++];t=t.then(i,o)}return e.length=0,t}function a(){i.$$completeOutstandingRequest(v)}function s(t,e){var n,r={};return o(t,function(t,i){S(t)?null!=(n=t(e))&&(r[i]=n):r[i]=t}),r}function u(e){var n=e.headers,r=Ie(e.data,Re(n),void 0,e.transformRequest);return b(r)&&o(n,function(t,e){"content-type"===Kr(e)&&delete n[e]}),b(e.withCredentials)&&!b(t.withCredentials)&&(e.withCredentials=t.withCredentials),m(e,r).then(c,c)}function c(t){var e=f({},t);return e.data=Ie(t.data,t.headers,t.status,d.transformResponse),Ne(t.status)?e:l.reject(e)}if(!w(n))throw e("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!x(p.valueOf(n.url)))throw e("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var d=f({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},n);d.headers=function(e){var n,r,i,o=t.headers,a=f({},e.headers);o=f({},o.common,o[Kr(e.method)]);t:for(n in o){r=Kr(n);for(i in a)if(Kr(i)===r)continue t;a[n]=o[n]}return s(a,_t(e))}(n),d.method=Jr(d.method),d.paramSerializer=x(d.paramSerializer)?h.get(d.paramSerializer):d.paramSerializer,i.$$incOutstandingRequestCount();var y=[],g=[],_=l.resolve(d);return o(E,function(t){(t.request||t.requestError)&&y.unshift(t.request,t.requestError),(t.response||t.responseError)&&g.push(t.response,t.responseError)}),_=r(_,y),_=_.then(u),_=r(_,g),_=_.finally(a)}function m(e,r){function i(t){if(t){var e={};return o(t,function(t,r){e[r]=function(e){function r(){t(e)}n?c.$applyAsync(r):c.$$phase?r():c.$apply(r)}}),e}}function u(t,e,r,i){function o(){f(e,t,r,i)}m&&(Ne(t)?m.put(j,[t,e,De(r),i]):m.remove(j)),n?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function f(t,n,r,i){n=n>=-1?n:0,(Ne(n)?k.resolve:k.reject)({data:t,status:n,headers:Re(r),config:e,statusText:i})}function h(t){f(t.data,t.status,_t(t.headers()),t.statusText)}function v(){var t=d.pendingRequests.indexOf(e);-1!==t&&d.pendingRequests.splice(t,1)}var m,E,k=l.defer(),S=k.promise,O=e.headers,A="jsonp"===Kr(e.method),j=e.url;if(A?j=p.getTrustedResourceUrl(j):x(j)||(j=p.valueOf(j)),j=y(j,e.paramSerializer(e.params)),A&&(j=g(j,e.jsonpCallbackParam)),d.pendingRequests.push(e),S.then(v,v),!e.cache&&!t.cache||!1===e.cache||"GET"!==e.method&&"JSONP"!==e.method||(m=w(e.cache)?e.cache:w(t.cache)?t.cache:$),m&&(E=m.get(j),_(E)?D(E)?E.then(h,h):fi(E)?f(E[1],E[0],_t(E[2]),E[3]):f(E,200,{},"OK"):m.put(j,S)),b(E)){var C=Ln(e.url)?s()[e.xsrfCookieName||t.xsrfCookieName]:void 0;C&&(O[e.xsrfHeaderName||t.xsrfHeaderName]=C),a(e.method,j,r,u,O,e.timeout,e.withCredentials,e.responseType,i(e.eventHandlers),i(e.uploadEventHandlers))}return S}function y(t,e){return e.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}function g(t,e){if(/[&?][^=]+=JSON_CALLBACK/.test(t))throw _o("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',t);if(new RegExp("[&?]"+e+"=").test(t))throw _o("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',e,t);return t+=(-1===t.indexOf("?")?"?":"&")+e+"=JSON_CALLBACK"}var $=u("$http");t.paramSerializer=x(t.paramSerializer)?h.get(t.paramSerializer):t.paramSerializer;var E=[];return o(r,function(t){E.unshift(x(t)?h.get(t):h.invoke(t))}),d.pendingRequests=[],function(t){o(arguments,function(t){d[t]=function(e,n){return d(f({},n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(t){o(arguments,function(t){d[t]=function(e,n,r){return d(f({},r||{},{method:t,url:e,data:n}))}})}("post","put","patch"),d.defaults=t,d}]}function Be(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Fe(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,r){return qe(t,r,t.defer,e,n[0])}]}function qe(t,e,n,r,i){function a(t,e,n){t=t.replace("JSON_CALLBACK",e);var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=t,o.async=!0,a=function(t){o.removeEventListener("load",a),o.removeEventListener("error",a),i.body.removeChild(o),o=null;var s=-1,u="unknown";t&&("load"!==t.type||r.wasCalled(e)||(t={type:"error"}),u=t.type,s="error"===t.type?404:200),n&&n(s,u)},o.addEventListener("load",a),o.addEventListener("error",a),i.body.appendChild(o),a}return function(i,s,u,c,l,f,h,p,d,v){function m(){w&&w(),$&&$.abort()}function y(t,e,r,i,o){_(E)&&n.cancel(E),w=$=null,t(e,r,i,o)}if(s=s||t.url(),"jsonp"===Kr(i))var g=r.createCallback(s),w=a(s,g,function(t,e){var n=200===t&&r.getResponse(g);y(c,t,n,"",e),r.removeCallback(g)});else{var $=e(i,s);$.open(i,s,!0),o(l,function(t,e){_(t)&&$.setRequestHeader(e,t)}),$.onload=function(){var t=$.statusText||"",e="response"in $?$.response:$.responseText,n=1223===$.status?204:$.status;0===n&&(n=e?200:"file"===Nn(s).protocol?404:0),y(c,n,e,$.getAllResponseHeaders(),t)};var x=function(){y(c,-1,null,null,"")};if($.onerror=x,$.onabort=x,$.ontimeout=x,o(d,function(t,e){$.addEventListener(e,t)}),o(v,function(t,e){$.upload.addEventListener(e,t)}),h&&($.withCredentials=!0),p)try{$.responseType=p}catch(t){if("json"!==p)throw t}$.send(b(u)?null:u)}if(f>0)var E=n(m,f);else D(f)&&f.then(m)}}function Ue(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function a(n){return n.replace(h,t).replace(p,e)}function s(t,e,n,r){var i=t.$watch(function(t){return i(),r(t)},e,n);return i}function u(o,u,h,p){function d(t){try{return t=C(t),p&&!_(t)?t:gt(t)}catch(t){r(wo.interr(o,t))}}if(!o.length||-1===o.indexOf(t)){var v;if(!u){v=y(a(o)),v.exp=o,v.expressions=[],v.$$watchDelegate=s}return v}p=!!p;for(var m,g,w,$=0,x=[],E=[],k=o.length,O=[],A=[];$<k;){if(-1===(m=o.indexOf(t,$))||-1===(g=o.indexOf(e,m+c))){$!==k&&O.push(a(o.substring($)));break}$!==m&&O.push(a(o.substring($,m))),w=o.substring(m+c,g),x.push(w),E.push(n(w,d)),$=g+l,A.push(O.length),O.push("")}if(h&&O.length>1&&wo.throwNoconcat(o),!u||x.length){var j=function(t){for(var e=0,n=x.length;e<n;e++){if(p&&b(t[e]))return;O[A[e]]=t[e]}return O.join("")},C=function(t){return h?i.getTrusted(h,t):i.valueOf(t)};return f(function(t){var e=0,n=x.length,i=new Array(n);try{for(;e<n;e++)i[e]=E[e](t);return j(i)}catch(t){r(wo.interr(o,t))}},{exp:o,expressions:x,$$watchDelegate:function(t,e){var n;return t.$watchGroup(E,function(r,i){var o=j(r);S(e)&&e.call(this,o,r!==i?n:o,t),n=o})}})}}var c=t.length,l=e.length,h=new RegExp(t.replace(/./g,o),"g"),p=new RegExp(e.replace(/./g,o),"g");return u.startSymbol=function(){return t},u.endSymbol=function(){return e},u}]}function Ve(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,r,i){function o(o,s,u,c){function l(){f?o.apply(null,h):o(v)}var f=arguments.length>4,h=f?G(arguments,4):[],p=e.setInterval,d=e.clearInterval,v=0,m=_(c)&&!c,y=(m?r:n).defer(),g=y.promise;return u=_(u)?u:0,g.$$intervalId=p(function(){m?i.defer(l):t.$evalAsync(l),y.notify(v++),u>0&&v>=u&&(y.resolve(v),d(g.$$intervalId),delete a[g.$$intervalId]),m||t.$apply()},s),a[g.$$intervalId]=y,g}var a={};return o.cancel=function(t){return!!(t&&t.$$intervalId in a)&&(a[t.$$intervalId].promise.catch(v),a[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete a[t.$$intervalId],!0)},o}]}function ze(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=it(e[n]);return e.join("/")}function He(t,e){var n=Nn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=p(n.port)||Eo[n.protocol]||null}function Ge(t,e){if(So.test(t))throw ko("badpath",'Invalid url "{0}".',t);var n="/"!==t.charAt(0);n&&(t="/"+t);var r=Nn(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=nt(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function We(t,e){return t.slice(0,e.length)===e}function Ke(t,e){if(We(e,t))return e.substr(t.length)}function Je(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function Ye(t){return t.replace(/(#.+)|#$/,"$1")}function Qe(t){return t.substr(0,Je(t).lastIndexOf("/")+1)}function Xe(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Ze(t,e,n){this.$$html5=!0,n=n||"",He(t,this),this.$$parse=function(t){var n=Ke(e,t);if(!x(n))throw ko("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);Ge(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=rt(this.$$search),n=this.$$hash?"#"+it(this.$$hash):"";this.$$url=ze(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return _(o=Ke(t,r))?(a=o,s=n&&_(o=Ke(n,o))?e+(Ke("/",o)||o):t+a):_(o=Ke(e,r))?s=e+o:e===r+"/"&&(s=e),s&&this.$$parse(s),!!s}}function tn(t,e,n){He(t,this),this.$$parse=function(r){var i,o=Ke(t,r)||Ke(e,r);b(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",b(o)&&(t=r,this.replace())):(i=Ke(n,o),b(i)&&(i=o)),Ge(i,this),this.$$path=function(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return We(e,n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}(this.$$path,i,t),this.$$compose()},this.$$compose=function(){var e=rt(this.$$search),r=this.$$hash?"#"+it(this.$$hash):"";this.$$url=ze(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(e,n){return Je(t)===Je(e)&&(this.$$parse(e),!0)}}function en(t,e,n){this.$$html5=!0,tn.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return t===Je(r)?o=r:(a=Ke(e,r))?o=t+n+a:e===r+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=rt(this.$$search),r=this.$$hash?"#"+it(this.$$hash):"";this.$$url=ze(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+n+this.$$url,this.$$urlUpdatedByLocation=!0}}function nn(t){return function(){return this[t]}}function rn(t,e){return function(n){return b(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function on(){var t="!",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return _(e)?(t=e,this):t},this.html5Mode=function(t){return M(t)?(e.enabled=t,this):w(t)?(M(t.enabled)&&(e.enabled=t.enabled),M(t.requireBase)&&(e.requireBase=t.requireBase),(M(t.rewriteLinks)||x(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(t,e,n){var i=c.url(),o=c.$$state;try{r.url(t,e,n),c.$$state=r.state()}catch(t){throw c.url(i),c.$$state=o,t}}function u(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,l,f,h=r.baseHref(),p=r.url();if(e.enabled){if(!h&&e.requireBase)throw ko("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=Xe(p)+(h||"/"),l=i.history?Ze:en}else f=Je(p),l=tn;var d=Qe(f);c=new l(f,d,"#"+t),c.$$parseLinkUrl(p,p),c.$$state=r.state();var v=/^\s*(javascript|mailto):/i;o.on("click",function(t){var i=e.rewriteLinks;if(i&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var s=Zr(t.target);"a"!==B(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!x(i)||!b(s.attr(i))){var u=s.prop("href"),l=s.attr("href")||s.attr("xlink:href");w(u)&&"[object SVGAnimatedString]"===u.toString()&&(u=Nn(u.animVal).href),v.test(u)||!u||s.attr("target")||t.isDefaultPrevented()||c.$$parseLinkUrl(u,l)&&(t.preventDefault(),c.absUrl()!==r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),Ye(c.absUrl())!==Ye(p)&&r.url(c.absUrl(),!0);var m=!0;return r.onUrlChange(function(t,e){if(!We(t,d))return void(a.location.href=t);n.$evalAsync(function(){var r,i=c.absUrl(),o=c.$$state;t=Ye(t),c.$$parse(t),c.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,c.absUrl()===t&&(r?(c.$$parse(i),c.$$state=o,s(i,!1,o)):(m=!1,u(i,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){if(m||c.$$urlUpdatedByLocation){c.$$urlUpdatedByLocation=!1;var t=Ye(r.url()),e=Ye(c.absUrl()),o=r.state(),a=c.$$replace,l=t!==e||c.$$html5&&i.history&&o!==c.$$state;(m||l)&&(m=!1,n.$evalAsync(function(){var e=c.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,c.$$state,o).defaultPrevented;c.absUrl()===e&&(r?(c.$$parse(t),c.$$state=o):(l&&s(e,a,o===c.$$state?null:c.$$state),u(t,o)))}))}c.$$replace=!1}),c}]}function an(){var t=!0,e=this;this.debugEnabled=function(e){return _(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack&&a?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||v,a=!1;try{a=!!i.apply}catch(t){}return a?function(){var t=[];return o(arguments,function(e){t.push(r(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}var a=Xr||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function sn(t){return t+""}function un(t,e){return void 0!==t?t:e}function cn(t,e){return void 0===t?e:void 0===e?t:t+e}function ln(t,e){return!t(e).$stateful}function fn(t,e){var n,r,i;switch(t.type){case Mo.Program:n=!0,o(t.body,function(t){fn(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case Mo.Literal:t.constant=!0,t.toWatch=[];break;case Mo.UnaryExpression:fn(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Mo.BinaryExpression:fn(t.left,e),fn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Mo.LogicalExpression:fn(t.left,e),fn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Mo.ConditionalExpression:fn(t.test,e),fn(t.alternate,e),fn(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Mo.Identifier:t.constant=!1,t.toWatch=[t];break;case Mo.MemberExpression:fn(t.object,e),t.computed&&fn(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Mo.CallExpression:i=!!t.filter&&ln(e,t.callee.name),n=i,r=[],o(t.arguments,function(t){fn(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=i?r:[t];break;case Mo.AssignmentExpression:fn(t.left,e),fn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Mo.ArrayExpression:n=!0,r=[],o(t.elements,function(t){fn(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=r;break;case Mo.ObjectExpression:n=!0,r=[],o(t.properties,function(t){fn(t.value,e),n=n&&t.value.constant&&!t.computed,t.value.constant||r.push.apply(r,t.value.toWatch),t.computed&&(fn(t.key,e),t.key.constant||r.push.apply(r,t.key.toWatch))}),t.constant=n,t.toWatch=r;break;case Mo.ThisExpression:case Mo.LocalsExpression:t.constant=!1,t.toWatch=[]}}function hn(t){if(1===t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function pn(t){return t.type===Mo.Identifier||t.type===Mo.MemberExpression}function dn(t){if(1===t.body.length&&pn(t.body[0].expression))return{type:Mo.AssignmentExpression,left:t.body[0].expression,right:{type:Mo.NGValueParameter},operator:"="}}function vn(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Mo.Literal||t.body[0].expression.type===Mo.ArrayExpression||t.body[0].expression.type===Mo.ObjectExpression)}function mn(t){return t.constant}function yn(t){this.$filter=t}function gn(t){this.$filter=t}function bn(t,e,n){this.ast=new Mo(t,n),this.astCompiler=n.csp?new gn(e):new yn(e)}function _n(t){return S(t.valueOf)?t.valueOf():jo.call(t)}function wn(){var t,e,n=yt(),r={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){r[t]=e},this.setIdentifierFns=function(n,r){return t=n,e=r,this},this.$get=["$filter",function(i){function a(t,e){var r,o,a;switch(typeof t){case"string":if(t=t.trim(),a=t,!(r=n[a])){":"===t.charAt(0)&&":"===t.charAt(1)&&(o=!0,t=t.substring(2));r=new bn(new Po(d),i,d).parse(t),r.constant?r.$$watchDelegate=f:o?(r.oneTime=!0,r.$$watchDelegate=c):r.inputs&&(r.$$watchDelegate=u),n[a]=r}return h(r,e);case"function":return h(t,e);default:return h(v,e)}}function s(t,e,n){return null==t||null==e?t===e:!("object"==typeof t&&"object"==typeof(t=_n(t))&&!n)&&(t===e||t!==t&&e!==e)}function u(t,e,n,r,i){var o,a=r.inputs;if(1===a.length){var u=s;return a=a[0],t.$watch(function(t){var e=a(t);return s(e,u,r.literal)||(o=r(t,void 0,void 0,[e]),u=e&&_n(e)),o},e,n,i)}for(var c=[],l=[],f=0,h=a.length;f<h;f++)c[f]=s,l[f]=null;return t.$watch(function(t){for(var e=!1,n=0,i=a.length;n<i;n++){var u=a[n](t);(e||(e=!s(u,c[n],r.literal)))&&(l[n]=u,c[n]=u&&_n(u))}return e&&(o=r(t,void 0,void 0,l)),o},e,n,i)}function c(t,e,n,r,i){function o(t){return r(t)}function a(t,n,r){c=t,S(e)&&e(t,n,r),f(t)&&r.$$postDigest(function(){f(c)&&s()})}var s,c,f=r.literal?l:_;return s=r.inputs?u(t,a,n,r,i):t.$watch(o,a,n)}function l(t){var e=!0;return o(t,function(t){_(t)||(e=!1)}),e}function f(t,e,n,r){var i=t.$watch(function(t){return i(),r(t)},e,n);return i}function h(t,e){function n(n,r,i,a){var s=o&&a?a[0]:t(n,r,i,a);return e(s,n,r)}function r(n,r,i,s){var u=o&&s?s[0]:t(n,r,i,s),c=e(u,n,r);return a(u)?c:u}if(!e)return t;var i=t.$$watchDelegate,o=!1,a=t.literal?l:_,s=t.oneTime?r:n;return s.literal=t.literal,s.oneTime=t.oneTime,o=!t.inputs,i&&i!==u?(s.$$watchDelegate=i,s.inputs=t.inputs):e.$stateful||(s.$$watchDelegate=u,s.inputs=t.inputs?t.inputs:[t]),s}var p=vi().noUnsafeEval,d={csp:p,literals:U(r),isIdentifierStart:S(t)&&t,isIdentifierContinue:S(e)&&e};return a}]}function $n(){var t=!0;this.$get=["$rootScope","$exceptionHandler",function(e,n){return En(function(t){e.$evalAsync(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return _(e)?(t=e,this):t}}function xn(){var t=!0;this.$get=["$browser","$exceptionHandler",function(e,n){return En(function(t){e.defer(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return _(e)?(t=e,this):t}}function En(t,n,r){function i(){return new a}function a(){var t=this.promise=new s;this.resolve=function(e){h(t,e)},this.reject=function(e){d(t,e)},this.notify=function(e){m(t,e)}}function s(){this.$$state={status:0}}function u(e){var n,i,o;o=e.pending,e.processScheduled=!1,e.pending=void 0;try{for(var a=0,s=o.length;a<s;++a){e.pur=!0,i=o[a][0],n=o[a][e.status];try{S(n)?h(i,n(e.value)):1===e.status?h(i,e.value):d(i,e.value)}catch(t){d(i,t)}}}finally{--O,r&&0===O&&t(c)}}function c(){for(;!O&&A.length;){var t=A.shift();if(!t.pur){t.pur=!0;var e="Possibly unhandled rejection: "+$t(t.value);t.value instanceof Error?n(t.value,e):n(e)}}}function l(e){!r||e.pending||2!==e.status||e.pur||(0===O&&0===A.length&&t(c),A.push(e)),!e.processScheduled&&e.pending&&(e.processScheduled=!0,++O,t(function(){u(e)}))}function h(t,e){t.$$state.status||(e===t?v(t,k("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):p(t,e))}function p(t,e){function n(e){a||(a=!0,p(t,e))}function r(e){a||(a=!0,v(t,e))}function i(e){m(t,e)}var o,a=!1;try{(w(e)||S(e))&&(o=e.then),S(o)?(t.$$state.status=-1,o.call(e,n,r,i)):(t.$$state.value=e,t.$$state.status=1,l(t.$$state))}catch(t){r(t)}}function d(t,e){t.$$state.status||v(t,e)}function v(t,e){t.$$state.value=e,t.$$state.status=2,l(t.$$state)}function m(e,r){var i=e.$$state.pending;e.$$state.status<=0&&i&&i.length&&t(function(){for(var t,e,o=0,a=i.length;o<a;o++){e=i[o][0],t=i[o][3];try{m(e,S(t)?t(r):r)}catch(t){n(t)}}})}function y(t){var e=new s;return d(e,t),e}function g(t,e,n){var r=null;try{S(n)&&(r=n())}catch(t){return y(t)}return D(r)?r.then(function(){return e(t)},y):e(t)}function _(t,e,n,r){var i=new s;return h(i,t),i.then(e,n,r)}function $(t){var e=new s,n=0,r=fi(t)?[]:{};return o(t,function(t,i){n++,_(t).then(function(t){r[i]=t,--n||h(e,r)},function(t){d(e,t)})}),0===n&&h(e,r),e}function x(t){var e=i();return o(t,function(t){_(t).then(e.resolve,e.reject)}),e.promise}function E(t){function e(t){h(r,t)}function n(t){d(r,t)}if(!S(t))throw k("norslvr","Expected resolverFn, got '{0}'",t);var r=new s;return t(e,n),r}var k=e("$q",TypeError),O=0,A=[];f(s.prototype,{then:function(t,e,n){if(b(t)&&b(e)&&b(n))return this;var r=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&l(this.$$state),r},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then(function(e){return g(e,j,t)},function(e){return g(e,y,t)},e)}});var j=_;return E.prototype=s.prototype,E.defer=i,E.reject=y,E.when=_,E.resolve=j,E.all=$,E.race=x,E}function kn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=i,o}]}function Sn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=u(),this.$$ChildScope=null}return e.prototype=t,e}var n=10,r=e("$rootScope"),a=null,s=null;this.digestTtl=function(t){return arguments.length&&(n=t),n},this.$get=["$exceptionHandler","$parse","$browser",function(e,c,l){function f(t){t.currentScope.$$destroyed=!0}function h(t){9===Xr&&(t.$$childHead&&h(t.$$childHead),t.$$nextSibling&&h(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function p(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function d(t){if(E.$$phase)throw r("inprog","{0} already in progress",E.$$phase);E.$$phase=t}function m(){E.$$phase=null}function y(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function g(t,e,n){do{t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n]}while(t=t.$parent)}function _(){}function $(){for(;A.length;)try{A.shift()()}catch(t){e(t)}s=null}function x(){null===s&&(s=l.defer(function(){E.$apply($)}))}p.prototype={constructor:p,$new:function(e,n){var r;return n=n||this,e?(r=new p,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(e||n!==this)&&r.$on("$destroy",f),r},$watch:function(t,e,n,r){var i=c(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,n,i,t);var o=this,s=o.$$watchers,u={fn:e,last:_,get:i,exp:r||t,eq:!!n};return a=null,S(e)||(u.fn=v),s||(s=o.$$watchers=[],s.$$digestWatchIndex=-1),s.unshift(u),s.$$digestWatchIndex++,y(this,1),function(){var t=q(s,u);t>=0&&(y(o,-1),t<s.$$digestWatchIndex&&s.$$digestWatchIndex--),a=null}},$watchGroup:function(t,e){function n(){u=!1,c?(c=!1,e(i,i,s)):e(i,r,s)}var r=new Array(t.length),i=new Array(t.length),a=[],s=this,u=!1,c=!0;if(!t.length){var l=!0;return s.$evalAsync(function(){l&&e(i,i,s)}),function(){l=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){i[0]=t,r[0]=n,e(i,t===n?i:r,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){i[e]=t,r[e]=o,u||(u=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,r,s;if(!b(o)){if(w(o))if(i(o)){a!==p&&(a=p,m=a.length=0,f++),e=o.length,m!==e&&(f++,a.length=m=e);for(var u=0;u<e;u++)s=a[u],r=o[u],s!==s&&r!==r||s===r||(f++,a[u]=r)}else{a!==d&&(a=d={},m=0,f++),e=0;for(n in o)Gr.call(o,n)&&(e++,r=o[n],s=a[n],n in a?s!==s&&r!==r||s===r||(f++,a[n]=r):(m++,a[n]=r,f++));if(m>e){f++;for(n in a)Gr.call(o,n)||(m--,delete a[n])}}else a!==o&&(a=o,f++);return f}}function r(){if(v?(v=!1,e(o,o,u)):e(o,s,u),l)if(w(o))if(i(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var n in o)Gr.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,u=this,l=e.length>1,f=0,h=c(t,n),p=[],d={},v=!0,m=0;return this.$watch(h,r)},$digest:function(){var t,i,o,u,c,f,h,p,v,y,g,b=n,w=this,x=[];d("$digest"),l.$$checkUrlChange(),this===E&&null!==s&&(l.defer.cancel(s),$()),a=null;do{h=!1,v=w;for(var A=0;A<k.length;A++){try{g=k[A],u=g.fn,u(g.scope,g.locals)}catch(t){e(t)}a=null}k.length=0;t:do{if(f=v.$$watchers)for(f.$$digestWatchIndex=f.length;f.$$digestWatchIndex--;)try{if(t=f[f.$$digestWatchIndex])if(c=t.get,(i=c(v))===(o=t.last)||(t.eq?z(i,o):li(i)&&li(o))){if(t===a){h=!1;break t}}else h=!0,a=t,t.last=t.eq?U(i,null):i,u=t.fn,u(i,o===_?i:o,v),b<5&&(y=4-b,x[y]||(x[y]=[]),x[y].push({msg:S(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:i,oldVal:o}))}catch(t){e(t)}if(!(p=v.$$watchersCount&&v.$$childHead||v!==w&&v.$$nextSibling))for(;v!==w&&!(p=v.$$nextSibling);)v=v.$parent}while(v=p);if((h||k.length)&&!b--)throw m(),r("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",n,x)}while(h||k.length);for(m();j<O.length;)try{O[j++]()}catch(t){e(t)}O.length=j=0,l.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===E&&l.$$applicationDestroyed(),y(this,-this.$$watchersCount);for(var e in this.$$listenerCount)g(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=v,this.$on=this.$watch=this.$watchGroup=function(){return v},this.$$listeners={},this.$$nextSibling=null,h(this)}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){E.$$phase||k.length||l.defer(function(){k.length&&E.$digest()}),k.push({scope:this,fn:c(t),locals:e})},$$postDigest:function(t){O.push(t)},$apply:function(t){try{d("$apply");try{return this.$eval(t)}finally{m()}}catch(t){e(t)}finally{try{E.$digest()}catch(t){throw e(t),t}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&A.push(e),t=c(t),x()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do{r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++}while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(n[r]=null,g(i,1,t))}},$emit:function(t,n){var r,i,o,a=[],s=this,u=!1,c={name:t,targetScope:s,stopPropagation:function(){u=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=H([c],arguments,1);do{for(r=s.$$listeners[t]||a,c.currentScope=s,i=0,o=r.length;i<o;i++)if(r[i])try{r[i].apply(null,l)}catch(t){e(t)}else r.splice(i,1),i--,o--;if(u)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(t,n){var r=this,i=r,o=r,a={name:t,targetScope:r,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!r.$$listenerCount[t])return a;for(var s,u,c,l=H([a],arguments,1);i=o;){for(a.currentScope=i,s=i.$$listeners[t]||[],u=0,c=s.length;u<c;u++)if(s[u])try{s[u].apply(null,l)}catch(t){e(t)}else s.splice(u,1),u--,c--;if(!(o=i.$$listenerCount[t]&&i.$$childHead||i!==r&&i.$$nextSibling))for(;i!==r&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var E=new p,k=E.$$asyncQueue=[],O=E.$$postDigestQueue=[],A=E.$$applyAsyncQueue=[],j=0;return E}]}function On(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return _(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return _(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=Nn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function An(t){return t.replace(Io,kt)}function jn(t){if("self"===t)return t;if(x(t)){if(t.indexOf("***")>-1)throw Do("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=di(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(O(t))return new RegExp("^"+t.source+"$");throw Do("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Cn(t){var e=[];return _(t)&&o(t,function(t){e.push(jn(t))}),e}function Tn(){this.SCE_CONTEXTS=Ro;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Cn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Cn(t)),e},this.$get=["$injector",function(n){function r(t,e){return"self"===t?Ln(e):!!t.exec(e.href)}function i(n){var i,o,a=Nn(n.toString()),s=!1;for(i=0,o=t.length;i<o;i++)if(r(t[i],a)){s=!0;break}if(s)for(i=0,o=e.length;i<o;i++)if(r(e[i],a)){s=!1;break}return s}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var n=f.hasOwnProperty(t)?f[t]:null;if(!n)throw Do("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||b(e)||""===e)return e;if("string"!=typeof e)throw Do("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function s(t){return t instanceof l?t.$$unwrapTrustedValue():t}function u(t,e){if(null===e||b(e)||""===e)return e;var n=f.hasOwnProperty(t)?f[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===Ro.RESOURCE_URL){if(i(e))return e;throw Do("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===Ro.HTML)return c(e);throw Do("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(t){throw Do("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(c=n.get("$sanitize"));var l=o(),f={};return f[Ro.HTML]=o(l),f[Ro.CSS]=o(l),f[Ro.URL]=o(l),f[Ro.JS]=o(l),f[Ro.RESOURCE_URL]=o(f[Ro.URL]),{trustAs:a,getTrusted:u,valueOf:s}}]}function Pn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&Xr<8)throw Do("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=_t(Ro);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=m),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(Ro,function(t,e){var n=Kr(e);r[An("parse_as_"+n)]=function(e){return i(t,e)},r[An("get_trusted_"+n)]=function(e){return a(t,e)},r[An("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function Mn(){this.$get=["$window","$document",function(t,e){var n={},r=t.nw&&t.nw.process,i=!r&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id),o=!i&&t.history&&t.history.pushState,a=p((/android (\d+)/.exec(Kr((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),u=e[0]||{},c=u.body&&u.body.style,l=!1,f=!1;return c&&(l=!!("transition"in c||"webkitTransition"in c),f=!!("animation"in c||"webkitAnimation"in c)),{history:!(!o||a<4||s),hasEvent:function(t){if("input"===t&&Xr)return!1;if(b(n[t])){var e=u.createElement("div");n[t]="on"+t in e}return n[t]},csp:vi(),transitions:l,animations:f,android:a}}]}function Dn(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,n,r,i,o){function a(s,u){function c(t){return u||(t=No("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,t.status,t.statusText),e(t)),i.reject(t)}a.totalPendingRequests++,x(s)&&!b(n.get(s))||(s=o.getTrustedResourceUrl(s));var l=r.defaults&&r.defaults.transformResponse;return fi(l)?l=l.filter(function(t){return t!==Pe}):l===Pe&&(l=null),r.get(s,f({cache:n,transformResponse:l},t)).finally(function(){a.totalPendingRequests--}).then(function(t){return n.put(s,t.data),t.data},c)}return a.totalPendingRequests=0,a}]}function Rn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),i=[];return o(r,function(t){var r=ui.element(t).data("$binding");r&&o(r,function(r){if(n){new RegExp("(^|\\s)"+di(e)+"(\\s|\\||$)").test(r)&&i.push(t)}else-1!==r.indexOf(e)&&i.push(t)})}),i},r.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function In(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,s,u){S(o)||(u=s,s=o,o=v);var c,l=G(arguments,3),f=_(u)&&!u,h=(f?r:n).defer(),p=h.promise;return c=e.defer(function(){try{h.resolve(o.apply(null,l))}catch(t){h.reject(t),i(t)}finally{delete a[p.$$timeoutId]}f||t.$apply()},s),p.$$timeoutId=c,a[c]=h,p}var a={};return o.cancel=function(t){return!!(t&&t.$$timeoutId in a)&&(a[t.$$timeoutId].promise.catch(v),a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},o}]}function Nn(t){var e=t;return Xr&&(Lo.setAttribute("href",e),e=Lo.href),Lo.setAttribute("href",e),{href:Lo.href,protocol:Lo.protocol?Lo.protocol.replace(/:$/,""):"",host:Lo.host,search:Lo.search?Lo.search.replace(/^\?/,""):"",hash:Lo.hash?Lo.hash.replace(/^#/,""):"",hostname:Lo.hostname,port:Lo.port,pathname:"/"===Lo.pathname.charAt(0)?Lo.pathname:"/"+Lo.pathname}}function Ln(t){var e=x(t)?Nn(t):t;return e.protocol===Bo.protocol&&e.host===Bo.host}function Bn(){this.$get=y(t)}function Fn(t){function e(t){try{return t.cookie||""}catch(t){return""}}function n(t){try{return decodeURIComponent(t)}catch(e){return t}}var r=t[0]||{},i={},o="";return function(){var t,a,s,u,c,l=e(r);if(l!==o)for(o=l,t=o.split("; "),i={},s=0;s<t.length;s++)a=t[s],(u=a.indexOf("="))>0&&(c=n(a.substring(0,u)),b(i[c])&&(i[c]=n(a.substring(u+1))));return i}}function qn(){this.$get=Fn}function Un(t){function e(r,i){if(w(r)){var a={};return o(r,function(t,n){a[n]=e(n,t)}),a}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Wn),e("date",ur),e("filter",Vn),e("json",cr),e("limitTo",lr),e("lowercase",Go),e("number",Kn),e("orderBy",hr),e("uppercase",Wo)}function Vn(){return function(t,n,r,o){if(!i(t)){if(null==t)return t;throw e("filter")("notarray","Expected array but received: {0}",t)}o=o||"$";var a,s,u=Gn(n);switch(u){case"function":a=n;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=zn(n,r,o,s);break;default:return t}return Array.prototype.filter.call(t,a)}}function zn(t,e,n,r){var i=w(t)&&n in t;return!0===e?e=z:S(e)||(e=function(t,e){return!b(t)&&(null===t||null===e?t===e:!(w(e)||w(t)&&!g(t))&&(t=Kr(""+t),e=Kr(""+e),-1!==t.indexOf(e)))}),function(o){return i&&!w(o)?Hn(o,t[n],e,n,!1):Hn(o,t,e,n,r)}}function Hn(t,e,n,r,i,o){var a=Gn(t),s=Gn(e);if("string"===s&&"!"===e.charAt(0))return!Hn(t,e.substring(1),n,r,i);if(fi(t))return t.some(function(t){return Hn(t,e,n,r,i)});switch(a){case"object":var u;if(i){for(u in t)if(u.charAt&&"$"!==u.charAt(0)&&Hn(t[u],e,n,r,!0))return!0;return!o&&Hn(t,e,n,r,!1)}if("object"===s){for(u in e){var c=e[u];if(!S(c)&&!b(c)){var l=u===r;if(!Hn(l?t:t[u],c,n,r,l,l))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Gn(t){return null===t?"null":typeof t}function Wn(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return b(n)&&(n=e.CURRENCY_SYM),b(r)&&(r=e.PATTERNS[1].maxFrac),null==t?t:Qn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Kn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Qn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Jn(t){var e,n,r,i,o,a=0;for((n=t.indexOf(qo))>-1&&(t=t.replace(qo,"")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charAt(r)===Uo;r++);if(r===(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)===Uo;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=+t.charAt(r)}return n>Fo&&(e=e.splice(0,Fo-1),a=n-1,n=1),{d:e,e:a,i:n}}function Yn(t,e,n,r){var i=t.d,o=i.length-t.i;e=b(e)?Math.min(Math.max(n,o),r):+e;var a=e+t.i,s=i[a];if(a>0){i.splice(Math.max(t.i,a));for(var u=a;u<i.length;u++)i[u]=0}else{o=Math.max(0,o),t.i=1,i.length=Math.max(1,a=e+1),i[0]=0;for(var c=1;c<a;c++)i[c]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)i.unshift(0),t.i++;i.unshift(1),t.i++}else i[a-1]++;for(;o<Math.max(0,e);o++)i.push(0);var f=i.reduceRight(function(t,e,n,r){return e+=t,r[n]=e%10,Math.floor(e/10)},0);f&&(i.unshift(f),t.i++)}function Qn(t,e,n,r,i){if(!x(t)&&!E(t)||isNaN(t))return"";var o,a=!isFinite(t),s=!1,u=Math.abs(t)+"",c="";if(a)c="";else{o=Jn(u),Yn(o,i,e.minFrac,e.maxFrac);var l=o.d,f=o.i,h=o.e,p=[];for(s=l.reduce(function(t,e){return t&&!e},!0);f<0;)l.unshift(0),f++;f>0?p=l.splice(f,l.length):(p=l,l=[0]);var d=[];for(l.length>=e.lgSize&&d.unshift(l.splice(-e.lgSize,l.length).join(""));l.length>e.gSize;)d.unshift(l.splice(-e.gSize,l.length).join(""));l.length&&d.unshift(l.join("")),c=d.join(n),p.length&&(c+=r+p.join("")),h&&(c+="e+"+h)}return t<0&&!s?e.negPre+c+e.negSuf:e.posPre+c+e.posSuf}function Xn(t,e,n,r){var i="";for((t<0||r&&t<=0)&&(r?t=1-t:(t=-t,i="-")),t=""+t;t.length<e;)t=Uo+t;return n&&(t=t.substr(t.length-e)),i+t}function Zn(t,e,n,r,i){return n=n||0,function(o){var a=o["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),Xn(a,e,r,i)}}function tr(t,e,n){return function(r,i){var o=r["get"+t]();return i[Jr((n?"STANDALONE":"")+(e?"SHORT":"")+t)][o]}}function er(t,e,n){var r=-1*n,i=r>=0?"+":"";return i+=Xn(Math[r>0?"floor":"ceil"](r/60),2)+Xn(Math.abs(r%60),2)}function nr(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function rr(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function ir(t){return function(e){var n=nr(e.getFullYear()),r=rr(e),i=+r-+n;return Xn(1+Math.round(i/6048e5),t)}}function or(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function ar(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function sr(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function ur(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,a=e[8]?r.setUTCFullYear:r.setFullYear,s=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=p(e[9]+e[10]),o=p(e[9]+e[11])),a.call(r,p(e[1]),p(e[2])-1,p(e[3]));var u=p(e[4]||0)-i,c=p(e[5]||0)-o,l=p(e[6]||0),f=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(r,u,c,l,f),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,u="",c=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,x(n)&&(n=Ho.test(n)?p(n):e(n)),E(n)&&(n=new Date(n)),!k(n)||!isFinite(n.getTime()))return n;for(;r;)s=zo.exec(r),s?(c=H(c,s,1),r=c.pop()):(c.push(r),r=null);var l=n.getTimezoneOffset();return i&&(l=Q(i,l),n=Z(n,i,!0)),o(c,function(e){a=Vo[e],u+=a?a(n,t.DATETIME_FORMATS,l):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function cr(){return function(t,e){return b(e)&&(e=2),J(t,e)}}function lr(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):p(e),li(e)?t:(E(t)&&(t=t.toString()),i(t)?(n=!n||isNaN(n)?0:p(n),n=n<0?Math.max(0,t.length+n):n,e>=0?fr(t,n,n+e):0===n?fr(t,e,t.length):fr(t,Math.max(0,n+e),n)):t)}}function fr(t,e,n){return x(t)?t.slice(e,n):ni.call(t,e,n)}function hr(t){function n(e){return e.map(function(e){var n=1,r=m;if(S(e))r=e;else if(x(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(r=t(e),r.constant))){var i=r();r=function(t){return t[i]}}return{get:r,descending:n}})}function r(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function o(t){return S(t.valueOf)&&(t=t.valueOf(),r(t))?t:(g(t)&&(t=t.toString(),r(t)),t)}function a(t,e){var n=typeof t;return null===t?(n="string",t="null"):"object"===n&&(t=o(t)),{value:t,type:n,index:e}}function s(t,e){var n=0,r=t.type,i=e.type;if(r===i){var o=t.value,a=e.value;"string"===r?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===r&&(w(o)&&(o=t.index),w(a)&&(a=e.index)),o!==a&&(n=o<a?-1:1)}else n=r<i?-1:1;return n}return function(t,r,o,u){function c(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:f.map(function(n){return a(n.get(t),e)})}}function l(t,e){for(var n=0,r=f.length;n<r;n++){var i=p(t.predicateValues[n],e.predicateValues[n]);if(i)return i*f[n].descending*h}return p(t.tieBreaker,e.tieBreaker)*h}if(null==t)return t;if(!i(t))throw e("orderBy")("notarray","Expected array but received: {0}",t);fi(r)||(r=[r]),0===r.length&&(r=["+"]);var f=n(r),h=o?-1:1,p=S(u)?u:s,d=Array.prototype.map.call(t,c);return d.sort(l),t=d.map(function(t){return t.value})}}function pr(t){return S(t)&&(t={link:t}),t.restrict=t.restrict||"AC",y(t)}function dr(t,e){t.$name=e}function vr(t,e,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(e.name||e.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Yo,this.$$element=t,this.$$animate=r,mr(this)}function mr(t){t.$$classCache={},t.$$classCache[Ma]=!(t.$$classCache[Pa]=t.$$element.hasClass(Pa))}function yr(t){function e(t,e,n,r){t[e]||(t[e]={}),a(t[e],n,r)}function n(t,e,n,r){t[e]&&s(t[e],n,r),gr(t[e])&&(t[e]=void 0)}function r(t,e,n){n&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!n&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function i(t,e,n){e=e?"-"+ft(e,"-"):"",r(t,Pa+e,!0===n),r(t,Ma+e,!1===n)}var o=t.clazz,a=t.set,s=t.unset;o.prototype.$setValidity=function(t,o,u){b(o)?e(this,"$pending",t,u):n(this,"$pending",t,u),M(o)?o?(s(this.$error,t,u),a(this.$$success,t,u)):(a(this.$error,t,u),s(this.$$success,t,u)):(s(this.$error,t,u),s(this.$$success,t,u)),this.$pending?(r(this,Qo,!0),this.$valid=this.$invalid=void 0,i(this,"",null)):(r(this,Qo,!1),this.$valid=gr(this.$error),this.$invalid=!this.$valid,i(this,"",this.$valid));var c;c=this.$pending&&this.$pending[t]?void 0:!this.$error[t]&&(!!this.$$success[t]||null),i(this,t,c),this.$$parentForm.$setValidity(t,c,this)}}function gr(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function br(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function _r(t,e,n,r,i,o){wr(t,e,n,r,i,o),br(r)}function wr(t,e,n,r,i,o){var a=Kr(e[0].type);if(!i.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,c()})}var u,c=function(t){if(u&&(o.defer.cancel(u),u=null),!s){var i=e.val(),c=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=pi(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,c)}};if(i.hasEvent("input"))e.on("input",c);else{var l=function(t,e,n){u||(u=o.defer(function(){u=null,e&&e.value===n||c(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||l(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut",l)}e.on("change",c),fa[a]&&r.$$hasNativeValidators&&a===n.type&&e.on(la,function(t){if(!u){var e=this[Hr],n=e.badInput,r=e.typeMismatch;u=o.defer(function(){u=null,e.badInput===n&&e.typeMismatch===r||c(t)})}}),r.$render=function(){var t=r.$isEmpty(r.$viewValue)?"":r.$viewValue;e.val()!==t&&e.val(t)}}function $r(t,e){if(k(t))return t;if(x(t)){sa.lastIndex=0;var n=sa.exec(t);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,u=0,c=nr(r),l=7*(i-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds()),new Date(r,0,c.getDate()+l,o,a,s,u)}}return NaN}function xr(t,e){return function(n,r){var i,a;if(k(n))return n;if(x(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ea.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function Er(t,e,n,r){return function(i,o,a,s,u,c,l){function f(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function h(t){return _(t)&&!k(t)?n(t)||void 0:t}kr(i,o,a,s),wr(i,o,a,s,u,c);var p,d=s&&s.$options.getOption("timezone");if(s.$$parserName=t,s.$parsers.push(function(t){if(s.$isEmpty(t))return null;if(e.test(t)){var r=n(t,p);return d&&(r=Z(r,d)),r}}),s.$formatters.push(function(t){if(t&&!k(t))throw Ia("datefmt","Expected `{0}` to be a date",t);return f(t)?(p=t,p&&d&&(p=Z(p,d,!0)),l("date")(t,r,d)):(p=null,"")}),_(a.min)||a.ngMin){var v;s.$validators.min=function(t){return!f(t)||b(v)||n(t)>=v},a.$observe("min",function(t){v=h(t),s.$validate()})}if(_(a.max)||a.ngMax){var m;s.$validators.max=function(t){return!f(t)||b(m)||n(t)<=m},a.$observe("max",function(t){m=h(t),s.$validate()})}}}function kr(t,e,n,r){var i=e[0];(r.$$hasNativeValidators=w(i.validity))&&r.$parsers.push(function(t){var n=e.prop(Hr)||{};return n.badInput||n.typeMismatch?void 0:t})}function Sr(t){t.$$parserName="number",t.$parsers.push(function(e){return t.$isEmpty(e)?null:ia.test(e)?parseFloat(e):void 0}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!E(e))throw Ia("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function Or(t){return _(t)&&!E(t)&&(t=parseFloat(t)),li(t)?void 0:t}function Ar(t){return(0|t)===t}function jr(t){var e=t.toString(),n=e.indexOf(".");if(-1===n){if(-1<t&&t<1){var r=/e-(\d+)$/.exec(e);if(r)return Number(r[1])}return 0}return e.length-n-1}function Cr(t,e,n){var r=Number(t),i=!Ar(r),o=!Ar(e),a=!Ar(n);if(i||o||a){var s=i?jr(r):0,u=o?jr(e):0,c=a?jr(n):0,l=Math.max(s,u,c),f=Math.pow(10,l);r*=f,e*=f,n*=f,i&&(r=Math.round(r)),o&&(e=Math.round(e)),a&&(n=Math.round(n))}return(r-e)%n==0}function Tr(t,e,n,r,i,o){kr(t,e,n,r),Sr(r),wr(t,e,n,r,i,o);var a,s;if((_(n.min)||n.ngMin)&&(r.$validators.min=function(t){return r.$isEmpty(t)||b(a)||t>=a},n.$observe("min",function(t){a=Or(t),r.$validate()})),(_(n.max)||n.ngMax)&&(r.$validators.max=function(t){return r.$isEmpty(t)||b(s)||t<=s},n.$observe("max",function(t){s=Or(t),r.$validate()})),_(n.step)||n.ngStep){var u;r.$validators.step=function(t,e){return r.$isEmpty(e)||b(u)||Cr(e,a||0,u)},n.$observe("step",function(t){u=Or(t),r.$validate()})}}function Pr(t,e,n,r,i,o){function a(t,r){e.attr(t,n[t]),n.$observe(t,r)}function s(t){if(f=Or(t),!li(r.$modelValue))if(l){var n=e.val();f>n&&(n=f,e.val(n)),r.$setViewValue(n)}else r.$validate()}function u(t){if(h=Or(t),!li(r.$modelValue))if(l){var n=e.val();h<n&&(e.val(h),n=h<f?f:h),r.$setViewValue(n)}else r.$validate()}function c(t){p=Or(t),li(r.$modelValue)||(l&&r.$viewValue!==e.val()?r.$setViewValue(e.val()):r.$validate())}kr(t,e,n,r),Sr(r),wr(t,e,n,r,i,o);var l=r.$$hasNativeValidators&&"range"===e[0].type,f=l?0:void 0,h=l?100:void 0,p=l?1:void 0,d=e[0].validity,v=_(n.min),m=_(n.max),y=_(n.step),g=r.$render;r.$render=l&&_(d.rangeUnderflow)&&_(d.rangeOverflow)?function(){g(),r.$setViewValue(e.val())}:g,v&&(r.$validators.min=l?function(){return!0}:function(t,e){return r.$isEmpty(e)||b(f)||e>=f},a("min",s)),m&&(r.$validators.max=l?function(){return!0}:function(t,e){return r.$isEmpty(e)||b(h)||e<=h},a("max",u)),y&&(r.$validators.step=l?function(){return!d.stepMismatch}:function(t,e){return r.$isEmpty(e)||b(p)||Cr(e,f||0,p)},a("step",c))}function Mr(t,e,n,r,i,o){wr(t,e,n,r,i,o),br(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||na.test(n)}}function Dr(t,e,n,r,i,o){wr(t,e,n,r,i,o),br(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||ra.test(n)}}function Rr(t,e,n,r){var i=!n.ngTrim||"false"!==pi(n.ngTrim);b(n.name)&&e.attr("name",u());var o=function(t){var o;e[0].checked&&(o=n.value,i&&(o=pi(o)),r.$setViewValue(o,t&&t.type))};e.on("click",o),r.$render=function(){var t=n.value;i&&(t=pi(t)),e[0].checked=t===r.$viewValue},n.$observe("value",r.$render)}function Ir(t,e,n,r,i){var o;if(_(r)){if(o=t(r),!o.constant)throw Ia("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(e)}return i}function Nr(t,e,n,r,i,o,a,s){var u=Ir(s,t,"ngTrueValue",n.ngTrueValue,!0),c=Ir(s,t,"ngFalseValue",n.ngFalseValue,!1),l=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("click",l),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return!1===t},r.$formatters.push(function(t){return z(t,u)}),r.$parsers.push(function(t){return t?u:c})}function Lr(t,e){function n(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i===e[o])continue t;n.push(i)}return n}function r(t){return t&&t.split(" ")}function i(t){var e=t;return fi(t)?e=t.map(i).join(" "):w(t)&&(e=Object.keys(t).filter(function(e){return t[e]}).join(" ")),e}t="ngClass"+t;var a;return["$parse",function(s){return{restrict:"AC",link:function(u,c,l){function f(t){t=d(r(t),1),l.$addClass(t)}function h(t){t=d(r(t),-1),l.$removeClass(t)}function p(t,e){var i=r(t),o=r(e),a=n(i,o),s=n(o,i),u=d(a,-1),c=d(s,1);l.$addClass(c),l.$removeClass(u)}function d(t,e){var n=[];return o(t,function(t){(e>0||g[t])&&(g[t]=(g[t]||0)+e,g[t]===+(e>0)&&n.push(t))}),n.join(" ")}function v(t){t===e?f(y):h(y),b=t}function m(t){x(t)||(t=i(t)),b===e&&p(y,t),y=t}var y,g=c.data("$classCounts"),b=!0;g||(g=yt(),c.data("$classCounts",g)),"ngClass"!==t&&(a||(a=s("$index",function(t){return 1&t})),u.$watch(a,v)),u.$watch(s(l[t],i),m)}}}]}function Br(t,e,n,r,i,o,a,s,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(n.name||"",!1)(t),this.$$parentForm=Yo,this.$options=Na,this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:t}),this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=a,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=e,mr(this),Fr(this)}function Fr(t){t.$$scope.$watch(function(e){var n=t.$$ngModelGet(e);if(n!==t.$modelValue&&(t.$modelValue===t.$modelValue||n===n)){t.$modelValue=t.$$rawModelValue=n,t.$$parserValid=void 0;for(var r=t.$formatters,i=r.length,o=n;i--;)o=r[i](o);t.$viewValue!==o&&(t.$$updateEmptyClasses(o),t.$viewValue=t.$$lastCommittedViewValue=o,t.$render(),t.$$runValidators(t.$modelValue,t.$viewValue,v))}return n})}function qr(t){this.$$options=t}function Ur(t,e){o(e,function(e,n){_(t[n])||(t[n]=e)})}function Vr(t,e){t.prop("selected",e),t.attr("selected",e)}var zr=/^\/(.+)\/([a-z]*)$/,Hr="validity",Gr=Object.prototype.hasOwnProperty,Wr={objectMaxDepth:5},Kr=function(t){return x(t)?t.toLowerCase():t},Jr=function(t){return x(t)?t.toUpperCase():t},Yr=function(t){return x(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Qr=function(t){return x(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(Kr=Yr,Jr=Qr);var Xr,Zr,ti,ei,ni=[].slice,ri=[].splice,ii=[].push,oi=Object.prototype.toString,ai=Object.getPrototypeOf,si=e("ng"),ui=t.angular||(t.angular={}),ci=0;Xr=t.document.documentMode;var li=Number.isNaN||function(t){return t!==t};v.$inject=[],m.$inject=[];var fi=Array.isArray,hi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,pi=function(t){return x(t)?t.trim():t},di=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},vi=function(){if(!_(vi.rules)){var e=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");vi.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else vi.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(t){return!0}}(),noInlineStyle:!1}}return vi.rules},mi=function(){if(_(mi.name_))return mi.name_;var e,n,r,i,o=gi.length;for(n=0;n<o;++n)if(r=gi[n],e=t.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return mi.name_=i},yi=/:/g,gi=["ng-","data-ng-","ng:","x-ng-"],bi=function(e){var n=e.currentScript;if(!n)return!0;if(!(n instanceof t.HTMLScriptElement||n instanceof t.SVGScriptElement))return!1;var r=n.attributes;return[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")].every(function(t){if(!t)return!0;if(!t.value)return!1;var n=e.createElement("a");if(n.href=t.value,e.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(t.document),_i=/[A-Z]/g,wi=!1,$i=1,xi=3,Ei=8,ki=9,Si=11,Oi={full:"1.6.4",major:1,minor:6,dot:4,codeName:"phenomenal-footnote"};Mt.expando="ng339";var Ai=Mt.cache={},ji=1;Mt._data=function(t){return this.cache[t[this.expando]]||{}};var Ci=/-([a-z])/g,Ti=/^-ms-/,Pi={mouseleave:"mouseout",mouseenter:"mouseover"},Mi=e("jqLite"),Di=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ri=/<|&#?\w+;/,Ii=/<([\w:-]+)/,Ni=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Li={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Li.optgroup=Li.option,Li.tbody=Li.tfoot=Li.colgroup=Li.caption=Li.thead,Li.th=Li.td;var Bi=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},Fi=Mt.prototype={ready:Jt,toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Zr(t>=0?this[t]:this[this.length+t])},length:0,push:ii,sort:[].sort,splice:[].splice},qi={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){qi[Kr(t)]=t});var Ui={};o("input,select,option,textarea,button,form,details".split(","),function(t){Ui[t]=!0});var Vi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};o({data:Bt,removeData:Nt,hasData:jt,cleanData:function(t){for(var e=0,n=t.length;e<n;e++)Nt(t[e])}},function(t,e){Mt[e]=t}),o({data:Bt,inheritedData:Ht,scope:function(t){return Zr.data(t,"$scope")||Ht(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Zr.data(t,"$isolateScope")||Zr.data(t,"$isolateScopeNoTemplate")},controller:zt,injector:function(t){return Ht(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Ft,css:function(t,e,n){if(e=Et(e),!_(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){var r,i=t.nodeType;if(i!==xi&&2!==i&&i!==Ei&&t.getAttribute){var o=Kr(e),a=qi[o];if(!_(n))return r=t.getAttribute(e),a&&null!==r&&(r=o),null===r?void 0:r;null===n||!1===n&&a?t.removeAttribute(e):t.setAttribute(e,a?o:n)}},prop:function(t,e,n){if(!_(n))return t[e];t[e]=n},text:function(){function t(t,e){if(b(e)){var n=t.nodeType;return n===$i||n===xi?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(b(e)){if(t.multiple&&"select"===B(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),n}return t.value}t.value=e},html:function(t,e){if(b(e))return t.innerHTML;Rt(t,!0),t.innerHTML=e},empty:Gt},function(t,e){Mt.prototype[e]=function(e,n){var r,i,o=this.length;if(t!==Gt&&b(2===t.length&&t!==Ft&&t!==zt?e:n)){if(w(e)){for(r=0;r<o;r++)if(t===Bt)t(this[r],e);else for(i in e)t(this[r],i,e[i]);return this}for(var a=t.$dv,s=b(a)?Math.min(o,1):o,u=0;u<s;u++){var c=t(this[u],e,n);a=a?a+c:c}return a}for(r=0;r<o;r++)t(this[r],e,n);return this}}),o({removeData:Nt,on:function(t,e,n,r){if(_(r))throw Mi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(At(t)){var i=Lt(t,!0),o=i.events,a=i.handle;a||(a=i.handle=Xt(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],u=s.length,c=function(e,r,i){var s=o[e];s||(s=o[e]=[],s.specialHandlerWrapper=r,"$destroy"===e||i||t.addEventListener(e,a)),s.push(n)};u--;)e=s[u],Pi[e]?(c(Pi[e],te),c(e,void 0,!0)):c(e)}},off:It,one:function(t,e,n){t=Zr(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;Rt(t),o(new Mt(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===$i&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===$i||n===Si){e=new Mt(e);for(var r=0,i=e.length;r<i;r++){var o=e[r];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===$i){var n=t.firstChild;o(new Mt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){Pt(t,Zr(e).eq(0).clone()[0])},remove:Wt,detach:function(t){Wt(t,!0)},after:function(t,e){var n=t,r=t.parentNode;if(r){e=new Mt(e);for(var i=0,o=e.length;i<o;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}}},addClass:Ut,removeClass:qt,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var r=n;b(r)&&(r=!Ft(t,e)),(r?Ut:qt)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Si?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Dt,triggerHandler:function(t,e,n){var r,i,a,s=e.type||e,u=Lt(t),c=u&&u.events,l=c&&c[s];l&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:v,type:s,target:t},e.type&&(r=f(r,e)),i=_t(l),a=n?[r].concat(n):[r],o(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){Mt.prototype[e]=function(e,n,r){for(var i,o=0,a=this.length;o<a;o++)b(i)?(i=t(this[o],e,n,r),_(i)&&(i=Zr(i))):Vt(i,t(this[o],e,n,r));return _(i)?i:this}}),Mt.prototype.bind=Mt.prototype.on,Mt.prototype.unbind=Mt.prototype.off;var zi=Object.create(null);re.prototype={_idx:function(t){return t===this._lastKey?this._lastIndex:(this._lastKey=t,this._lastIndex=this._keys.indexOf(t),this._lastIndex)},_transformKey:function(t){return li(t)?zi:t},get:function(t){t=this._transformKey(t);var e=this._idx(t);if(-1!==e)return this._values[e]},set:function(t,e){t=this._transformKey(t);var n=this._idx(t);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=t,this._values[n]=e},delete:function(t){t=this._transformKey(t);var e=this._idx(t);return-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Hi=re,Gi=[function(){this.$get=[function(){return Hi}]}],Wi=/^([^(]+?)=>/,Ki=/^[^(]*\(\s*([^)]*)\)/m,Ji=/,/,Yi=/^\s*(_?)(\S+?)\1\s*$/,Qi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Xi=e("$injector");ue.$$annotate=se;var Zi=e("$animate"),to=1,eo=function(){this.$get=v},no=function(){var t=new Hi,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(t,e,n){var r=!1;return e&&(e=x(e)?e.split(" "):fi(e)?e:[],o(e,function(e){e&&(r=!0,t[e]=n)})),r}function a(){o(e,function(e){var n=t.get(e);if(n){var r=he(e.attr("class")),i="",a="";o(n,function(t,e){t!==!!r[e]&&(t?i+=(i.length?" ":"")+e:a+=(a.length?" ":"")+e)}),o(e,function(t){i&&Ut(t,i),a&&qt(t,a)}),t.delete(e)}}),e.length=0}function s(n,o,s){var u=t.get(n)||{},c=i(u,o,!0),l=i(u,s,!1);(c||l)&&(t.set(n,u),e.push(n),1===e.length&&r.$$postDigest(a))}return{enabled:v,on:v,off:v,pin:v,push:function(t,e,r,i){i&&i(),r=r||{},r.from&&t.css(r.from),r.to&&t.css(r.to),(r.addClass||r.removeClass)&&s(t,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},ro=["$provide",function(t){var e=this,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Zi("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";e.$$registeredAnimations[n.substr(1)]=i,t.factory(i,r)},this.classNameFilter=function(t){if(1===arguments.length&&(n=t instanceof RegExp?t:null)){if(new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]").test(n.toString()))throw n=null,Zi("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate")}return n},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var r=fe(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,r,i,o){return r=r&&Zr(r),i=i&&Zr(i),r=r||i.parent(),e(n,r,i),t.push(n,"enter",pe(o))},move:function(n,r,i,o){return r=r&&Zr(r),i=i&&Zr(i),r=r||i.parent(),e(n,r,i),t.push(n,"move",pe(o))},leave:function(e,n){return t.push(e,"leave",pe(n),function(){e.remove()})},addClass:function(e,n,r){return r=pe(r),r.addClass=le(r.addclass,n),t.push(e,"addClass",r)},removeClass:function(e,n,r){return r=pe(r),r.removeClass=le(r.removeClass,n),t.push(e,"removeClass",r)},setClass:function(e,n,r,i){return i=pe(i),i.addClass=le(i.addClass,n),i.removeClass=le(i.removeClass,r),t.push(e,"setClass",i)},animate:function(e,n,r,i,o){return o=pe(o),o.from=o.from?f(o.from,n):n,o.to=o.to?f(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=le(o.tempClasses,i),t.push(e,"animate",o)}}}]}],io=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},oo=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,r,i){function a(t){this.setHost(t);var e=n(),o=function(t){i(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){r()?o(t):e(t)},this._state=0}return a.chain=function(t,e){function n(){if(r===t.length)return void e(!0);t[r](function(t){if(!1===t)return void e(!1);r++,n()})}var r=0;n()},a.all=function(t,e){function n(n){i=i&&n,++r===t.length&&e(i)}var r=0,i=!0;o(t,function(t){t.done(n)})},a.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:v,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){!1===e?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(t){2!==this._state&&(o(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},a}]},ao=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,r){function i(){return t(function(){o(),s||u.complete(),s=!0}),u}function o(){a.addClass&&(e.addClass(a.addClass),a.addClass=null),a.removeClass&&(e.removeClass(a.removeClass),a.removeClass=null),a.to&&(e.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=U(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(e.css(a.from),a.from=null);var s,u=new n;return{start:i,end:i}}}]},so=e("$compile"),uo=new ge;be.$inject=["$provide","$$sanitizeUriProvider"],_e.prototype.isFirstChange=function(){return this.previousValue===uo};var co=/^((?:x|data)[:\-_])/i,lo=/[:\-_]+(.)/g,fo=e("$controller"),ho=/^(\S+)(\s+as\s+([\w$]+))?$/,po=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof Zr&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},vo="application/json",mo={"Content-Type":vo+";charset=utf-8"},yo=/^\[|^\{(?!\{)/,go={"[":/]$/,"{":/}$/},bo=/^\)]\}',?\n/,_o=e("$http"),wo=ui.$interpolateMinErr=e("$interpolate");wo.throwNoconcat=function(t){throw wo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},wo.interr=function(t,e){return wo("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var $o=function(){this.$get=function(){function t(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}var e=ui.callbacks,n={};return{createCallback:function(r){var i="_"+(e.$$counter++).toString(36),o="angular.callbacks."+i,a=t(i);return n[o]=e[i]=a,o},wasCalled:function(t){return n[t].called},getResponse:function(t){return n[t].data},removeCallback:function(t){var r=n[t];delete e[r.id],delete n[t]}}}},xo=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Eo={http:80,https:443,ftp:21},ko=e("$location"),So=/^\s*[\\\/]{2,}/,Oo={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:nn("$$absUrl"),url:function(t){if(b(t))return this.$$url;var e=xo.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:nn("$$protocol"),host:nn("$$host"),port:nn("$$port"),path:rn("$$path",function(t){return t=null!==t?t.toString():"","/"===t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(x(t)||E(t))t=t.toString(),this.$$search=nt(t);else{if(!w(t))throw ko("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=U(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:b(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:rn("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([en,tn,Ze],function(t){t.prototype=Object.create(Oo),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Ze||!this.$$html5)throw ko("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=b(e)?null:e,this.$$urlUpdatedByLocation=!0,this}});var Ao=e("$parse"),jo={}.constructor.prototype.valueOf,Co=yt();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Co[t]=!0});var To={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Po=function(t){this.options=t};Po.prototype={constructor:Po,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=Co[e],o=Co[n],a=Co[r];if(i||o||a){var s=a?r:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||""===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),r=e.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=_(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw Ao("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Kr(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=To[o]||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Mo=function(t,e){this.lexer=t,this.options=e};Mo.Program="Program",Mo.ExpressionStatement="ExpressionStatement",Mo.AssignmentExpression="AssignmentExpression",Mo.ConditionalExpression="ConditionalExpression",Mo.LogicalExpression="LogicalExpression",Mo.BinaryExpression="BinaryExpression",Mo.UnaryExpression="UnaryExpression",Mo.CallExpression="CallExpression",Mo.MemberExpression="MemberExpression",Mo.Identifier="Identifier",Mo.Literal="Literal",Mo.ArrayExpression="ArrayExpression",Mo.Property="Property",Mo.ObjectExpression="ObjectExpression",Mo.ThisExpression="ThisExpression",Mo.LocalsExpression="LocalsExpression",Mo.NGValueParameter="NGValueParameter",Mo.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Mo.Program,body:t}},expressionStatement:function(){return{type:Mo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!pn(t))throw Ao("lval","Trying to assign a value to a non l-value");t={type:Mo.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Mo.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Mo.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Mo.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Mo.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Mo.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Mo.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Mo.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Mo.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=U(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Mo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:Mo.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Mo.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Mo.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Mo.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.filterChain())}while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Mo.Identifier,name:t.text}},constant:function(){return{type:Mo.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Mo.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Mo.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Mo.ObjectExpression,properties:e}},throwError:function(t,e){throw Ao("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw Ao("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw Ao("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===r||a===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:Mo.ThisExpression},$locals:{type:Mo.LocalsExpression}}},yn.prototype={compile:function(t){var e=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},fn(t,e.$filter);var n,r="";if(this.stage="assign",n=dn(t)){this.state.computing="assign";var i=this.nextId();this.recurse(n,i),this.return_(i),r="fn.assign="+this.generateFunction("assign","s,v,l")}var a=hn(t.body);e.stage="inputs",o(a,function(t,n){var r="fn"+n;e.state[r]={vars:[],body:[],own:{}},e.state.computing=r;var i=e.nextId();e.recurse(t,i),e.return_(i),e.state.inputs.push(r),t.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(t);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",u=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,sn,un,cn);return this.state=this.stage=void 0,u},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,r){t.push(n+"=$filter("+e.escape(r)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,r,i,a){var s,u,c,l,f,h=this;if(r=r||v,!a&&_(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,r,i,!0));switch(t.type){case Mo.Program:o(t.body,function(e,n){h.recurse(e.expression,void 0,void 0,function(t){u=t}),n!==t.body.length-1?h.current().body.push(u,";"):h.return_(u)});break;case Mo.Literal:l=this.escape(t.value),this.assign(e,l),r(e||l);break;case Mo.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){u=t}),l=t.operator+"("+this.ifDefined(u,0)+")",this.assign(e,l),r(l);break;case Mo.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){s=t}),this.recurse(t.right,void 0,void 0,function(t){u=t}),l="+"===t.operator?this.plus(s,u):"-"===t.operator?this.ifDefined(s,0)+t.operator+this.ifDefined(u,0):"("+s+")"+t.operator+"("+u+")",this.assign(e,l),r(l);break;case Mo.LogicalExpression:e=e||this.nextId(),h.recurse(t.left,e),h.if_("&&"===t.operator?e:h.not(e),h.lazyRecurse(t.right,e)),r(e);break;case Mo.ConditionalExpression:e=e||this.nextId(),h.recurse(t.test,e),h.if_(e,h.lazyRecurse(t.alternate,e),h.lazyRecurse(t.consequent,e)),r(e);break;case Mo.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",t.name)),function(){h.if_("inputs"===h.stage||"s",function(){i&&1!==i&&h.if_(h.isNull(h.nonComputedMember("s",t.name)),h.lazyAssign(h.nonComputedMember("s",t.name),"{}")),h.assign(e,h.nonComputedMember("s",t.name))})},e&&h.lazyAssign(e,h.nonComputedMember("l",t.name))),r(e);break;case Mo.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),h.recurse(t.object,s,void 0,function(){h.if_(h.notNull(s),function(){t.computed?(u=h.nextId(),h.recurse(t.property,u),h.getStringValue(u),i&&1!==i&&h.if_(h.not(h.computedMember(s,u)),h.lazyAssign(h.computedMember(s,u),"{}")),l=h.computedMember(s,u),h.assign(e,l),n&&(n.computed=!0,n.name=u)):(i&&1!==i&&h.if_(h.isNull(h.nonComputedMember(s,t.property.name)),h.lazyAssign(h.nonComputedMember(s,t.property.name),"{}")),l=h.nonComputedMember(s,t.property.name),h.assign(e,l),n&&(n.computed=!1,n.name=t.property.name))},function(){h.assign(e,"undefined")}),r(e)},!!i);break;case Mo.CallExpression:e=e||this.nextId(),t.filter?(u=h.filter(t.callee.name),c=[],o(t.arguments,function(t){var e=h.nextId();h.recurse(t,e),c.push(e)}),l=u+"("+c.join(",")+")",h.assign(e,l),r(e)):(u=h.nextId(),s={},c=[],h.recurse(t.callee,u,s,function(){h.if_(h.notNull(u),function(){o(t.arguments,function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,function(t){c.push(t)})}),l=s.name?h.member(s.context,s.name,s.computed)+"("+c.join(",")+")":u+"("+c.join(",")+")",h.assign(e,l)},function(){h.assign(e,"undefined")}),r(e)}));break;case Mo.AssignmentExpression:u=this.nextId(),s={},this.recurse(t.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(t.right,u),l=h.member(s.context,s.name,s.computed)+t.operator+u,h.assign(e,l),r(e||l)})},1);break;case Mo.ArrayExpression:c=[],o(t.elements,function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,function(t){c.push(t)})}),l="["+c.join(",")+"]",this.assign(e,l),r(e||l);break;case Mo.ObjectExpression:c=[],f=!1,o(t.properties,function(t){t.computed&&(f=!0)}),f?(e=e||this.nextId(),this.assign(e,"{}"),o(t.properties,function(t){t.computed?(s=h.nextId(),h.recurse(t.key,s)):s=t.key.type===Mo.Identifier?t.key.name:""+t.key.value,u=h.nextId(),h.recurse(t.value,u),h.assign(h.member(e,s,t.computed),u)})):(o(t.properties,function(e){h.recurse(e.value,t.constant?void 0:h.nextId(),void 0,function(t){c.push(h.escape(e.key.type===Mo.Identifier?e.key.name:""+e.key.value)+":"+t)})}),l="{"+c.join(",")+"}",this.assign(e,l)),r(e||l);break;case Mo.ThisExpression:this.assign(e,"s"),r(e||"s");break;case Mo.LocalsExpression:this.assign(e,"l"),r(e||"l");break;case Mo.NGValueParameter:this.assign(e,"v"),r(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,r=/[^$_a-zA-Z0-9]/g;return n.test(e)?t+"."+e:t+'["'+e.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,r,i,o){var a=this;return function(){a.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(x(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(E(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw Ao("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},gn.prototype={compile:function(t){var e=this;fn(t,e.$filter);var n,r;(n=dn(t))&&(r=this.recurse(n));var i,a=hn(t.body);a&&(i=[],o(a,function(t,n){var r=e.recurse(t);t.input=r,i.push(r),t.watchId=n}));var s=[];o(t.body,function(t){s.push(e.recurse(t.expression))});var u=0===t.body.length?v:1===t.body.length?s[0]:function(t,e){var n;return o(s,function(r){n=r(t,e)}),n};return r&&(u.assign=function(t,e,n){return r(t,n,e)}),i&&(u.inputs=i),u},recurse:function(t,e,n){var r,i,a,s=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Mo.Literal:return this.value(t.value,e);case Mo.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case Mo.BinaryExpression:case Mo.LogicalExpression:return r=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](r,i,e);case Mo.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Mo.Identifier:return s.identifier(t.name,e,n);case Mo.MemberExpression:return r=this.recurse(t.object,!1,!!n),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(r,i,e,n):this.nonComputedMember(r,i,e,n);case Mo.CallExpression:return a=[],o(t.arguments,function(t){a.push(s.recurse(t))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(t,n,r,o){for(var s=[],u=0;u<a.length;++u)s.push(a[u](t,n,r,o));var c=i.apply(void 0,s,o);return e?{context:void 0,name:void 0,value:c}:c}:function(t,n,r,o){var s,u=i(t,n,r,o);if(null!=u.value){for(var c=[],l=0;l<a.length;++l)c.push(a[l](t,n,r,o));s=u.value.apply(u.context,c)}return e?{value:s}:s};case Mo.AssignmentExpression:return r=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(t,n,o,a){var s=r(t,n,o,a),u=i(t,n,o,a);return s.context[s.name]=u,e?{value:u}:u};case Mo.ArrayExpression:return a=[],o(t.elements,function(t){a.push(s.recurse(t))}),function(t,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,r,i));return e?{value:o}:o};case Mo.ObjectExpression:return a=[],o(t.properties,function(t){t.computed?a.push({key:s.recurse(t.key),computed:!0,value:s.recurse(t.value)}):a.push({key:t.key.type===Mo.Identifier?t.key.name:""+t.key.value,computed:!1,value:s.recurse(t.value)})}),function(t,n,r,i){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(t,n,r,i)]=a[s].value(t,n,r,i):o[a[s].key]=a[s].value(t,n,r,i);return e?{value:o}:o};case Mo.ThisExpression:return function(t){return e?{value:t}:t};case Mo.LocalsExpression:return function(t,n){return e?{value:n}:n};case Mo.NGValueParameter:return function(t,n,r){return e?{value:r}:r}}},"unary+":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=_(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=_(a)?-a:-0,e?{value:a}:a}},"unary!":function(t,e){return function(n,r,i,o){var a=!t(n,r,i,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),u=e(r,i,o,a),c=cn(s,u);return n?{value:c}:c}},"binary-":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),u=e(r,i,o,a),c=(_(s)?s:0)-(_(u)?u:0);return n?{value:c}:c}},"binary*":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)*e(r,i,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)/e(r,i,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)%e(r,i,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)===e(r,i,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!==e(r,i,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)==e(r,i,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!=e(r,i,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<e(r,i,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>e(r,i,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<=e(r,i,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>=e(r,i,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)&&e(r,i,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)||e(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,r){return function(i,o,a,s){var u=t(i,o,a,s)?e(i,o,a,s):n(i,o,a,s);return r?{value:u}:u}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n){return function(r,i,o,a){var s=i&&t in i?i:r;n&&1!==n&&s&&null==s[t]&&(s[t]={});var u=s?s[t]:void 0;return e?{context:s,name:t,value:u}:u}},computedMember:function(t,e,n,r){return function(i,o,a,s){var u,c,l=t(i,o,a,s);return null!=l&&(u=e(i,o,a,s),u=sn(u),r&&1!==r&&l&&!l[u]&&(l[u]={}),c=l[u]),n?{context:l,name:u,value:c}:c}},nonComputedMember:function(t,e,n,r){return function(i,o,a,s){var u=t(i,o,a,s);r&&1!==r&&u&&null==u[e]&&(u[e]={});var c=null!=u?u[e]:void 0;return n?{context:u,name:e,value:c}:c}},inputs:function(t,e){return function(n,r,i,o){return o?o[e]:t(n,r,i)}}},bn.prototype={constructor:bn,parse:function(t){var e=this.ast.ast(t),n=this.astCompiler.compile(e);return n.literal=vn(e),n.constant=mn(e),n}};var Do=e("$sce"),Ro={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Io=/_([a-z])/g,No=e("$compile"),Lo=t.document.createElement("a"),Bo=Nn(t.location.href);Fn.$inject=["$document"],Un.$inject=["$provide"];var Fo=22,qo=".",Uo="0";Wn.$inject=["$locale"],Kn.$inject=["$locale"];var Vo={yyyy:Zn("FullYear",4,0,!1,!0),yy:Zn("FullYear",2,0,!0,!0),y:Zn("FullYear",1,0,!1,!0),MMMM:tr("Month"),MMM:tr("Month",!0),MM:Zn("Month",2,1),M:Zn("Month",1,1),LLLL:tr("Month",!1,!0),dd:Zn("Date",2),d:Zn("Date",1),HH:Zn("Hours",2),H:Zn("Hours",1),hh:Zn("Hours",2,-12),h:Zn("Hours",1,-12),mm:Zn("Minutes",2),m:Zn("Minutes",1),ss:Zn("Seconds",2),s:Zn("Seconds",1),sss:Zn("Milliseconds",3),EEEE:tr("Day"),EEE:tr("Day",!0),a:or,Z:er,ww:ir(2),w:ir(1),G:ar,GG:ar,GGG:ar,GGGG:sr},zo=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Ho=/^-?\d+$/;ur.$inject=["$locale"];var Go=y(Kr),Wo=y(Jr);hr.$inject=["$parse"];var Ko=y({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===oi.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Jo={};o(qi,function(t,e){function n(t,n,i){t.$watch(i[r],function(t){i.$set(e,!!t)})}if("multiple"!==t){var r=we("ng-"+e),i=n;"checked"===t&&(i=function(t,e,i){i.ngModel!==i[r]&&n(t,e,i)}),Jo[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(Vi,function(t,e){Jo[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"===r.ngPattern.charAt(0)){var i=r.ngPattern.match(zr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=we("ng-"+t);Jo[e]=function(){return{priority:99,link:function(n,r,i){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===oi.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(e,function(e){if(!e)return void("href"===t&&i.$set(a,null));i.$set(a,e),Xr&&o&&r.prop(o,i[a])})}}}});var Yo={$addControl:v,$$renameControl:dr,$removeControl:v,$setValidity:v,$setDirty:v,$setPristine:v,$setSubmitted:v},Qo="ng-pending";vr.$inject=["$element","$attrs","$scope","$animate","$interpolate"],vr.prototype={$rollbackViewValue:function(){o(this.$$controls,function(t){t.$rollbackViewValue()})},$commitViewValue:function(){o(this.$$controls,function(t){t.$commitViewValue()})},$addControl:function(t){dt(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$$renameControl:function(t,e){var n=t.$name;this[n]===t&&delete this[n],this[e]=t,t.$name=e},$removeControl:function(t){t.$name&&this[t.$name]===t&&delete this[t.$name],o(this.$pending,function(e,n){this.$setValidity(n,null,t)},this),o(this.$error,function(e,n){this.$setValidity(n,null,t)},this),o(this.$$success,function(e,n){this.$setValidity(n,null,t)},this),q(this.$$controls,t),t.$$parentForm=Yo},$setDirty:function(){this.$$animate.removeClass(this.$$element,Da),this.$$animate.addClass(this.$$element,Ra),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Da,Ra+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,o(this.$$controls,function(t){t.$setPristine()})},$setUntouched:function(){o(this.$$controls,function(t){t.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},yr({clazz:vr,set:function(t,e,n){var r=t[e];if(r){-1===r.indexOf(n)&&r.push(n)}else t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(q(r,n),0===r.length&&delete t[e])}});var Xo=function(t){return["$timeout","$parse",function(e,n){function r(t){return""===t?n('this[""]').assign:n(t).assign||v}return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:vr,compile:function(n,i){n.addClass(Da).addClass(Pa);var o=i.name?"name":!(!t||!i.ngForm)&&"ngForm";return{pre:function(t,n,i,a){var s=a[0];if(!("action"in i)){var u=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};n[0].addEventListener("submit",u),n.on("$destroy",function(){e(function(){n[0].removeEventListener("submit",u)},0,!1)})}(a[1]||s.$$parentForm).$addControl(s);var c=o?r(s.$name):v;o&&(c(t,s),i.$observe(o,function(e){s.$name!==e&&(c(t,void 0),s.$$parentForm.$$renameControl(s,e),(c=r(s.$name))(t,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),c(t,void 0),f(s,Yo)})}}}}}]},Zo=Xo(),ta=Xo(!0),ea=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,na=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,ra=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ia=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,oa=/^(\d{4,})-(\d{2})-(\d{2})$/,aa=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,sa=/^(\d{4,})-W(\d\d)$/,ua=/^(\d{4,})-(\d\d)$/,ca=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,la="keydown wheel mousedown",fa=yt();o("date,datetime-local,month,time,week".split(","),function(t){fa[t]=!0});var ha={text:_r,date:Er("date",oa,xr(oa,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Er("datetimelocal",aa,xr(aa,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Er("time",ca,xr(ca,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Er("week",sa,$r,"yyyy-Www"),month:Er("month",ua,xr(ua,["yyyy","MM"]),"yyyy-MM"),number:Tr,url:Mr,email:Dr,radio:Rr,range:Pr,checkbox:Nr,hidden:v,button:v,submit:v,reset:v,file:v},pa=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(ha[Kr(a.type)]||ha.text)(i,o,a,s[0],e,t,n,r)}}}}],da=/^(true|false|\d+)$/,va=function(){function t(t,e,n){var r=_(n)?n:9===Xr?"":null;t.prop("value",r),e.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,n){return da.test(n.ngValue)?function(e,n,r){t(n,r,e.$eval(r.ngValue))}:function(e,n,r){e.$watch(r.ngValue,function(e){t(n,r,e)})}}}},ma=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,r){t.$$addBindingInfo(n,r.ngBind),n=n[0],e.$watch(r.ngBind,function(t){n.textContent=gt(t)})}}}}],ya=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,r,i){var o=t(r.attr(i.$attr.ngBindTemplate));e.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(t){r.textContent=b(t)?"":t})}}}}],ga=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(a,function(){var n=o(e);r.html(t.getTrustedHtml(n)||"")})}}}}],ba=y({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),_a=Lr("",!0),wa=Lr("Odd",0),$a=Lr("Even",1),xa=pr({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),Ea=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ka={},Sa={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=we("ng-"+t);ka[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[e]);return function(e,n){n.on(t,function(n){var i=function(){a(e,{$event:n})};Sa[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var Oa=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,c;n.$watch(i.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=e.$$createComment("end ngIf",i.ngIf),s={clone:n},t.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),s&&(c=mt(s.clone),t.leave(c).done(function(t){!1!==t&&(c=null)}),s=null))})}}}],Aa=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ui.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,u,c,l){var f,h,p,d=0,v=function(){h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),p&&(n.leave(p).done(function(t){!1!==t&&(h=null)}),h=p,p=null)};r.$watch(o,function(o){var u=function(t){!1===t||!_(s)||s&&!r.$eval(s)||e()},h=++d;o?(t(o,!0).then(function(t){if(!r.$$destroyed&&h===d){var e=r.$new();c.template=t;var s=l(e,function(t){v(),n.enter(t,null,i).done(u)});f=e,p=s,f.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||h===d&&(v(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(v(),c.template=null)})}}}}],ja=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){if(oi.call(r[0]).match(/SVG/))return r.empty(),void e(Ct(o.template,t.document).childNodes)(n,function(t){r.append(t)},{futureParentElement:r});r.html(o.template),e(r.contents())(n)}}}],Ca=pr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Ta=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,r){var i=n.ngList||", ",a="false"!==n.ngTrim,s=a?pi(i):i,u=function(t){if(!b(t)){var e=[];return t&&o(t.split(s),function(t){t&&e.push(a?pi(t):t)}),e}};r.$parsers.push(u),r.$formatters.push(function(t){if(fi(t))return t.join(i)}),r.$isEmpty=function(t){return!t||!t.length}}}},Pa="ng-valid",Ma="ng-invalid",Da="ng-pristine",Ra="ng-dirty",Ia=e("ngModel");Br.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Br.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var n=this.$$parsedNgModel(e);return S(n)&&(n=t(e)),n},this.$$ngModelSet=function(t,n){S(this.$$parsedNgModel(t))?e(t,{$$$p:n}):this.$$parsedNgModelAssign(t,n)}}else if(!this.$$parsedNgModel.assign)throw Ia("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,tt(this.$$element))},$render:v,$isEmpty:function(t){return b(t)||""===t||null===t||t!==t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Ra),this.$$animate.addClass(this.$$element,Da)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Da),this.$$animate.addClass(this.$$element,Ra),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!li(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(e,t,function(t){i||n===t||(o.$modelValue=t?e:void 0,o.$modelValue!==r&&o.$$writeModelToScope())})}},$$runValidators:function(t,e,n){function r(t,e){a===s.$$currentValidationRunId&&s.$setValidity(t,e)}function i(t){a===s.$$currentValidationRunId&&n(t)}this.$$currentValidationRunId++;var a=this.$$currentValidationRunId,s=this;return function(){var t=s.$$parserName||"parse";return b(s.$$parserValid)?(r(t,null),!0):(s.$$parserValid||(o(s.$validators,function(t,e){r(e,null)}),o(s.$asyncValidators,function(t,e){r(e,null)})),r(t,s.$$parserValid),s.$$parserValid)}()&&function(){var n=!0;return o(s.$validators,function(i,o){var a=Boolean(i(t,e));n=n&&a,r(o,a)}),!!n||(o(s.$asyncValidators,function(t,e){r(e,null)}),!1)}()?void function(){var n=[],a=!0;o(s.$asyncValidators,function(i,o){var s=i(t,e);if(!D(s))throw Ia("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);r(o,void 0),n.push(s.then(function(){r(o,!0)},function(){a=!1,r(o,!1)}))}),n.length?s.$$q.all(n).then(function(){i(a)},v):i(!0)}():void i(!1)},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function t(){r.$modelValue!==o&&r.$$writeModelToScope()}var e=this.$$lastCommittedViewValue,n=e,r=this;if(this.$$parserValid=!b(n)||void 0,this.$$parserValid)for(var i=0;i<this.$parsers.length;i++)if(n=this.$parsers[i](n),b(n)){this.$$parserValid=!1;break}li(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var o=this.$modelValue,a=this.$options.getOption("allowInvalid");this.$$rawModelValue=n,a&&(this.$modelValue=n,t()),this.$$runValidators(n,this.$$lastCommittedViewValue,function(e){a||(r.$modelValue=e?n:void 0,t())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),o(this.$viewChangeListeners,function(t){try{t()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");E(e[t])?e=e[t]:E(e.default)&&(e=e.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;e>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},e):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t)}},yr({clazz:Br,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var Na,La=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Br,priority:1,compile:function(e){return e.addClass(Da).addClass("ng-untouched").addClass(Pa),{pre:function(t,e,n,r){var i=r[0],o=r[1]||i.$$parentForm,a=r[2];a&&(i.$options=a.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&i.$$parentForm.$$renameControl(i,t)}),t.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(e,n,r,i){function o(){a.$setTouched()}var a=i[0];a.$options.getOption("updateOn")&&n.on(a.$options.getOption("updateOn"),function(t){a.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){a.$touched||(t.$$phase?e.$evalAsync(o):e.$apply(o))})}}}}}],Ba=/(\s+|^)default(\s+|$)/;qr.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=!1;return t=f({},t),o(t,function(n,r){"$inherit"===n?"*"===r?e=!0:(t[r]=this.$$options[r],"updateOn"===r&&(t.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(t.updateOnDefault=!1,t[r]=pi(n.replace(Ba,function(){return t.updateOnDefault=!0," "})))},this),e&&(delete t["*"],Ur(t,this.$$options)),Ur(t,Na.$$options),new qr(t)}},Na=new qr({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Fa=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:Na,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}},qa=pr({terminal:!0,priority:1e3}),Ua=e("ngOptions"),Va=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,za=["$compile","$document","$parse",function(e,n,r){function a(t,e,n){function o(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}function a(t){var e;if(!c&&i(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var s=t.match(Va);if(!s)throw Ua("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,tt(e));var u=s[5]||s[7],c=s[6],l=/ as /.test(s[0])&&s[1],f=s[9],h=r(s[2]?s[1]:u),p=l&&r(l),d=p||h,v=f&&r(f),m=f?function(t,e){return v(n,e)}:function(t){return ne(t)},y=function(t,e){return m(t,x(t,e))},g=r(s[2]||s[1]),b=r(s[3]||""),_=r(s[4]||""),w=r(s[8]),$={},x=c?function(t,e){return $[c]=e,$[u]=t,$}:function(t){return $[u]=t,$};return{trackBy:f,getTrackByValue:y,getWatchables:r(w,function(t){var e=[];t=t||[];for(var r=a(t),i=r.length,o=0;o<i;o++){var u=t===r?o:r[o],c=t[u],l=x(c,u),f=m(c,l);if(e.push(f),s[2]||s[1]){var h=g(n,l);e.push(h)}if(s[4]){var p=_(n,l);e.push(p)}}return e}),getOptions:function(){for(var t=[],e={},r=w(n)||[],i=a(r),s=i.length,u=0;u<s;u++){var c=r===i?u:i[u],l=r[c],h=x(l,c),p=d(n,h),v=m(p,h),$=g(n,h),E=b(n,h),k=_(n,h),S=new o(v,p,$,E,k);t.push(S),e[v]=S}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[y(t)]},getViewValueFromOption:function(t){return f?U(t.viewValue):t.viewValue}}}}}function s(t,r,i,s){function l(t,e){var n=u.cloneNode(!1);e.appendChild(n),h(t,n)}function f(t){var e=$.getOptionFromViewValue(t),n=e&&e.element;return n&&!n.selected&&(n.selected=!0),e}function h(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}function p(){var t=$&&d.readValue();if($)for(var e=$.items.length-1;e>=0;e--){var n=$.items[e];Wt(_(n.group)?n.element.parentNode:n.element)}$=x.getOptions();var i={};if(w&&r.prepend(d.emptyOption),$.items.forEach(function(t){var e;_(t.group)?(e=i[t.group],e||(e=c.cloneNode(!1),E.appendChild(e),e.label=null===t.group?"null":t.group,i[t.group]=e),l(t,e)):l(t,E)}),r[0].appendChild(E),v.$render(),!v.$isEmpty(t)){var o=d.readValue();(x.trackBy||m?z(t,o):t===o)||(v.$setViewValue(o),v.$render())}}for(var d=s[0],v=s[1],m=i.multiple,y=0,g=r.children(),b=g.length;y<b;y++)if(""===g[y].value){d.hasEmptyOption=!0,d.emptyOption=g.eq(y);break}var w=!!d.emptyOption;Zr(u.cloneNode(!1)).val("?");var $,x=a(i.ngOptions,r,t),E=n[0].createDocumentFragment();d.generateUnknownOptionValue=function(t){return"?"},m?(d.writeValue=function(t){var e=t&&t.map(f)||[];$.items.forEach(function(t){t.element.selected&&!F(e,t)&&(t.element.selected=!1)})},d.readValue=function(){var t=r.val()||[],e=[];return o(t,function(t){var n=$.selectValueMap[t];n&&!n.disabled&&e.push($.getViewValueFromOption(n))}),e},x.trackBy&&t.$watchCollection(function(){if(fi(v.$viewValue))return v.$viewValue.map(function(t){return x.getTrackByValue(t)})},function(){v.$render()})):(d.writeValue=function(t){var e=$.selectValueMap[r.val()],n=$.getOptionFromViewValue(t);e&&e.element.removeAttribute("selected"),n?(r[0].value!==n.selectValue&&(d.removeUnknownOption(),d.unselectEmptyOption(),r[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):w?d.selectEmptyOption():d.unknownOption.parent().length?d.updateUnknownOption(t):d.renderUnknownOption(t)},d.readValue=function(){var t=$.selectValueMap[r.val()];return t&&!t.disabled?(d.unselectEmptyOption(),d.removeUnknownOption(),$.getViewValueFromOption(t)):null},x.trackBy&&t.$watch(function(){return x.getTrackByValue(v.$viewValue)},function(){v.$render()})),w&&(d.emptyOption.remove(),e(d.emptyOption)(t),d.emptyOption[0].nodeType===Ei?(d.hasEmptyOption=!1,d.registerOption=function(t,e){""===e.val()&&(d.hasEmptyOption=!0,d.emptyOption=e,d.emptyOption.removeClass("ng-scope"),v.$render(),e.on("$destroy",function(){d.hasEmptyOption=!1,d.emptyOption=void 0}))}):d.emptyOption.removeClass("ng-scope")),r.empty(),p(),t.$watchCollection(x.getWatchables,p)}var u=t.document.createElement("option"),c=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,r){r[0].registerOption=v},post:s}}}],Ha=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,u){function c(t){s.text(t||"")}var l,f=u.count,h=u.$attr.when&&s.attr(u.$attr.when),p=u.offset||0,d=a.$eval(h)||{},m={},y=e.startSymbol(),g=e.endSymbol(),_=y+f+"-"+p+g,w=ui.noop;o(u,function(t,e){var n=i.exec(e);if(n){var r=(n[1]?"-":"")+Kr(n[2]);d[r]=s.attr(u.$attr[e])}}),o(d,function(t,n){m[n]=e(t.replace(r,_))}),a.$watch(f,function(e){var r=parseFloat(e),i=li(r);if(i||r in d||(r=t.pluralCat(r-p)),!(r===l||i&&li(l))){w();var o=m[r];b(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+h),w=v,c()):w=a.$watch(o,c),l=r}})}}}],Ga=["$parse","$animate","$compile",function(t,n,r){var a=e("ngRepeat"),s=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))},u=function(t){return t.clone[0]},c=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,l){var f=l.ngRepeat,h=r.$$createComment("end ngRepeat",f),p=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var d=p[1],v=p[2],m=p[3],y=p[4];if(!(p=d.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw a("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",d);var g=p[3]||p[1],b=p[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw a("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",m);var _,w,$,x,E={$id:ne};return y?_=t(y):($=function(t,e){return ne(e)},x=function(t){return t}),function(t,e,r,l,p){_&&(w=function(e,n,r){return b&&(E[b]=e),E[g]=n,E.$index=r,_(t,E)});var d=yt();t.$watchCollection(v,function(r){var l,v,y,_,E,k,S,O,A,j,C,T,P=e[0],M=yt();if(m&&(t[m]=r),i(r))A=r,O=w||$;else{O=w||x,A=[];for(var D in r)Gr.call(r,D)&&"$"!==D.charAt(0)&&A.push(D)}for(_=A.length,C=new Array(_),l=0;l<_;l++)if(E=r===A?l:A[l],k=r[E],S=O(E,k,l),d[S])j=d[S],delete d[S],M[S]=j,C[l]=j;else{if(M[S])throw o(C,function(t){t&&t.scope&&(d[t.id]=t)}),a("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,S,k);C[l]={id:S,scope:void 0,clone:void 0},M[S]=!0}for(var R in d){if(j=d[R],T=mt(j.clone),n.leave(T),T[0].parentNode)for(l=0,v=T.length;l<v;l++)T[l].$$NG_REMOVED=!0;j.scope.$destroy()}for(l=0;l<_;l++)if(E=r===A?l:A[l],k=r[E],j=C[l],j.scope){y=P;do{y=y.nextSibling}while(y&&y.$$NG_REMOVED);u(j)!==y&&n.move(mt(j.clone),null,P),P=c(j),s(j.scope,l,g,k,b,E,_)}else p(function(t,e){j.scope=e;var r=h.cloneNode(!1);t[t.length++]=r,n.enter(t,null,P),P=r,j.clone=t,M[j.id]=j,s(j.scope,l,g,k,b,E,_)});d=M})}}}}],Wa=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Ka=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Ja=pr(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),Ya=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,u=[],c=[],l=[],f=[],h=function(t,e){return function(n){!1!==n&&t.splice(e,1)}};n.$watch(s,function(n){for(var r,i;l.length;)t.cancel(l.pop());for(r=0,i=f.length;r<i;++r){var s=mt(c[r].clone);f[r].$destroy();(l[r]=t.leave(s)).done(h(l,r))}c.length=0,f.length=0,(u=a.cases["!"+n]||a.cases["?"])&&o(u,function(n){n.transclude(function(r,i){f.push(i);var o=n.element;r[r.length++]=e.$$createComment("end ngSwitchWhen");var a={clone:r};c.push(a),t.enter(r,o.parent(),o)})})})}}}],Qa=pr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){o(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t}),function(t){r.cases["!"+t]=r.cases["!"+t]||[],r.cases["!"+t].push({transclude:i,element:e})})}}),Xa=pr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),Za=e("ngTransclude"),ts=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,r,i,o){function a(t,n){t.length&&u(t)?e.append(t):(s(),n.$destroy())}function s(){n(t,function(t){e.append(t)})}function u(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];if(r.nodeType!==xi||r.nodeValue.trim())return!0}}if(!o)throw Za("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",tt(e));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var c=r.ngTransclude||r.ngTranscludeSlot;o(a,null,c),c&&!o.isSlotFilled(c)&&s()}}}}],es=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"===n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],ns={$setViewValue:v,$render:v},rs=["$element","$scope",function(e,n){function r(){s||(s=!0,n.$$postDigest(function(){s=!1,o.ngModelCtrl.$render()}))}function i(t){u||(u=!0,n.$$postDigest(function(){n.$$destroyed||(u=!1,o.ngModelCtrl.$setViewValue(o.readValue()),t&&o.ngModelCtrl.$render())}))}var o=this,a=new Hi;o.selectValueMap={},o.ngModelCtrl=ns,o.multiple=!1,o.unknownOption=Zr(t.document.createElement("option")),o.hasEmptyOption=!1,o.emptyOption=void 0,o.renderUnknownOption=function(t){var n=o.generateUnknownOptionValue(t);o.unknownOption.val(n),e.prepend(o.unknownOption),Vr(o.unknownOption,!0),e.val(n)},o.updateUnknownOption=function(t){var n=o.generateUnknownOptionValue(t);o.unknownOption.val(n),Vr(o.unknownOption,!0),e.val(n)},o.generateUnknownOptionValue=function(t){return"? "+ne(t)+" ?"},o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.selectEmptyOption=function(){o.emptyOption&&(e.val(""),Vr(o.emptyOption,!0))},o.unselectEmptyOption=function(){o.hasEmptyOption&&o.emptyOption.removeAttr("selected")},n.$on("$destroy",function(){o.renderUnknownOption=v}),o.readValue=function(){var t=e.val(),n=t in o.selectValueMap?o.selectValueMap[t]:t;return o.hasOption(n)?n:null},o.writeValue=function(t){var n=e[0].options[e[0].selectedIndex];if(n&&Vr(Zr(n),!1),o.hasOption(t)){o.removeUnknownOption();var r=ne(t);e.val(r in o.selectValueMap?r:t);var i=e[0].options[e[0].selectedIndex];Vr(Zr(i),!0)}else null==t&&o.emptyOption?(o.removeUnknownOption(),o.selectEmptyOption()):o.unknownOption.parent().length?o.updateUnknownOption(t):o.renderUnknownOption(t)},o.addOption=function(t,e){if(e[0].nodeType!==Ei){dt(t,'"option value"'),""===t&&(o.hasEmptyOption=!0,o.emptyOption=e);var n=a.get(t)||0;a.set(t,n+1),r()}},o.removeOption=function(t){var e=a.get(t);e&&(1===e?(a.delete(t),""===t&&(o.hasEmptyOption=!1,o.emptyOption=void 0)):a.set(t,e-1))},o.hasOption=function(t){return!!a.get(t)};var s=!1,u=!1;o.registerOption=function(t,e,n,a,s){if(n.$attr.ngValue){var u,c=NaN;n.$observe("value",function(t){var n,r=e.prop("selected");_(c)&&(o.removeOption(u),delete o.selectValueMap[c],n=!0),c=ne(t),u=t,o.selectValueMap[c]=t,o.addOption(t,e),e.attr("value",c),n&&r&&i()})}else a?n.$observe("value",function(t){o.readValue();var n,r=e.prop("selected");_(u)&&(o.removeOption(u),n=!0),u=t,o.addOption(t,e),n&&r&&i()}):s?t.$watch(s,function(t,r){n.$set("value",t);var a=e.prop("selected");r!==t&&o.removeOption(r),o.addOption(t,e),r&&a&&i()}):o.addOption(n.value,e);n.$observe("disabled",function(t){("true"===t||t&&e.prop("selected"))&&(o.multiple?i(!0):(o.ngModelCtrl.$setViewValue(null),o.ngModelCtrl.$render()))}),e.on("$destroy",function(){var t=o.readValue(),e=n.value;o.removeOption(e),r(),(o.multiple&&t&&-1!==t.indexOf(e)||t===e)&&i(!0)})}}],is=function(){function t(t,e,n,r){var i=r[0],a=r[1];if(!a)return void(i.registerOption=v);if(i.ngModelCtrl=a,e.on("change",function(){i.removeUnknownOption(),t.$apply(function(){a.$setViewValue(i.readValue())})}),n.multiple){i.multiple=!0,i.readValue=function(){var t=[];return o(e.find("option"),function(e){if(e.selected&&!e.disabled){var n=e.value;t.push(n in i.selectValueMap?i.selectValueMap[n]:n)}}),t},i.writeValue=function(t){o(e.find("option"),function(e){var n=!!t&&(F(t,e.value)||F(t,i.selectValueMap[e.value]));n!==e.selected&&Vr(Zr(e),n)})};var s,u=NaN;t.$watch(function(){u!==a.$viewValue||z(s,a.$viewValue)||(s=_t(a.$viewValue),a.$render()),u=a.$viewValue}),a.$isEmpty=function(t){return!t||0===t.length}}}function e(t,e,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:rs,priority:1,link:{pre:t,post:e}}},os=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){var r,i;return _(n.ngValue)||(_(n.value)?r=t(n.value,!0):(i=t(e.text(),!0))||n.$set("value",e.text())),function(t,e,n){var o=e.parent(),a=o.data("$selectController")||o.parent().data("$selectController");a&&a.registerOption(t,e,n,r,i)}}}}],as=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},ss=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,r,i){if(i){var o,a=r.ngPattern||r.pattern;r.$observe("pattern",function(t){if(x(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw e("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,tt(n));o=t||void 0,i.$validate()}),i.$validators.pattern=function(t,e){return i.$isEmpty(e)||b(o)||o.test(e)}}}}},us=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){var e=p(t);i=li(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(t,e){return i<0||r.$isEmpty(e)||e.length<=i}}}}},cs=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=p(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};if(t.angular.bootstrap)return void(t.console&&console.log("WARNING: Tried to load angular more than once."));!function(){var e;if(!wi){var n=mi();ti=b(n)?t.jQuery:n?t[n]:void 0,ti&&ti.fn.on?(Zr=ti,f(ti.fn,{scope:Fi.scope,isolateScope:Fi.isolateScope,controller:Fi.controller,injector:Fi.injector,inheritedData:Fi.inheritedData}),e=ti.cleanData,ti.cleanData=function(t){for(var n,r,i=0;null!=(r=t[i]);i++)(n=ti._data(r,"events"))&&n.$destroy&&ti(r).triggerHandler("$destroy");e(t)}):Zr=Mt,ui.element=Zr,wi=!0}}(),function(r){f(r,{errorHandlingConfig:n,bootstrap:ut,copy:U,extend:f,merge:h,equals:z,element:Zr,forEach:o,injector:ue,noop:v,bind:W,toJson:J,fromJson:Y,identity:m,isUndefined:b,isDefined:_,isString:x,isFunction:S,isObject:w,isNumber:E,isElement:N,isArray:fi,version:Oi,isDate:k,lowercase:Kr,uppercase:Jr,callbacks:{$$counter:0},getTestability:lt,reloadWithDebugInfo:ct,$$minErr:e,$$csp:vi,$$encodeUriSegment:it,$$encodeUriQuery:ot,$$stringify:gt}),ei=bt(t),ei("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:On}),t.provider("$compile",be).directive({a:Ko,input:pa,textarea:pa,form:Zo,script:es,select:is,option:os,ngBind:ma,ngBindHtml:ga,ngBindTemplate:ya,ngClass:_a,ngClassEven:$a,ngClassOdd:wa,ngCloak:xa,ngController:Ea,ngForm:ta,ngHide:Ka,ngIf:Oa,ngInclude:Aa,ngInit:Ca,ngNonBindable:qa,ngPluralize:Ha,ngRepeat:Ga,ngShow:Wa,ngStyle:Ja,ngSwitch:Ya,ngSwitchWhen:Qa,ngSwitchDefault:Xa,ngOptions:za,ngTransclude:ts,ngModel:La,ngList:Ta,ngChange:ba,pattern:ss,ngPattern:ss,required:as,ngRequired:as,minlength:cs,ngMinlength:cs,maxlength:us,ngMaxlength:us,ngValue:va,ngModelOptions:Fa}).directive({ngInclude:ja}).directive(Jo).directive(ka),t.provider({$anchorScroll:ce,$animate:ro,$animateCss:ao,$$animateJs:eo,$$animateQueue:no,$$AnimateRunner:oo,$$animateAsyncRun:io,$browser:ve,$cacheFactory:me,$controller:ke,$document:Se,$$isDocumentHidden:Oe,$exceptionHandler:Ae,$filter:Un,$$forceReflow:po,$interpolate:Ue,$interval:Ve,$http:Le,$httpParamSerializer:Ce,$httpParamSerializerJQLike:Te,$httpBackend:Fe,$xhrFactory:Be,$jsonpCallbacks:$o,$location:on,$log:an,$parse:wn,$rootScope:Sn,$q:$n,$$q:xn,$sce:Pn,$sceDelegate:Tn,$sniffer:Mn,$templateCache:ye,$templateRequest:Dn,$$testability:Rn,$timeout:In,$window:Bn,$$rAF:kn,$$jqLite:ee,$$Map:Gi,$$cookieReader:qn})}]).info({angularVersion:"1.6.4"})}(ui),ui.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return-1==e?0:t.length-e-1}function n(t,n){var r=n;void 0===r&&(r=Math.min(e(t),3));var i=Math.pow(10,r);return{v:r,f:(t*i|0)%i}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var i=0|t,o=n(t,e);return 1==i&&0==o.v?r.ONE:r.OTHER}})}]),Zr(function(){st(t.document,ut)})}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.CustomersFormCtrl=void 0;var o,a,s,u,c,l,f,h=n(54),p=r(h),d=n(6),v=r(d),m=n(69),y=r(m),g=n(5),b=r(g),_=n(12),w=r(_),$=n(1),x=r($),E=n(2),k=r(E),S=n(16),O=r(S),A=n(15),j=r(A),C=n(32),T=r(C),P=n(20),M=n(93),D=n(342),R=r(D);n(334);var I=n(31),N=r(I);e.CustomersFormCtrl=(o=(0,P.Component)({module:"webtrekk",selector:"customerForm",restrict:"E",replace:!0,controller:"CustomersFormCtrl",template:R.default}),a=(0,P.Controller)({module:"webtrekk",name:"CustomersFormCtrl",deps:["$location","$rootScope","CustomerService"],scope:{model:"@"}}),s=(0,P.Logging)((0,T.default)({loggerName:"CustomersFormLogger"},N.default)),u=(0,P.Evented)({selector:"label#save",type:"mouseup"}),c=(0,P.Evented)({selector:"label#cancel",type:"mouseup"}),o(l=a(l=s((f=function(t){function e(){var t;(0,x.default)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(0,O.default)(this,(t=e.__proto__||(0,w.default)(e)).call.apply(t,[this].concat(r)));return o.$scope.$on("change",o.handleEvent.bind(o)),o}return(0,j.default)(e,t),(0,k.default)(e,[{key:"handleEvent",value:function(t,e){var n=e.scope,r=e.triggerTokens;"CustomersFormCtrl"===n._name.fn&&"mouseup"===r.type&&this.log({level:"warn",msg:"Button Clicked, Handle Behaviour Propagation?"})}},{key:"saveAndReturn",value:function(){function t(){return e.apply(this,arguments)}var e=(0,b.default)(v.default.mark(function t(){var e,n=this;return v.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=(0,y.default)(this.$scope.model).map(function(t){var e=n.$scope.model[t].validate();return e||n.log({level:"error",msg:n.$scope.model[t].label+" cannot be "+n.$scope.model[t].content+" -- invalid"}),n.$scope.model[t].valid=e,e}).reduce(function(t,e){return t&&e}))){t.next=6;break}return t.next=4,this.CustomerService.upsertCustomer({customer_id:this.$scope.model.id.content,first_name:this.$scope.model.first_name.content,last_name:this.$scope.model.last_name.content,birthday:this.$scope.model.age.content.toString(),gender:this.$scope.model.gender.content,last_contact:this.$scope.model.last_contact.content.toString(),customer_lifetime_value:this.$scope.model.customer_lifetime_value.content});case 4:this.$location.url("/"),this.$rootScope.$apply();case 6:this._digest();case 7:case"end":return t.stop()}},t,this)}));return t}()},{key:"cancelByReturn",value:function(){this.$location.path("/"),this.$rootScope.$apply()}}]),e}(M.EventedController),i(f.prototype,"saveAndReturn",[u],(0,p.default)(f.prototype,"saveAndReturn"),f.prototype),i(f.prototype,"cancelByReturn",[c],(0,p.default)(f.prototype,"cancelByReturn"),f.prototype),l=f))||l)||l)||l)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.CustomersCtrl=void 0;var o,a,s,u,c,l,f,h,p=n(54),d=r(p),v=n(12),m=r(v),y=n(1),g=r(y),b=n(2),_=r(b),w=n(16),$=r(w),x=n(15),E=r(x),k=n(32),S=r(k),O=n(20),A=n(93),j=n(343),C=r(j);n(335);var T=n(31),P=r(T);e.CustomersCtrl=(o=(0,O.Component)({module:"webtrekk",selector:"customers",restrict:"E",replace:!1,controller:"CustomersCtrl",template:C.default}),a=(0,O.Controller)({module:"webtrekk",name:"CustomersCtrl",scope:{model:"@"}}),s=(0,O.Logging)((0,S.default)({loggerName:"CustomersLogger"},P.default)),u=(0,O.Evented)({selector:"tbody",type:"click",delegate:"tbody>tr"}),c=(0,O.Evented)({selector:"thead>tr>th:first-child",type:"click"}),l=(0,O.Evented)({selector:"thead>tr>th:nth-child(2)",type:"click"}),o(f=a(f=s((h=function(t){function e(){var t;(0,g.default)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(0,$.default)(this,(t=e.__proto__||(0,m.default)(e)).call.apply(t,[this].concat(r)));return o.$scope.$on("change",o.handleEvent.bind(o)),o.$scope.orderByFirstName="id",o.$scope.orderByLastName="last_name",o.$scope.orderByName="last_name",o._createTableHeaders(),o}return(0,E.default)(e,t),(0,_.default)(e,[{key:"_createTableHeaders",value:function(){this.$scope.tableHeaders={first_name:{name:"First Name",sorting:"DEFAULT"},last_name:{name:"Last Name",sorting:"ASC"},age:{name:"Age"},gender:{name:"Gender"}}}},{key:"handleEvent",value:function(t,e){this.log({level:"info",msg:"handlingEventBehaviourPropagation"}),"CustomersCtrl"===e.scope._name.fn&&"activate"===e.triggerFn&&(e.data=this.$scope.model.filter(function(t){return t.active})[0])}},{key:"activate",value:function(t,e){var n=e.currentTarget,r=n.getAttribute("data-index");this.$scope.model.forEach(function(t){t.active=t.id==r&&!t.active}),this._digest()}},{key:"sortByFirstName",value:function(){this.sortBy("last_name",!0),this.sortBy("first_name"),this.$scope.orderByName=this.$scope.tableHeaders.first_name.ordering,this._digest()}},{key:"sortByLastName",value:function(){this.sortBy("first_name",!0),this.sortBy("last_name"),this.$scope.orderByName=this.$scope.tableHeaders.last_name.ordering,this._digest()}},{key:"sortBy",value:function(t,e){var n=this,r=["DEFAULT","ASC","DESC"],i={first_name:["id","first_name","-first_name"],last_name:["id","last_name","-last_name"]},o=0;!e&&r.forEach(function(e,r){if(e===n.$scope.tableHeaders[t].sorting)return o=2===r?0:r+1,!1}),this.$scope.tableHeaders[t].sorting=r[o],this.$scope.tableHeaders[t].ordering=i[t][o]}}]),e}(A.EventedController),i(h.prototype,"activate",[u],(0,d.default)(h.prototype,"activate"),h.prototype),i(h.prototype,"sortByFirstName",[c],(0,d.default)(h.prototype,"sortByFirstName"),h.prototype),i(h.prototype,"sortByLastName",[l],(0,d.default)(h.prototype,"sortByLastName"),h.prototype),f=h))||f)||f)||f)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.NaviDataCtrl=void 0;var o,a,s,u,c,l,f,h=n(54),p=r(h),d=n(12),v=r(d),m=n(1),y=r(m),g=n(2),b=r(g),_=n(16),w=r(_),$=n(15),x=r($),E=n(32),k=r(E),S=n(20),O=n(93),A=n(344),j=r(A);n(336);var C=n(31),T=r(C);e.NaviDataCtrl=(o=(0,S.Component)({module:"webtrekk",selector:"naviData",restrict:"E",replace:!1,controller:"NaviDataCtrl",template:j.default}),a=(0,S.Controller)({module:"webtrekk",name:"NaviDataCtrl",scope:{model:"@"}}),s=(0,S.Logging)((0,k.default)({loggerName:"NaviDataLogger"},T.default)),u=(0,S.Evented)({selector:"thead>tr>th:first-child",type:"click"}),c=(0,S.Evented)({selector:"thead>tr>th:nth-child(2)",type:"click"}),o(l=a(l=s((f=function(t){function e(){var t;(0,y.default)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(0,w.default)(this,(t=e.__proto__||(0,v.default)(e)).call.apply(t,[this].concat(r)));return o.$scope.orderByPage="id",o.$scope.orderByTimestamp="timestamp",o.$scope.orderByActiveHeader="timestamp",o._createTableHeaders(),o}return(0,x.default)(e,t),(0,b.default)(e,[{key:"_createTableHeaders",value:function(){this.$scope.tableHeaders={page:{name:"Page",sorting:"DEFAULT"},timestamp:{name:"Timestamp",sorting:"ASC"}}}},{key:"sortByPage",value:function(){this.sortBy("timestamp",!0),this.sortBy("page"),this.$scope.orderByActiveHeader=this.$scope.tableHeaders.page.ordering,this._digest()}},{key:"sortByTimestamp",value:function(){this.sortBy("page",!0),this.sortBy("timestamp"),this.$scope.orderByActiveHeader=this.$scope.tableHeaders.timestamp.ordering,this._digest()}},{key:"sortBy",value:function(t,e){var n=this,r=["DEFAULT","ASC","DESC"],i={page:["id","pages","-pages"],timestamp:["id","timestamp","-timestamp"]},o=0;!e&&r.every(function(e,r){return e!==n.$scope.tableHeaders[t].sorting||(o=2===r?0:r+1,!1)}),this.$scope.tableHeaders[t].sorting=r[o],this.$scope.tableHeaders[t].ordering=i[t][o]}}]),e}(O.EventedController),i(f.prototype,"sortByPage",[u],(0,p.default)(f.prototype,"sortByPage"),f.prototype),i(f.prototype,"sortByTimestamp",[c],(0,p.default)(f.prototype,"sortByTimestamp"),f.prototype),l=f))||l)||l)||l)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(151),n(150),n(240);var r=n(252),i=["ngRoute","ngAnimate"],o=new r.Module("webtrekk",i);e.default=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.DetailsPageCtrl=void 0;var i,o,a,s=n(6),u=r(s),c=n(69),l=r(c),f=n(5),h=r(f),p=n(12),d=r(p),v=n(1),m=r(v),y=n(2),g=r(y),b=n(16),_=r(b),w=n(15),$=r(w),x=n(32),E=r(x);n(170);var k=n(52),S=n(20),O=n(31),A=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(O);e.DetailsPageCtrl=(i=(0,S.Controller)({module:"webtrekk",name:"DetailsPageCtrl",deps:["CustomerService","observedModel"]}),o=(0,S.Logging)((0,E.default)({loggerName:"DetailsPageLogger"},A)),i(a=o(a=function(t){function e(){var t;(0,m.default)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(0,_.default)(this,(t=e.__proto__||(0,d.default)(e)).call.apply(t,[this].concat(r)));return o.$scope.model={},o.initialize(),o}return(0,$.default)(e,t),(0,g.default)(e,[{key:"initialize",value:function(){function t(){return e.apply(this,arguments)}var e=(0,h.default)(u.default.mark(function t(){var e,n,r=this;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.observedModel&&1===this.observedModel.length&&this.observedModel.forEach(function(t){r.$scope.model={id:{label:"Customer ID",content:t.customer_id},first_name:{label:"First Name",content:t.first_name},last_name:{label:"Last Name",content:t.last_name},age:{label:"Birthday",content:new Date(t.birthday)},gender:{label:"Gender",content:t.gender},last_contact:{label:"Last Contact",content:new Date(t.last_contact)},customer_lifetime_value:{label:"Customer Lifetime Value",content:t.customer_lifetime_value}},r.$scope.heading="Edit Customer"}),void 0!==this.$scope.model.id){t.next=8;break}return t.next=4,this.CustomerService.fetchCustomers();case 4:e=t.sent,n=e[e.length-1].customer_id,this.$scope.model={id:{label:"Customer ID",content:(+n+1).toString()},first_name:{label:"First Name",content:""},last_name:{label:"Last Name",content:""},age:{label:"Birthday",content:new Date("1991-09-15")},gender:{label:"Gender",content:"m"},last_contact:{label:"Last Contact",content:new Date("2000-01-15")},customer_lifetime_value:{label:"Customer Lifetime Value",content:100.5}},this.$scope.heading="Add Customer";case 8:(0,l.default)(this.$scope.model).forEach(function(t){switch(t){case"first_name":case"last_name":case"gender":r.$scope.model[t].validate=function(){return"string"==typeof this.content&&this.content.length>0}.bind(r.$scope.model[t]);break;case"age":case"last_contact":r.$scope.model[t].validate=function(){return!0};break;case"customer_lifetime_value":r.$scope.model[t].validate=function(){return!isNaN(this.content)}.bind(r.$scope.model[t]);break;default:r.$scope.model[t].validate=function(){return!0}}}),this._digest();case 10:case"end":return t.stop()}},t,this)}));return t}()}]),e}(k.Controller))||a)||a)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.NavigationPageCtrl=void 0;var i,o,a,s=n(12),u=r(s),c=n(1),l=r(c),f=n(2),h=r(f),p=n(16),d=r(p),v=n(15),m=r(v),y=n(32),g=r(y);n(171);var b=n(52),_=n(20),w=n(31),$=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(w);e.NavigationPageCtrl=(i=(0,_.Controller)({module:"webtrekk",name:"NavigationPageCtrl",deps:["observedModel","$location"]}),o=(0,_.Logging)((0,g.default)({loggerName:"NavigationPageLogger"},$)),i(a=o(a=function(t){function e(){var t;(0,l.default)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(0,d.default)(this,(t=e.__proto__||(0,u.default)(e)).call.apply(t,[this].concat(r)));return o.log({level:"warn",msg:o.observedModel}),o.$scope.model=[].concat(o.observedModel),o}return(0,m.default)(e,t),(0,h.default)(e,[{key:"$goToOverview",value:function(){this.$location.url("/")}}]),e}(b.Controller))||a)||a)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewPageCtrl=void 0;var i,o,a,s=n(6),u=r(s),c=n(5),l=r(c),f=n(12),h=r(f),p=n(1),d=r(p),v=n(2),m=r(v),y=n(16),g=r(y),b=n(15),_=r(b),w=n(32),$=r(w);n(337);var x=n(52),E=n(20),k=n(31),S=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(k);e.OverviewPageCtrl=(i=(0,E.Controller)({module:"webtrekk",name:"OverviewPageCtrl",deps:["CustomerService","$location"]}),o=(0,E.Logging)((0,$.default)({loggerName:"OverviewPageLogger"},S)),i(a=o(a=function(t){function e(){var t;(0,d.default)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(0,g.default)(this,(t=e.__proto__||(0,h.default)(e)).call.apply(t,[this].concat(r)));return o.$scope.model=[],o.initialize(),o}return(0,_.default)(e,t),(0,m.default)(e,[{key:"initialize",value:function(){function t(){return e.apply(this,arguments)}var e=(0,l.default)(u.default.mark(function t(){var e,n=this;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.CustomerService.fetchCustomers();case 2:e=t.sent,e&&e.forEach(function(t){n.$scope.model.push({id:t.customer_id,first_name:t.first_name,last_name:t.last_name,age:n.transformBirthday(t.birthday),gender:t.gender,last_contact:t.last_contact,customer_lifetime_value:t.customer_lifetime_value})}),this._digest();case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"transformBirthday",value:function(t){return Math.floor(((new Date).getTime()-new Date(t).getTime())/1e3/3600/24/365.25)}},{key:"$selection",value:function(){return 0===this.$scope.model.filter(function(t){return t.active}).length}},{key:"_getActiveId",value:function(){return this.$scope.model.reduce(function(t,e){return e.active?t+ +e.id:t},0)}},{key:"$goToAddCustomer",value:function(){this.$location.path("/add")}},{key:"$goToEditCustomer",value:function(){var t=this._getActiveId();this.$location.path("/detail/"+t)}},{key:"$goToNaviData",value:function(){var t=this._getActiveId();this.$location.path("/navigation/"+t)}},{key:"$deleteActiveCustomer",value:function(){function t(){return e.apply(this,arguments)}var e=(0,l.default)(u.default.mark(function t(){var e;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this._getActiveId(),t.next=3,this.CustomerService.deleteCustomer(e);case 3:this.$scope.model.splice(this.$scope.model.reduce(function(t,e,n){return e.active?t+n:t},0),1),this._digest();case 5:case"end":return t.stop()}},t,this)}));return t}()}]),e}(x.Controller))||a)||a)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),o=r(i),a=n(5),s=r(a),u=n(347),c=r(u),l=n(345),f=r(l),h=n(346),p=r(h),d={default:{controller:"OverviewPageCtrl",template:c.default,resolve:{observables:["CustomerService",function(t){return t.initialized.promise}]}},"/add":{controller:"DetailsPageCtrl",template:f.default,resolve:{observables:["CustomerService",function(t){return t.initialized.promise}],observedModel:function(){return!0}}},"/detail/:id":{controller:"DetailsPageCtrl",template:f.default,resolve:{observedModel:["$route","CustomerService",function(){var t=(0,s.default)(o.default.mark(function t(e,n){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.initialized.promise;case 2:return t.abrupt("return",n.customerSearch(e.current.params.id));case 3:case"end":return t.stop()}},t,void 0)}));return function(e,n){return t.apply(this,arguments)}}()]}},"/navigation/:id":{controller:"NavigationPageCtrl",template:p.default,resolve:{observedModel:["$route","CustomerService",function(){var t=(0,s.default)(o.default.mark(function t(e,n){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.initialized.promise;case 2:return t.abrupt("return",n.naviDataSearch(e.current.params.id));case 3:case"end":return t.stop()}},t,void 0)}));return function(e,n){return t.apply(this,arguments)}}()]}}};e.default=d},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.CustomerService=void 0;var o,a,s,u=n(6),c=i(u),l=n(5),f=i(l),h=n(12),p=i(h),d=n(1),v=i(d),m=n(2),y=i(m),g=n(16),b=i(g),_=n(15),w=i(_),$=n(32),x=i($),E=n(52),k=n(20);n(94);var S=n(236),O=r(S),A=n(238),j=r(A),C=n(235),T=r(C),P=n(237),M=r(P),D=n(31),R=i(D),I=n(494),N=r(I),L=n(473),B=r(L);e.CustomerService=(o=(0,k.Service)({module:"webtrekk",name:"CustomerService",deps:["$q"]}),a=(0,k.Logging)((0,x.default)({loggerName:"CustomerLogger"},R.default)),o(s=a(s=function(t){function e(){var t;(0,v.default)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(0,b.default)(this,(t=e.__proto__||(0,p.default)(e)).call.apply(t,[this].concat(r)));return o.initialized=o.$q.defer(),o._create(),o}return(0,w.default)(e,t),(0,y.default)(e,[{key:"_create",value:function(){function t(){return e.apply(this,arguments)}var e=(0,f.default)(c.default.mark(function t(){var e,n=this;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return N.plugin(B),t.next=3,N.create({name:"webtrekk",adapter:"idb",multiInstance:!1});case 3:return this.db=t.sent,t.next=6,this.db.collection({name:"customer",schema:O});case 6:return T.data.forEach(function(t){n.upsertCustomer(t)}),t.next=9,this.db.collection({name:"navigation",schema:j});case 9:return t.next=11,this.fetchNaviData();case 11:e=t.sent,M.data.forEach(function(t){!e.some(function(e){return e.customer_id===t.customer_id&&e.pages===t.pages&&e.timestamp===t.timestamp})&&n.db.navigation.insert(t)}),this.initialized.resolve();case 14:case"end":return t.stop()}},t,this)}));return t}()},{key:"fetchCustomers",value:function(){return this.db.customer._queryCache.destroy(),this.db.customer.find().exec()}},{key:"customerSearch",value:function(t){return this.db.customer._queryCache.destroy(),this.db.customer.find().where("customer_id").eq(t.toString()).exec()}},{key:"upsertCustomer",value:function(){function t(t){return e.apply(this,arguments)}var e=(0,f.default)(c.default.mark(function t(e){return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.customer.upsert(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return t}()},{key:"deleteCustomer",value:function(){function t(t){return e.apply(this,arguments)}var e=(0,f.default)(c.default.mark(function t(e){var n;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.customerSearch(e.toString());case 2:return n=t.sent,t.abrupt("return",n[0].remove());case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"fetchNaviData",value:function(){return this.db.navigation._queryCache.destroy(),this.db.navigation.find().exec()}},{key:"naviDataSearch",value:function(t){return this.db.navigation._queryCache.destroy(),this.db.navigation.find().where("customer_id").eq(t.toString()).exec()}},{key:"subscribeCustomer",value:function(t){this.db.customer.$.subscribe(t)}},{key:"subscribeNavigation",value:function(t){this.db.navigation.$.subscribe(t)}}]),e}(E.Service))||s)||s)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Module=void 0;var i=n(95),o=r(i),a=n(53),s=r(a),u=n(70),c=r(u),l=n(1),f=r(l),h=n(2),p=r(h),d=n(151),v=r(d),m=n(150);r(m),e.Module=function(){function t(e,n,r){(0,f.default)(this,t),this.name=e,this.dependencies=n||[],this.dependencies.push("ngRoute"),v.default.module(this.name,this.dependencies),void 0!==r&&null!==r&&this.routing(r)}return(0,p.default)(t,[{key:"bootstrap",value:function(){var t=this;v.default.element(document).ready(function(){v.default.bootstrap(document,[t.name])})}},{key:"routing",value:function(t){this.routes=t,this.config(function(e){void 0!==t.default&&null!==t.default&&(e.when("/",t.default),e.otherwise(t.default));var n=!0,r=!1,i=void 0;try{for(var a,u=(0,s.default)((0,o.default)(t).entries());!(n=(a=u.next()).done);n=!0){var l=a.value,f=(0,c.default)(l,2),h=(f[0],f[1]);"default"!==h&&e.when(h,t[h])}}catch(t){r=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}})}},{key:"config",value:function(t){if("undefinded"==typeof this.module||null===this.module)throw"Cannot access module: undefined!";this.module.config(t)}},{key:"module",get:function(){return v.default.module(this.name)}}]),t}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayUtil=e.TypeCheckUtil=e.AsyncUtil=e.TimeUtil=e.NumberUtil=void 0;var i=n(95),o=r(i),a=n(262),s=r(a),u=n(153),c=r(u),l=n(1),f=r(l),h=n(2),p=r(h);e.NumberUtil=function(){function t(){(0,f.default)(this,t)}return(0,p.default)(t,[{key:"_random",get:function(){return(Math.random()/(this._constructed||(new Date).getTime())).toString(36).slice(-7)}}]),t}(),e.TimeUtil=function(){function t(){(0,f.default)(this,t)}return(0,p.default)(t,[{key:"_timestamp",get:function(){return(new Date).getTime()}},{key:"_localTimeString",get:function(){return(new Date).toLocaleString()}}]),t}(),e.AsyncUtil=function(){function t(){(0,f.default)(this,t)}return(0,p.default)(t,[{key:"_validate",value:function(t){var e=this;return new c.default(function(n,r){try{n(t())}catch(t){(e.log||console.log)(t),r(t)}})}},{key:"_closurize",value:function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this;return new c.default(function(n,i){o._validate(t.bind.apply(t,[e].concat(r))).then(function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];e[0]&&"function"==typeof e[0].then?e[0].then(n).catch(i):e[0]&&e[0]instanceof Error?i.apply(void 0,e):n.apply(void 0,(0,s.default)(e||null))}).catch(i)})}}]),t}(),e.TypeCheckUtil=function(){function t(){(0,f.default)(this,t)}return(0,p.default)(t,[{key:"_isVoid",value:function(t){return void 0===t||null===t}},{key:"_isFunction",value:function(t){return"function"==typeof t}},{key:"_isPromise",value:function(t){return!this._isVoid(t)&&this._isFunction(t.then)}},{key:"_isFalsy",value:function(t){return 0==t||t instanceof Error}}]),t}(),e.ArrayUtil=function(){function t(){(0,f.default)(this,t)}return(0,p.default)(t,[{key:"setArray",value:function(t,e,n){var r=this,i=e.filter(function(e){return!r[t].filter(function(t){var r=!0;return(0,o.default)(n).forEach(function(n){r&=e[n]===t[n]}),!!r}).length});return this[t].concat(i),!!i.length}}]),t}()},function(t,e,n){t.exports={default:n(271),__esModule:!0}},function(t,e,n){t.exports={default:n(273),__esModule:!0}},function(t,e,n){t.exports={default:n(274),__esModule:!0}},function(t,e,n){t.exports={default:n(275),__esModule:!0}},function(t,e,n){t.exports={default:n(281),__esModule:!0}},function(t,e,n){t.exports={default:n(283),__esModule:!0}},function(t,e,n){t.exports={default:n(284),__esModule:!0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(12),o=r(i),a=n(54),s=r(a);e.default=function t(e,n,r){null===e&&(e=Function.prototype);var i=(0,s.default)(e,n);if(void 0===i){var a=(0,o.default)(e);return null===a?void 0:t(a,n,r)}if("value"in i)return i.value;var u=i.get;if(void 0!==u)return u.call(r)}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(254),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,i.default)(t)}},function(t,e,n){"use strict";function r(t,e,n){t instanceof RegExp&&(t=i(t,n)),e instanceof RegExp&&(e=i(e,n));var r=o(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function i(t,e){var n=e.match(t);return n?n[0]:null}function o(t,e,n){var r,i,o,a,s,u=n.indexOf(t),c=n.indexOf(e,u+1),l=u;if(u>=0&&c>0){for(r=[],o=n.length;l>=0&&!s;)l==u?(r.push(l),u=n.indexOf(t,l+1)):1==r.length?s=[r.pop(),c]:(i=r.pop(),i<o&&(o=i,a=c),c=n.indexOf(e,l+1)),l=u<c&&u>=0?u:c;r.length&&(s=[o,a])}return s}t.exports=r,r.range=o},function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return 3*t.length/4-r(t)}function o(t){var e,n,i,o,a,s=t.length;o=r(t),a=new f(3*s/4-o),n=o>0?s-4:s;var u=0;for(e=0;e<n;e+=4)i=l[t.charCodeAt(e)]<<18|l[t.charCodeAt(e+1)]<<12|l[t.charCodeAt(e+2)]<<6|l[t.charCodeAt(e+3)],a[u++]=i>>16&255,a[u++]=i>>8&255,a[u++]=255&i;return 2===o?(i=l[t.charCodeAt(e)]<<2|l[t.charCodeAt(e+1)]>>4,a[u++]=255&i):1===o&&(i=l[t.charCodeAt(e)]<<10|l[t.charCodeAt(e+1)]<<4|l[t.charCodeAt(e+2)]>>2,a[u++]=i>>8&255,a[u++]=255&i),a}function a(t){return c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}function s(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(a(r));return i.join("")}function u(t){for(var e,n=t.length,r=n%3,i="",o=[],a=0,u=n-r;a<u;a+=16383)o.push(s(t,a,a+16383>u?u:a+16383));return 1===r?(e=t[n-1],i+=c[e>>2],i+=c[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=c[e>>10],i+=c[e>>4&63],i+=c[e<<2&63],i+="="),o.push(i),o.join("")}e.byteLength=i,e.toByteArray=o,e.fromByteArray=u;for(var c=[],l=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,d=h.length;p<d;++p)c[p]=h[p],l[h.charCodeAt(p)]=p;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(t,e,n){var r,i;/*!
  * Bean - copyright (c) Jacob Thornton 2011-2012
  * https://github.com/fat/bean
  * MIT license
  */
!function(o,a,s){void 0!==t&&t.exports?t.exports=s():(r=s,void 0!==(i="function"==typeof r?r.call(e,n,e,t):r)&&(t.exports=i))}(0,0,function(t,e){t=t||"bean",e=e||this;var n,r=window,i=e[t],o=/[^\.]*(?=\..*)\.|.*/,a=/\..*/,s="addEventListener",u=document||{},c=u.documentElement||{},l=c[s],f=l?s:"attachEvent",h={},p=Array.prototype.slice,d=function(t,e){return t.split(e||" ")},v=function(t){return"string"==typeof t},m=function(t){return"function"==typeof t},y=function(t,e,n){for(n=0;n<e.length;n++)e[n]&&(t[e[n]]=1);return t}({},d("click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll "+(l?"show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinput readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ":""))),g=function(){var t="compareDocumentPosition"in c?function(t,e){return e.compareDocumentPosition&&16==(16&e.compareDocumentPosition(t))}:"contains"in c?function(t,e){return(e=9===e.nodeType||e===window?c:e)!==t&&e.contains(t)}:function(t,e){for(;t=t.parentNode;)if(t===e)return 1;return 0},e=function(e){var n=e.relatedTarget;return n?n!==this&&"xul"!==n.prefix&&!/document/.test(this.toString())&&!t(n,this):null==n};return{mouseenter:{base:"mouseover",condition:e},mouseleave:{base:"mouseout",condition:e},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),b=function(){var t=d("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),e=t.concat(d("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),n=e.concat(d("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),i=t.concat(d("char charCode key keyCode keyIdentifier keyLocation location")),o=t.concat(d("data")),a=t.concat(d("touches targetTouches changedTouches scale rotation")),s=t.concat(d("data origin source")),l=t.concat(d("state")),f=/over|out/,h=[{reg:/key/i,fix:function(t,e){return e.keyCode=t.keyCode||t.which,i}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(t,n,r){return n.rightClick=3===t.which||2===t.button,n.pos={x:0,y:0},t.pageX||t.pageY?(n.clientX=t.pageX,n.clientY=t.pageY):(t.clientX||t.clientY)&&(n.clientX=t.clientX+u.body.scrollLeft+c.scrollLeft,n.clientY=t.clientY+u.body.scrollTop+c.scrollTop),f.test(r)&&(n.relatedTarget=t.relatedTarget||t[("mouseover"==r?"from":"to")+"Element"]),e}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return n}},{reg:/^text/i,fix:function(){return o}},{reg:/^touch|^gesture/i,fix:function(){return a}},{reg:/^message$/i,fix:function(){return s}},{reg:/^popstate$/i,fix:function(){return l}},{reg:/.*/,fix:function(){return t}}],p={},v=function(t,e,n){if(arguments.length&&(t=t||((e.ownerDocument||e.document||e).parentWindow||r).event,this.originalEvent=t,this.isNative=n,this.isBean=!0,t)){var i,o,a,s,u,c=t.type,l=t.target||t.srcElement;if(this.target=l&&3===l.nodeType?l.parentNode:l,n){if(!(u=p[c]))for(i=0,o=h.length;i<o;i++)if(h[i].reg.test(c)){p[c]=u=h[i].fix;break}for(s=u(t,this,c),i=s.length;i--;)!((a=s[i])in this)&&a in t&&(this[a]=t[a])}}};return v.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},v.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},v.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},v.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},v.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},v.prototype.clone=function(t){var e=new v(this,this.element,this.isNative);return e.currentTarget=t,e},v}(),_=function(t,e){return l||e||t!==u&&t!==r?t:c},w=function(){var t=function(t,e,n,r){var i=function(n,i){return e.apply(t,r?p.call(i,n?0:1).concat(r):i)},o=function(n,r){return e.__beanDel?e.__beanDel.ft(n.target,t):r},a=n?function(t){var e=o(t,this);if(n.apply(e,arguments))return t&&(t.currentTarget=e),i(t,arguments)}:function(t){return e.__beanDel&&(t=t.clone(o(t))),i(t,arguments)};return a.__beanDel=e.__beanDel,a},e=function(e,n,r,i,o,a,s){var u,c=g[n];"unload"==n&&(r=S(O,e,n,r,i)),c&&(c.condition&&(r=t(e,r,c.condition,a)),n=c.base||n),this.isNative=u=y[n]&&!!e[f],this.customType=!l&&!u&&n,this.element=e,this.type=n,this.original=i,this.namespaces=o,this.eventType=l||u?n:"propertychange",this.target=_(e,u),this[f]=!!this.target[f],this.root=s,this.handler=t(e,r,null,a)};return e.prototype.inNamespaces=function(t){var e,n,r=0;if(!t)return!0;if(!this.namespaces)return!1;for(e=t.length;e--;)for(n=this.namespaces.length;n--;)t[e]==this.namespaces[n]&&r++;return t.length===r},e.prototype.matches=function(t,e,n){return!(this.element!==t||e&&this.original!==e||n&&this.handler!==n)},e}(),$=function(){var t={},e=function(n,r,i,o,a,s){var u=a?"r":"$";if(r&&"*"!=r){var c,l=0,f=t[u+r],h="*"==n;if(!f)return;for(c=f.length;l<c;l++)if((h||f[l].matches(n,i,o))&&!s(f[l],f,l,r))return}else for(var p in t)p.charAt(0)==u&&e(n,p.substr(1),i,o,a,s)};return{has:function(e,n,r,i){var o,a=t[(i?"r":"$")+n];if(a)for(o=a.length;o--;)if(!a[o].root&&a[o].matches(e,r,null))return!0;return!1},get:function(t,n,r,i){var o=[];return e(t,n,r,null,i,function(t){return o.push(t)}),o},put:function(e){var n=!e.root&&!this.has(e.element,e.type,null,!1),r=(e.root?"r":"$")+e.type;return(t[r]||(t[r]=[])).push(e),n},del:function(n){e(n.element,n.type,null,n.handler,n.root,function(e,n,r){return n.splice(r,1),e.removed=!0,0===n.length&&delete t[(e.root?"r":"$")+e.type],!1})},entries:function(){var e,n=[];for(e in t)"$"==e.charAt(0)&&(n=n.concat(t[e]));return n}}}(),x=function(t){n=arguments.length?t:u.querySelectorAll?function(t,e){return e.querySelectorAll(t)}:function(){throw new Error("Bean: No selector engine installed")}},E=function(t,e){if(l||!e||!t||t.propertyName=="_on"+e){var n=$.get(this,e||t.type,null,!1),r=n.length,i=0;for(t=new b(t,this,!0),e&&(t.type=e);i<r&&!t.isImmediatePropagationStopped();i++)n[i].removed||n[i].handler.call(this,t)}},k=l?function(t,e,n){t[n?s:"removeEventListener"](e,E,!1)}:function(t,e,n,r){var i;n?($.put(i=new w(t,r||e,function(e){E.call(t,e,r)},E,null,null,!0)),r&&null==t["_on"+r]&&(t["_on"+r]=0),i.target.attachEvent("on"+i.eventType,i.handler)):(i=$.get(t,r||e,E,!0)[0])&&(i.target.detachEvent("on"+i.eventType,i.handler),$.del(i))},S=function(t,e,n,r,i){return function(){r.apply(this,arguments),t(e,n,i)}},O=function(t,e,n,r){var i,o,s=e&&e.replace(a,""),u=$.get(t,s,null,!1),c={};for(i=0,o=u.length;i<o;i++)n&&u[i].original!==n||!u[i].inNamespaces(r)||($.del(u[i]),!c[u[i].eventType]&&u[i][f]&&(c[u[i].eventType]={t:u[i].eventType,c:u[i].type}));for(i in c)$.has(t,c[i].t,null,!1)||k(t,c[i].t,!1,c[i].c)},A=function(t,e){var r=function(e,r){for(var i,o=v(t)?n(t,r):t;e&&e!==r;e=e.parentNode)for(i=o.length;i--;)if(o[i]===e)return e},i=function(t){var n=r(t.target,this);n&&e.apply(n,arguments)};return i.__beanDel={ft:r,selector:t},i},j=l?function(t,e,n){var i=u.createEvent(t?"HTMLEvents":"UIEvents");i[t?"initEvent":"initUIEvent"](e,!0,!0,r,1),n.dispatchEvent(i)}:function(t,e,n){n=_(n,t),t?n.fireEvent("on"+e,u.createEventObject()):n["_on"+e]++},C=function(t,e,n){var r,i,s,u,c=v(e);if(c&&e.indexOf(" ")>0){for(e=d(e),u=e.length;u--;)C(t,e[u],n);return t}if(i=c&&e.replace(a,""),i&&g[i]&&(i=g[i].base),!e||c)(s=c&&e.replace(o,""))&&(s=d(s,".")),O(t,i,n,s);else if(m(e))O(t,null,e);else for(r in e)e.hasOwnProperty(r)&&C(t,r,e[r]);return t},T=function(t,e,n,r){var i,s,u,c,l,v,y;{if(void 0!==n||"object"!=typeof e){for(m(n)?(l=p.call(arguments,3),r=i=n):(i=r,l=p.call(arguments,4),r=A(n,i)),u=d(e),this===h&&(r=S(C,t,e,r,i)),c=u.length;c--;)y=$.put(v=new w(t,u[c].replace(a,""),r,i,d(u[c].replace(o,""),"."),l,!1)),v[f]&&y&&k(t,v.eventType,!0,v.customType);return t}for(s in e)e.hasOwnProperty(s)&&T.call(this,t,s,e[s])}},P=function(t,e,n,r){return T.apply(null,v(n)?[t,n,e,r].concat(arguments.length>3?p.call(arguments,5):[]):p.call(arguments))},M=function(){return T.apply(h,arguments)},D=function(t,e,n){var r,i,s,u,c,l=d(e);for(r=l.length;r--;)if(e=l[r].replace(a,""),(u=l[r].replace(o,""))&&(u=d(u,".")),u||n||!t[f])for(c=$.get(t,e,null,!1),n=[!1].concat(n),i=0,s=c.length;i<s;i++)c[i].inNamespaces(u)&&c[i].handler.apply(t,n);else j(y[e],e,t);return t},R=function(t,e,n){for(var r,i,o=$.get(e,n,null,!1),a=o.length,s=0;s<a;s++)o[s].original&&(r=[t,o[s].type],(i=o[s].handler.__beanDel)&&r.push(i.selector),r.push(o[s].original),T.apply(null,r));return t},I={on:T,add:P,one:M,off:C,remove:C,clone:R,fire:D,Event:b,setSelectorEngine:x,noConflict:function(){return e[t]=i,this}};if(r.attachEvent){var N=function(){var t,e=$.entries();for(t in e)e[t].type&&"unload"!==e[t].type&&C(e[t].element,e[t].type);r.detachEvent("onunload",N),r.CollectGarbage&&r.CollectGarbage()};r.attachEvent("onunload",N)}return x(),I})},function(t,e,n){function r(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function i(t){return t.split("\\\\").join(v).split("\\{").join(m).split("\\}").join(y).split("\\,").join(g).split("\\.").join(b)}function o(t){return t.split(v).join("\\").split(m).join("{").split(y).join("}").split(g).join(",").split(b).join(".")}function a(t){if(!t)return[""];var e=[],n=d("{","}",t);if(!n)return t.split(",");var r=n.pre,i=n.body,o=n.post,s=r.split(",");s[s.length-1]+="{"+i+"}";var u=a(o);return o.length&&(s[s.length-1]+=u.shift(),s.push.apply(s,u)),e.push.apply(e,s),e}function s(t){return t?("{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2)),h(i(t),!0).map(o)):[]}function u(t){return"{"+t+"}"}function c(t){return/^-?0\d/.test(t)}function l(t,e){return t<=e}function f(t,e){return t>=e}function h(t,e){var n=[],i=d("{","}",t);if(!i||/\$$/.test(i.pre))return[t];var o=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),v=o||s,m=i.body.indexOf(",")>=0;if(!v&&!m)return i.post.match(/,.*\}/)?(t=i.pre+"{"+i.body+y+i.post,h(t)):[t];var g;if(v)g=i.body.split(/\.\./);else if(g=a(i.body),1===g.length&&(g=h(g[0],!1).map(u),1===g.length)){var b=i.post.length?h(i.post,!1):[""];return b.map(function(t){return i.pre+g[0]+t})}var _,w=i.pre,b=i.post.length?h(i.post,!1):[""];if(v){var $=r(g[0]),x=r(g[1]),E=Math.max(g[0].length,g[1].length),k=3==g.length?Math.abs(r(g[2])):1,S=l;x<$&&(k*=-1,S=f);var O=g.some(c);_=[];for(var A=$;S(A,x);A+=k){var j;if(s)"\\"===(j=String.fromCharCode(A))&&(j="");else if(j=String(A),O){var C=E-j.length;if(C>0){var T=new Array(C+1).join("0");j=A<0?"-"+T+j.slice(1):T+j}}_.push(j)}}else _=p(g,function(t){return h(t,!1)});for(var P=0;P<_.length;P++)for(var M=0;M<b.length;M++){var D=w+_[P]+b[M];(!e||v||D)&&n.push(D)}return n}var p=n(269),d=n(263);t.exports=s;var v="\0SLASH"+Math.random()+"\0",m="\0OPEN"+Math.random()+"\0",y="\0CLOSE"+Math.random()+"\0",g="\0COMMA"+Math.random()+"\0",b="\0PERIOD"+Math.random()+"\0"},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(e,r){function i(t){if(null==t)return t;if(Array.isArray(t))return t.slice();if("object"==typeof t){var e={};return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}return t}function o(){if(void 0!==this){var t={},e=Error.stackTraceLimit,n=Error.prepareStackTrace;return Error.stackTraceLimit=3,Error.prepareStackTrace=function(e,n){var r=n[2];M&&(r=M.wrapCallSite(r)),t.file=r.getFileName(),t.line=r.getLineNumber();var i=r.getFunctionName();i&&(t.func=i)},Error.captureStackTrace(this,o),this.stack,Error.stackTraceLimit=e,Error.prepareStackTrace=n,t}}function a(t,e){return e||(e="    "),e+t.split(/\r?\n/g).join("\n"+e)}function s(t,n){if(A.ok(t),n){if(N[n])return;N[n]=!0}e.stderr.write(t+"\n")}function u(t){return N[t]}function c(){}function l(t){var e,n=typeof t;if("string"===n){if(!(e=q[t.toLowerCase()]))throw new Error(D('unknown level name: "%s"',t))}else{if("number"!==n)throw new TypeError(D("cannot resolve level: invalid arg (%s):",n,t));if(t<0||Math.floor(t)!==t)throw new TypeError(D("level is not a positive integer: %s",t));e=t}return e}function f(t){return t instanceof C.Writable||"function"==typeof t.write}function h(t,n,r){if(x("Logger start:",t),!(this instanceof h))return new h(t,n);var o;if(void 0!==n&&(o=t,t=n,!(o instanceof h)))throw new TypeError("invalid Logger creation: do not pass a second arg");if(!t)throw new TypeError("options (object) is required");if(o){if(t.name)throw new TypeError("invalid options.name: child cannot set logger name")}else if(!t.name)throw new TypeError("options.name (string) is required");if(t.stream&&t.streams)throw new TypeError('cannot mix "streams" and "stream" options');if(t.streams&&!Array.isArray(t.streams))throw new TypeError("invalid options.streams: must be an array");if(t.serializers&&("object"!=typeof t.serializers||Array.isArray(t.serializers)))throw new TypeError("invalid options.serializers: must be an object");if(j.call(this),o&&r){this._isSimpleChild=!0,this._level=o._level,this.streams=o.streams,this.serializers=o.serializers,this.src=o.src;for(var a=this.fields={},s=Object.keys(o.fields),u=0;u<s.length;u++){var l=s[u];a[l]=o.fields[l]}for(var f=Object.keys(t),u=0;u<f.length;u++){var l=f[u];a[l]=t[l]}}else{var p=this;if(o){this._level=o._level,this.streams=[];for(var u=0;u<o.streams.length;u++){var d=i(o.streams[u]);d.closeOnExit=!1,this.streams.push(d)}this.serializers=i(o.serializers),this.src=o.src,this.fields=i(o.fields),t.level&&this.level(t.level)}else this._level=Number.POSITIVE_INFINITY,this.streams=[],this.serializers=null,this.src=!1,this.fields={};if(!V&&S){V=S.createDTraceProvider("bunyan");for(var v in q){var m;z[q[v]]=m=V.addProbe("log-"+v,"char *"),m.dtp=V}V.enable()}t.stream?p.addStream({type:"stream",stream:t.stream,closeOnExit:!1,level:t.level}):t.streams?t.streams.forEach(function(e){p.addStream(e,t.level)}):o&&t.level?this.level(t.level):o||("browser"===w?p.addStream({type:"raw",stream:new c,closeOnExit:!1,level:t.level}):p.addStream({type:"stream",stream:e.stdout,closeOnExit:!1,level:t.level})),t.serializers&&p.addSerializers(t.serializers),t.src&&(this.src=!0),x("Logger: ",p);var a=i(t);delete a.stream,delete a.level,delete a.streams,delete a.serializers,delete a.src,this.serializers&&this._applySerializers(a),a.hostname||p.fields.hostname||(a.hostname=E.hostname()),a.pid||(a.pid=e.pid),Object.keys(a).forEach(function(t){p.fields[t]=a[t]})}}function p(t,e,n){var a,s,u;n[0]instanceof Error?(s={err:t.serializers&&t.serializers.err?t.serializers.err(n[0]):h.stdSerializers.err(n[0])},a={err:!0},u=1===n.length?[s.err.message]:n.slice(1)):"object"!=typeof n[0]||Array.isArray(n[0])?(s=null,u=n.slice()):r.isBuffer(n[0])?(s=null,u=n.slice(),u[0]=O.inspect(u[0])):(s=n[0],u=s&&1===n.length&&s.err&&s.err instanceof Error?[s.err.message]:n.slice(1));var c=i(t.fields),l=(c.level=e,s?i(s):null);return l&&(t.serializers&&t._applySerializers(l,a),Object.keys(l).forEach(function(t){c[t]=l[t]})),c.msg=D.apply(t,u),c.time||(c.time=new Date),t.src&&!c.src&&(c.src=o()),c.v=$,c}function d(t,e,n,r){return[t||e._emit(p(e,n,r),!0)]}function v(t){return function(){var e=this,n=null,r=null;if(this._emit){if(0===arguments.length)return this._level<=t;for(var i=new Array(arguments.length),a=0;a<i.length;++a)i[a]=arguments[a];this._level<=t&&(r=p(e,t,i),n=this._emit(r)),z&&z[t].fire(d,n,e,t,i)}else{if(!u.unbound){var c=o();s(D("bunyan usage error: %s:%s: attempt to log with an unbound log method: `this` is: %s",c.file,c.line,O.inspect(this)),"unbound")}}}}function m(t){var e=t.stack||t.toString();if(t.cause&&"function"==typeof t.cause){var n=t.cause();n&&(e+="\nCaused by: "+m(n))}return e}function y(){var t=new Set;return function(e,n){return n&&"object"==typeof n?t.has(n)?"[Circular]":(t.add(n),n):n}}function g(){var t=[];return function(e,n){return n&&"object"==typeof n?-1!==t.indexOf(n)?"[Circular]":(t.push(n),n):n}}function b(t){try{return JSON.stringify(t)}catch(n){try{return JSON.stringify(t,H())}catch(n){if(T)return T(t);var e=n.stack.split(/\n/g,3).join("\n");return s('bunyan: ERROR: Exception in `JSON.stringify(rec)`. You can install the "safe-json-stringify" module to have Bunyan fallback to safer stringification. Record:\n'+a(D("%s\n%s",O.inspect(t),n.stack)),e),D("(Exception in JSON.stringify(rec): %j. See stderr for details.)",n.message)}}}function _(t){this.limit=t&&t.limit?t.limit:100,this.writable=!0,this.records=[],j.call(this)}var w,$=0,x=function(t){var e=["XXX: "+t].concat(Array.prototype.slice.call(arguments,1));console.error.apply(this,e)},x=function(){};if(void 0!==e&&e.versions&&(e.versions.nw?w="nw":e.versions.node&&(w="node")),w||"undefined"==typeof window||window.window!==window||(w="browser"),!w)throw new Error("unknown runtime environment");var E,k,S;if("browser"===w)E={hostname:function(){return window.location.host}},k={},S=null;else{E=n(471),k=n(30);try{S=n(332)}catch(t){S=null}}var O=n(67),A=n(68),j=n(35).EventEmitter,C=n(567);try{var T=n(557)}catch(t){T=null}e.env.BUNYAN_TEST_NO_SAFE_JSON_STRINGIFY&&(T=null);try{var P=n(468)}catch(t){P=null}try{var M=n(559)}catch(t){M=null}var D=O.format;if(!D){var R=O.inspect,I=/%[sdj%]/g;D=function(t){if("string"!=typeof t){for(var e=[],n=0;n<arguments.length;n++)e.push(R(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,i=r.length,o=String(t).replace(I,function(t){if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":return b(r[n++]);case"%%":return"%";default:return t}}),a=r[n];n<i;a=r[++n])o+=null===a||"object"!=typeof a?" "+a:" "+R(a);return o}}var N={};c.prototype.write=function(t){t.level<L?console.log(t):t.level<B?console.info(t):t.level<F?console.warn(t):console.error(t)};var L=30,B=40,F=50,q={trace:10,debug:20,info:L,warn:B,error:F,fatal:60},U={};Object.keys(q).forEach(function(t){U[q[t]]=t});var V=void 0,z=S&&{};O.inherits(h,j),h.prototype.addStream=function(t,e){var n=this;switch(null!==e&&void 0!==e||(e=L),t=i(t),t.type||(t.stream?t.type="stream":t.path&&(t.type="file")),t.raw="raw"===t.type,void 0!==t.level?t.level=l(t.level):t.level=l(e),t.level<n._level&&(n._level=t.level),t.type){case"stream":A.ok(f(t.stream),'"stream" stream is not writable: '+O.inspect(t.stream)),t.closeOnExit||(t.closeOnExit=!1);break;case"file":void 0===t.reemitErrorEvents&&(t.reemitErrorEvents=!0),t.stream?t.closeOnExit||(t.closeOnExit=!1):(t.stream=k.createWriteStream(t.path,{flags:"a",encoding:"utf8"}),t.closeOnExit||(t.closeOnExit=!0));break;case"rotating-file":A.ok(!t.stream,'"rotating-file" stream should not give a "stream"'),A.ok(t.path),A.ok(P,'"rotating-file" stream type is not supported: missing "mv" module'),t.stream=new G(t),t.closeOnExit||(t.closeOnExit=!0);break;case"raw":t.closeOnExit||(t.closeOnExit=!1);break;default:throw new TypeError('unknown stream type "'+t.type+'"')}t.reemitErrorEvents&&"function"==typeof t.stream.on&&t.stream.on("error",function(e){n.emit("error",e,t)}),n.streams.push(t),delete n.haveNonRawStreams},h.prototype.addSerializers=function(t){var e=this;e.serializers||(e.serializers={}),Object.keys(t).forEach(function(n){var r=t[n];if("function"!=typeof r)throw new TypeError(D('invalid serializer for "%s" field: must be a function',n));e.serializers[n]=r})},h.prototype.child=function(t,e){return new this.constructor(this,t||{},e)},h.prototype.reopenFileStreams=function(){var t=this;t.streams.forEach(function(e){"file"===e.type&&(e.stream&&(e.stream.end(),e.stream.destroySoon(),delete e.stream),e.stream=k.createWriteStream(e.path,{flags:"a",encoding:"utf8"}),e.stream.on("error",function(n){t.emit("error",n,e)}))})},h.prototype.level=function(t){if(void 0===t)return this._level;for(var e=l(t),n=this.streams.length,r=0;r<n;r++)this.streams[r].level=e;this._level=e},h.prototype.levels=function(t,e){if(void 0===t)return A.equal(e,void 0),this.streams.map(function(t){return t.level});var n;if("number"==typeof t){if(void 0===(n=this.streams[t]))throw new Error("invalid stream index: "+t)}else{for(var r=this.streams.length,i=0;i<r;i++){var o=this.streams[i];if(o.name===t){n=o;break}}if(!n)throw new Error(D('no stream with name "%s"',t))}if(void 0===e)return n.level;var a=l(e);n.level=a,a<this._level&&(this._level=a)},h.prototype._applySerializers=function(t,e){var n=this;x("_applySerializers: excludeFields",e),Object.keys(this.serializers).forEach(function(r){if(!(void 0===t[r]||e&&e[r])){x('_applySerializers; apply to "%s" key',r);try{t[r]=n.serializers[r](t[r])}catch(e){s(D('bunyan: ERROR: Exception thrown from the "%s" Bunyan serializer. This should never happen. This is a bug in that serializer function.\n%s',r,e.stack||e)),t[r]=D('(Error in Bunyan log "%s" serializer broke field. See stderr for details.)',r)}}})},h.prototype._emit=function(t,e){var n;if(void 0===this.haveNonRawStreams)for(this.haveNonRawStreams=!1,n=0;n<this.streams.length;n++)if(!this.streams[n].raw){this.haveNonRawStreams=!0;break}var r;if((e||this.haveNonRawStreams)&&(r=b(t)+"\n"),e)return r;var i=t.level;for(n=0;n<this.streams.length;n++){var o=this.streams[n];o.level<=i&&(x('writing log rec "%s" to "%s" stream (%d <= %d): %j',t.msg,o.type,o.level,i,t),o.stream.write(o.raw?t:r))}return r},h.prototype.trace=v(10),h.prototype.debug=v(20),h.prototype.info=v(L),h.prototype.warn=v(B),h.prototype.error=v(F),h.prototype.fatal=v(60),h.stdSerializers={},h.stdSerializers.req=function(t){return t&&t.connection?{method:t.method,url:t.url,headers:t.headers,remoteAddress:t.connection.remoteAddress,remotePort:t.connection.remotePort}:t},h.stdSerializers.res=function(t){return t&&t.statusCode?{statusCode:t.statusCode,header:t._header}:t};var H=(h.stdSerializers.err=function(t){return t&&t.stack?{message:t.message,name:t.name,stack:m(t),code:t.code,signal:t.signal}:t},"undefined"!=typeof Set?y:g),G=null;P&&(G=function(t){if(this.path=t.path,this.count=null==t.count?10:t.count,A.equal(typeof this.count,"number",D('rotating-file stream "count" is not a number: %j (%s) in %j',this.count,typeof this.count,this)),A.ok(this.count>=0,D('rotating-file stream "count" is not >= 0: %j in %j',this.count,this)),t.period){var e={hourly:"1h",daily:"1d",weekly:"1w",monthly:"1m",yearly:"1y"}[t.period]||t.period,n=/^([1-9][0-9]*)([hdwmy]|ms)$/.exec(e);if(!n)throw new Error(D('invalid period: "%s"',t.period));this.periodNum=Number(n[1]),this.periodScope=n[2]}else this.periodNum=1,this.periodScope="d";var r=null;try{r=k.statSync(this.path).mtime.getTime()}catch(t){}var i=!1;if(r){r<this._calcRotTime(0)&&(i=!0)}this.stream=k.createWriteStream(this.path,{flags:"a",encoding:"utf8"}),this.rotQueue=[],this.rotating=!1,i?(this._debug("rotateAfterOpen -> call rotate()"),this.rotate()):this._setupNextRot()},O.inherits(G,j),G.prototype._debug=function(){return!1},G.prototype._setupNextRot=function(){this.rotAt=this._calcRotTime(1),this._setRotationTimer()},G.prototype._setRotationTimer=function(){var t=this,e=this.rotAt-Date.now();e>2147483647&&(e=2147483647),this.timeout=setTimeout(function(){t._debug("_setRotationTimer timeout -> call rotate()"),t.rotate()},e),"function"==typeof this.timeout.unref&&this.timeout.unref()},G.prototype._calcRotTime=function(t){this._debug("_calcRotTime: %s%s",this.periodNum,this.periodScope);var e=new Date;this._debug("  now local: %s",e),this._debug("    now utc: %s",e.toISOString());var n;switch(this.periodScope){case"ms":n=this.rotAt?this.rotAt+this.periodNum*t:Date.now()+this.periodNum*t;break;case"h":n=this.rotAt?this.rotAt+60*this.periodNum*60*1e3*t:Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()+t);break;case"d":n=this.rotAt?this.rotAt+24*this.periodNum*60*60*1e3*t:Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+t);break;case"w":if(this.rotAt)n=this.rotAt+7*this.periodNum*24*60*60*1e3*t;else{var r=7-e.getUTCDay();t<1&&(r=-e.getUTCDay()),(t>1||t<-1)&&(r+=7*t),n=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+r)}break;case"m":n=this.rotAt?Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+this.periodNum*t,1):Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+t,1);break;case"y":n=this.rotAt?Date.UTC(e.getUTCFullYear()+this.periodNum*t,0,1):Date.UTC(e.getUTCFullYear()+t,0,1);break;default:A.fail(D('invalid period scope: "%s"',this.periodScope))}if(this._debug()){this._debug("  **rotAt**: %s (utc: %s)",n,new Date(n).toUTCString());var i=Date.now();this._debug("        now: %s (%sms == %smin == %sh to go)",i,n-i,(n-i)/1e3/60,(n-i)/1e3/60/60)}return n},G.prototype.rotate=function(){function t(){if(0===n.count||r<0)return e();var i=n.path,o=n.path+"."+String(r);r>0&&(i+="."+String(r-1)),r-=1,k.exists(i,function(r){r?(n._debug("  mv %s %s",i,o),P(i,o,function(r){r?(n.emit("error",r),e()):t()})):t()})}function e(){n._debug("  open %s",n.path),n.stream=k.createWriteStream(n.path,{flags:"a",encoding:"utf8"});for(var t=n.rotQueue,e=t.length,r=0;r<e;r++)n.stream.write(t[r]);n.rotQueue=[],n.rotating=!1,n.emit("drain"),n._setupNextRot()}var n=this;if(n.rotAt&&n.rotAt>Date.now())return n._setRotationTimer();if(this._debug("rotate"),n.rotating)throw new TypeError("cannot start a rotation when already rotating");n.rotating=!0,n.stream.end();var r=this.count;!function(){var e=n.path+"."+String(r-1);0===r&&(e=n.path),r-=1,n._debug("  rm %s",e),k.unlink(e,function(e){t()})}()},G.prototype.write=function(t){return this.rotating?(this.rotQueue.push(t),!1):this.stream.write(t)},G.prototype.end=function(t){this.stream.end()},G.prototype.destroy=function(t){this.stream.destroy()},G.prototype.destroySoon=function(t){this.stream.destroySoon()}),O.inherits(_,j),_.prototype.write=function(t){if(!this.writable)throw new Error("RingBuffer has been ended already");return this.records.push(t),this.records.length>this.limit&&this.records.shift(),!0},_.prototype.end=function(){arguments.length>0&&this.write.apply(this,Array.prototype.slice.call(arguments)),this.writable=!1},_.prototype.destroy=function(){this.writable=!1,this.emit("close")},_.prototype.destroySoon=function(){this.destroy()},t.exports=h,t.exports.TRACE=10,t.exports.DEBUG=20,t.exports.INFO=L,t.exports.WARN=B,t.exports.ERROR=F,t.exports.FATAL=60,t.exports.resolveLevel=l,t.exports.levelFromName=q,t.exports.nameFromLevel=U,t.exports.VERSION="1.8.10",t.exports.LOG_VERSION=$,t.exports.createLogger=function(t){return new h(t)},t.exports.RingBuffer=_,t.exports.RotatingFileStream=G,t.exports.safeCycles=H}).call(e,n(3),n(39).Buffer)},function(t,e){t.exports=function(t,e){for(var r=[],i=0;i<t.length;i++){var o=e(t[i],i);n(o)?r.push.apply(r,o):r.push(o)}return r};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){(function(t){for(var n,r=function(){},i=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],o=i.length;o--;)n=i[o],console[n]||(console[n]=r);void 0!==t&&null!==t&&t.exports?e=t.exports=console:window.console=console}).call(e,n(91)(t))},function(t,e,n){n(58),n(308),t.exports=n(4).Array.from},function(t,e,n){n(76),n(58),t.exports=n(306)},function(t,e,n){n(76),n(58),t.exports=n(307)},function(t,e,n){n(310),t.exports=n(4).Object.assign},function(t,e,n){n(311);var r=n(4).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){n(312);var r=n(4).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){n(313);var r=n(4).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){n(314);var r=n(4).Object;t.exports=function(t){return r.getOwnPropertyNames(t)}},function(t,e,n){n(315),t.exports=n(4).Object.getPrototypeOf},function(t,e,n){n(316),t.exports=n(4).Object.keys},function(t,e,n){n(317),t.exports=n(4).Object.setPrototypeOf},function(t,e,n){n(168),n(58),n(76),n(318),t.exports=n(4).Promise},function(t,e,n){n(319),n(168),n(320),n(321),t.exports=n(4).Symbol},function(t,e,n){n(58),n(76),t.exports=n(110).f("iterator")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(26),i=n(107),o=n(305);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){"use strict";var r=n(23),i=n(56);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(44),i=n(103),o=n(72);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(40),i=n(159),o=n(158),a=n(21),s=n(107),u=n(111),c={},l={},e=t.exports=function(t,e,n,f,h){var p,d,v,m,y=h?function(){return t}:u(t),g=r(n,f,e?2:1),b=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(p=s(t.length);p>b;b++)if((m=e?g(a(d=t[b])[0],d[1]):g(t[b]))===c||m===l)return m}else for(v=y.call(t);!(d=v.next()).done;)if((m=i(v,g,d.value,e))===c||m===l)return m};e.BREAK=c,e.RETURN=l},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(55);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";var r=n(101),i=n(56),o=n(74),a={};n(34)(a,n(7)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(44),i=n(26);t.exports=function(t,e){for(var n,o=i(t),a=r(o),s=a.length,u=0;s>u;)if(o[n=a[u++]]===e)return n}},function(t,e,n){var r=n(75)("meta"),i=n(42),o=n(33),a=n(23).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(41)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},h=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},p=function(t){return c&&d.NEED&&u(t)&&!o(t,r)&&l(t),t},d=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:h,onFreeze:p}},function(t,e,n){var r=n(10),i=n(167).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(55)(a);t.exports=function(){var t,e,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(o){var l=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(s&&s.resolve){var h=s.resolve();n=function(){h.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){"use strict";var r=n(44),i=n(103),o=n(72),a=n(57),s=n(157),u=Object.assign;t.exports=!u||n(41)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=i.f,f=o.f;u>c;)for(var h,p=s(arguments[c++]),d=l?r(p).concat(l(p)):r(p),v=d.length,m=0;v>m;)f.call(p,h=d[m++])&&(n[h]=p[h]);return n}:u},function(t,e,n){var r=n(23),i=n(21),o=n(44);t.exports=n(25)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(34);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e,n){var r=n(42),i=n(21),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(40)(Function.call,n(102).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){"use strict";var r=n(10),i=n(4),o=n(23),a=n(25),s=n(7)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];a&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(21),i=n(96),o=n(7)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},function(t,e,n){var r=n(106),i=n(98);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,n){var r=n(106),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(21),i=n(111);t.exports=n(4).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){var r=n(97),i=n(7)("iterator"),o=n(43);t.exports=n(4).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){"use strict";var r=n(40),i=n(22),o=n(57),a=n(159),s=n(158),u=n(107),c=n(288),l=n(111);i(i.S+i.F*!n(161)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,f,h=o(t),p="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,m=void 0!==v,y=0,g=l(h);if(m&&(v=r(v,d>2?arguments[2]:void 0,2)),void 0==g||p==Array&&s(g))for(e=u(h.length),n=new p(e);e>y;y++)c(n,y,m?v(h[y],y):h[y]);else for(f=g.call(h),n=new p;!(i=f.next()).done;y++)c(n,y,m?a(f,v,[i.value,y],!0):i.value);return n.length=y,n}})},function(t,e,n){"use strict";var r=n(285),i=n(294),o=n(43),a=n(26);t.exports=n(160)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(22);r(r.S+r.F,"Object",{assign:n(298)})},function(t,e,n){var r=n(22);r(r.S,"Object",{create:n(101)})},function(t,e,n){var r=n(22);r(r.S+r.F*!n(25),"Object",{defineProperty:n(23).f})},function(t,e,n){var r=n(26),i=n(102).f;n(73)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){n(73)("getOwnPropertyNames",function(){return n(162).f})},function(t,e,n){var r=n(57),i=n(164);n(73)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(57),i=n(44);n(73)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(22);r(r.S,"Object",{setPrototypeOf:n(301).set})},function(t,e,n){"use strict";var r,i,o,a=n(71),s=n(10),u=n(40),c=n(97),l=n(22),f=n(42),h=n(96),p=n(286),d=n(290),v=n(303),m=n(167).set,y=n(297)(),g=s.TypeError,b=s.process,_=s.Promise,b=s.process,w="process"==c(b),$=function(){},x=!!function(){try{var t=_.resolve(1),e=(t.constructor={})[n(7)("species")]=function(t){t($,$)};return(w||"function"==typeof PromiseRejectionEvent)&&t.then($)instanceof e}catch(t){}}(),E=function(t,e){return t===e||t===_&&e===o},k=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},S=function(t){return E(_,t)?new O(t):new i(t)},O=i=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw g("Bad Promise constructor");e=t,n=r}),this.resolve=h(e),this.reject=h(n)},A=function(t){try{t()}catch(t){return{error:t}}},j=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,i=1==t._s,o=0;n.length>o;)!function(e){var n,o,a=i?e.ok:e.fail,s=e.resolve,u=e.reject,c=e.domain;try{a?(i||(2==t._h&&P(t),t._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===e.promise?u(g("Promise-chain cycle")):(o=k(n))?o.call(n,s,u):s(n)):u(r)}catch(t){u(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&C(t)})}},C=function(t){m.call(s,function(){var e,n,r,i=t._v;if(T(t)&&(e=A(function(){w?b.emit("unhandledRejection",i,t):(n=s.onunhandledrejection)?n({promise:t,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=w||T(t)?2:1),t._a=void 0,e)throw e.error})},T=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if(e=n[r++],e.fail||!T(e.promise))return!1;return!0},P=function(t){m.call(s,function(){var e;w?b.emit("rejectionHandled",t):(e=s.onrejectionhandled)&&e({promise:t,reason:t._v})})},M=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),j(e,!0))},D=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw g("Promise can't be resolved itself");(e=k(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,u(D,r,1),u(M,r,1))}catch(t){M.call(r,t)}}):(n._v=t,n._s=1,j(n,!1))}catch(t){M.call({_w:n,_d:!1},t)}}};x||(_=function(t){p(this,_,"Promise","_h"),h(t),r.call(this);try{t(u(D,this,1),u(M,this,1))}catch(t){M.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(300)(_.prototype,{then:function(t,e){var n=S(v(this,_));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=w?b.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&j(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),O=function(){var t=new r;this.promise=t,this.resolve=u(D,t,1),this.reject=u(M,t,1)}),l(l.G+l.W+l.F*!x,{Promise:_}),n(74)(_,"Promise"),n(302)("Promise"),o=n(4).Promise,l(l.S+l.F*!x,"Promise",{reject:function(t){var e=S(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(a||!x),"Promise",{resolve:function(t){if(t instanceof _&&E(t.constructor,this))return t;var e=S(this);return(0,e.resolve)(t),e.promise}}),l(l.S+l.F*!(x&&n(161)(function(t){_.all(t).catch($)})),"Promise",{all:function(t){var e=this,n=S(e),r=n.resolve,i=n.reject,o=A(function(){var n=[],o=0,a=1;d(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o&&i(o.error),n.promise},race:function(t){var e=this,n=S(e),r=n.reject,i=A(function(){d(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},function(t,e,n){"use strict";var r=n(10),i=n(33),o=n(25),a=n(22),s=n(166),u=n(296).KEY,c=n(41),l=n(105),f=n(74),h=n(75),p=n(7),d=n(110),v=n(109),m=n(295),y=n(289),g=n(292),b=n(21),_=n(26),w=n(108),$=n(56),x=n(101),E=n(162),k=n(102),S=n(23),O=n(44),A=k.f,j=S.f,C=E.f,T=r.Symbol,P=r.JSON,M=P&&P.stringify,D=p("_hidden"),R=p("toPrimitive"),I={}.propertyIsEnumerable,N=l("symbol-registry"),L=l("symbols"),B=l("op-symbols"),F=Object.prototype,q="function"==typeof T,U=r.QObject,V=!U||!U.prototype||!U.prototype.findChild,z=o&&c(function(){return 7!=x(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=A(F,e);r&&delete F[e],j(t,e,n),r&&t!==F&&j(F,e,r)}:j,H=function(t){var e=L[t]=x(T.prototype);return e._k=t,e},G=q&&"symbol"==typeof T.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof T},W=function(t,e,n){return t===F&&W(B,e,n),b(t),e=w(e,!0),b(n),i(L,e)?(n.enumerable?(i(t,D)&&t[D][e]&&(t[D][e]=!1),n=x(n,{enumerable:$(0,!1)})):(i(t,D)||j(t,D,$(1,{})),t[D][e]=!0),z(t,e,n)):j(t,e,n)},K=function(t,e){b(t);for(var n,r=y(e=_(e)),i=0,o=r.length;o>i;)W(t,n=r[i++],e[n]);return t},J=function(t,e){return void 0===e?x(t):K(x(t),e)},Y=function(t){var e=I.call(this,t=w(t,!0));return!(this===F&&i(L,t)&&!i(B,t))&&(!(e||!i(this,t)||!i(L,t)||i(this,D)&&this[D][t])||e)},Q=function(t,e){if(t=_(t),e=w(e,!0),t!==F||!i(L,e)||i(B,e)){var n=A(t,e);return!n||!i(L,e)||i(t,D)&&t[D][e]||(n.enumerable=!0),n}},X=function(t){for(var e,n=C(_(t)),r=[],o=0;n.length>o;)i(L,e=n[o++])||e==D||e==u||r.push(e);return r},Z=function(t){for(var e,n=t===F,r=C(n?B:_(t)),o=[],a=0;r.length>a;)!i(L,e=r[a++])||n&&!i(F,e)||o.push(L[e]);return o};q||(T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===F&&e.call(B,n),i(this,D)&&i(this[D],t)&&(this[D][t]=!1),z(this,t,$(1,n))};return o&&V&&z(F,t,{configurable:!0,set:e}),H(t)},s(T.prototype,"toString",function(){return this._k}),k.f=Q,S.f=W,n(163).f=E.f=X,n(72).f=Y,n(103).f=Z,o&&!n(71)&&s(F,"propertyIsEnumerable",Y,!0),d.f=function(t){return H(p(t))}),a(a.G+a.W+a.F*!q,{Symbol:T});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)p(tt[et++]);for(var tt=O(p.store),et=0;tt.length>et;)v(tt[et++]);a(a.S+a.F*!q,"Symbol",{for:function(t){return i(N,t+="")?N[t]:N[t]=T(t)},keyFor:function(t){if(G(t))return m(N,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!q,"Object",{create:J,defineProperty:W,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:X,getOwnPropertySymbols:Z}),P&&a(a.S+a.F*(!q||c(function(){var t=T();return"[null]"!=M([t])||"{}"!=M({a:t})||"{}"!=M(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!G(t)){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);return e=r[1],"function"==typeof e&&(n=e),!n&&g(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!G(e))return e}),r[1]=e,M.apply(P,r)}}}),T.prototype[R]||n(34)(T.prototype,R,T.prototype.valueOf),f(T,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){n(109)("asyncIterator")},function(t,e,n){n(109)("observable")},function(t,e,n){!function(r,i,o){t.exports=e=i(n(27),n(324),n(328),n(326),n(323))}(0,function(t){return function(){var e=t,n=e.lib,r=n.BlockCipher,i=e.algo,o=[],a=[],s=[],u=[],c=[],l=[],f=[],h=[],p=[],d=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var n=0,r=0,e=0;e<256;e++){var i=r^r<<1^r<<2^r<<3^r<<4;i=i>>>8^255&i^99,o[n]=i,a[i]=n;var v=t[n],m=t[v],y=t[m],g=257*t[i]^16843008*i;s[n]=g<<24|g>>>8,u[n]=g<<16|g>>>16,c[n]=g<<8|g>>>24,l[n]=g;var g=16843009*y^65537*m^257*v^16843008*n;f[i]=g<<24|g>>>8,h[i]=g<<16|g>>>16,p[i]=g<<8|g>>>24,d[i]=g,n?(n=v^t[t[t[y^v]]],r^=t[t[r]]):n=r=1}}();var v=[0,1,2,4,8,16,32,64,128,27,54],m=i.AES=r.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,r=this._nRounds=n+6,i=4*(r+1),a=this._keySchedule=[],s=0;s<i;s++)if(s<n)a[s]=e[s];else{var u=a[s-1];s%n?n>6&&s%n==4&&(u=o[u>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u]):(u=u<<8|u>>>24,u=o[u>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u],u^=v[s/n|0]<<24),a[s]=a[s-n]^u}for(var c=this._invKeySchedule=[],l=0;l<i;l++){var s=i-l;if(l%4)var u=a[s];else var u=a[s-4];c[l]=l<4||s<=4?u:f[o[u>>>24]]^h[o[u>>>16&255]]^p[o[u>>>8&255]]^d[o[255&u]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,u,c,l,o)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,f,h,p,d,a);var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,i,o,a,s){for(var u=this._nRounds,c=t[e]^n[0],l=t[e+1]^n[1],f=t[e+2]^n[2],h=t[e+3]^n[3],p=4,d=1;d<u;d++){var v=r[c>>>24]^i[l>>>16&255]^o[f>>>8&255]^a[255&h]^n[p++],m=r[l>>>24]^i[f>>>16&255]^o[h>>>8&255]^a[255&c]^n[p++],y=r[f>>>24]^i[h>>>16&255]^o[c>>>8&255]^a[255&l]^n[p++],g=r[h>>>24]^i[c>>>16&255]^o[l>>>8&255]^a[255&f]^n[p++];c=v,l=m,f=y,h=g}var v=(s[c>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&h])^n[p++],m=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[h>>>8&255]<<8|s[255&c])^n[p++],y=(s[f>>>24]<<24|s[h>>>16&255]<<16|s[c>>>8&255]<<8|s[255&l])^n[p++],g=(s[h>>>24]<<24|s[c>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^n[p++];t[e]=v,t[e+1]=m,t[e+2]=y,t[e+3]=g},keySize:8});e.AES=r._createHelper(m)}(),t.AES})},function(t,e,n){!function(r,i){t.exports=e=i(n(27))}(0,function(t){t.lib.Cipher||function(e){var n=t,r=n.lib,i=r.Base,o=r.WordArray,a=r.BufferedBlockAlgorithm,s=n.enc,u=(s.Utf8,s.Base64),c=n.algo,l=c.EvpKDF,f=r.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?x:_}return function(e){return{encrypt:function(n,r,i){return t(r).encrypt(e,n,r,i)},decrypt:function(n,r,i){return t(r).decrypt(e,n,r,i)}}}}()}),h=(r.StreamCipher=f.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),n.mode={}),p=r.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),d=h.CBC=function(){function t(t,n,r){var i=this._iv;if(i){var o=i;this._iv=e}else var o=this._prevBlock;for(var a=0;a<r;a++)t[n+a]^=o[a]}var n=p.extend();return n.Encryptor=n.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+i)}}),n.Decryptor=n.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);r.decryptBlock(e,n),t.call(this,e,n,i),this._prevBlock=o}}),n}(),v=n.pad={},m=v.Pkcs7={pad:function(t,e){for(var n=4*e,r=n-t.sigBytes%n,i=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(i);var u=o.create(a,r);t.concat(u)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},y=(r.BlockCipher=f.extend({cfg:f.cfg.extend({mode:d,padding:m}),reset:function(){f.reset.call(this);var t=this.cfg,e=t.iv,n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else{var r=n.createDecryptor;this._minBufferSize=1}this._mode=r.call(n,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else{var e=this._process(!0);t.unpad(e)}return e},blockSize:4}),r.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),g=n.format={},b=g.OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;if(n)var r=o.create([1398893684,1701076831]).concat(n).concat(e);else var r=e;return r.toString(u)},parse:function(t){var e=u.parse(t),n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var r=o.create(n.slice(2,4));n.splice(0,4),e.sigBytes-=16}return y.create({ciphertext:e,salt:r})}},_=r.SerializableCipher=i.extend({cfg:i.extend({format:b}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var i=t.createEncryptor(n,r),o=i.finalize(e),a=i.cfg;return y.create({ciphertext:o,key:n,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(n,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),w=n.kdf={},$=w.OpenSSL={execute:function(t,e,n,r){r||(r=o.random(8));var i=l.create({keySize:e+n}).compute(t,r),a=o.create(i.words.slice(e),4*n);return i.sigBytes=4*e,y.create({key:i,iv:a,salt:r})}},x=r.PasswordBasedCipher=_.extend({cfg:_.cfg.extend({kdf:$}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var i=r.kdf.execute(n,t.keySize,t.ivSize);r.iv=i.iv;var o=_.encrypt.call(this,t,e,i.key,r);return o.mixIn(i),o},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var i=r.kdf.execute(n,t.keySize,t.ivSize,e.salt);return r.iv=i.iv,_.decrypt.call(this,t,e,i.key,r)}})}()})},function(t,e,n){!function(r,i){t.exports=e=i(n(27))}(0,function(t){return function(){function e(t,e,n){for(var r=[],o=0,a=0;a<e;a++)if(a%4){var s=n[t.charCodeAt(a-1)]<<a%4*2,u=n[t.charCodeAt(a)]>>>6-a%4*2;r[o>>>2]|=(s|u)<<24-o%4*8,o++}return i.create(r,o)}var n=t,r=n.lib,i=r.WordArray,o=n.enc;o.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=e[o>>>2]>>>24-o%4*8&255,s=e[o+1>>>2]>>>24-(o+1)%4*8&255,u=e[o+2>>>2]>>>24-(o+2)%4*8&255,c=a<<16|s<<8|u,l=0;l<4&&o+.75*l<n;l++)i.push(r.charAt(c>>>6*(3-l)&63));var f=r.charAt(64);if(f)for(;i.length%4;)i.push(f);return i.join("")},parse:function(t){var n=t.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var a=r.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(n=s)}return e(t,n,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),t.enc.Base64})},function(t,e,n){!function(r,i){t.exports=e=i(n(27))}(0,function(t){return t.enc.Utf8})},function(t,e,n){!function(r,i,o){t.exports=e=i(n(27),n(329),n(327))}(0,function(t){return function(){var e=t,n=e.lib,r=n.Base,i=n.WordArray,o=e.algo,a=o.MD5,s=o.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=n.hasher.create(),o=i.create(),a=o.words,s=n.keySize,u=n.iterations;a.length<s;){c&&r.update(c);var c=r.update(t).finalize(e);r.reset();for(var l=1;l<u;l++)c=r.finalize(c),r.reset();o.concat(c)}return o.sigBytes=4*s,o}});e.EvpKDF=function(t,e,n){return s.create(n).compute(t,e)}}(),t.EvpKDF})},function(t,e,n){!function(r,i){t.exports=e=i(n(27))}(0,function(t){!function(){var e=t,n=e.lib,r=n.Base,i=e.enc,o=i.Utf8,a=e.algo;a.HMAC=r.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=o.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),a=this._iKey=e.clone(),s=i.words,u=a.words,c=0;c<n;c++)s[c]^=1549556828,u[c]^=909522486;i.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})}()})},function(t,e,n){!function(r,i){t.exports=e=i(n(27))}(0,function(t){return function(e){function n(t,e,n,r,i,o,a){var s=t+(e&n|~e&r)+i+a;return(s<<o|s>>>32-o)+e}function r(t,e,n,r,i,o,a){var s=t+(e&r|n&~r)+i+a;return(s<<o|s>>>32-o)+e}function i(t,e,n,r,i,o,a){var s=t+(e^n^r)+i+a;return(s<<o|s>>>32-o)+e}function o(t,e,n,r,i,o,a){var s=t+(n^(e|~r))+i+a;return(s<<o|s>>>32-o)+e}var a=t,s=a.lib,u=s.WordArray,c=s.Hasher,l=a.algo,f=[];!function(){for(var t=0;t<64;t++)f[t]=4294967296*e.abs(e.sin(t+1))|0}();var h=l.MD5=c.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var a=0;a<16;a++){var s=e+a,u=t[s];t[s]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var c=this._hash.words,l=t[e+0],h=t[e+1],p=t[e+2],d=t[e+3],v=t[e+4],m=t[e+5],y=t[e+6],g=t[e+7],b=t[e+8],_=t[e+9],w=t[e+10],$=t[e+11],x=t[e+12],E=t[e+13],k=t[e+14],S=t[e+15],O=c[0],A=c[1],j=c[2],C=c[3];O=n(O,A,j,C,l,7,f[0]),C=n(C,O,A,j,h,12,f[1]),j=n(j,C,O,A,p,17,f[2]),A=n(A,j,C,O,d,22,f[3]),O=n(O,A,j,C,v,7,f[4]),C=n(C,O,A,j,m,12,f[5]),j=n(j,C,O,A,y,17,f[6]),A=n(A,j,C,O,g,22,f[7]),O=n(O,A,j,C,b,7,f[8]),C=n(C,O,A,j,_,12,f[9]),j=n(j,C,O,A,w,17,f[10]),A=n(A,j,C,O,$,22,f[11]),O=n(O,A,j,C,x,7,f[12]),C=n(C,O,A,j,E,12,f[13]),j=n(j,C,O,A,k,17,f[14]),A=n(A,j,C,O,S,22,f[15]),O=r(O,A,j,C,h,5,f[16]),C=r(C,O,A,j,y,9,f[17]),j=r(j,C,O,A,$,14,f[18]),A=r(A,j,C,O,l,20,f[19]),O=r(O,A,j,C,m,5,f[20]),C=r(C,O,A,j,w,9,f[21]),j=r(j,C,O,A,S,14,f[22]),A=r(A,j,C,O,v,20,f[23]),O=r(O,A,j,C,_,5,f[24]),C=r(C,O,A,j,k,9,f[25]),j=r(j,C,O,A,d,14,f[26]),A=r(A,j,C,O,b,20,f[27]),O=r(O,A,j,C,E,5,f[28]),C=r(C,O,A,j,p,9,f[29]),j=r(j,C,O,A,g,14,f[30]),A=r(A,j,C,O,x,20,f[31]),O=i(O,A,j,C,m,4,f[32]),C=i(C,O,A,j,b,11,f[33]),j=i(j,C,O,A,$,16,f[34]),A=i(A,j,C,O,k,23,f[35]),O=i(O,A,j,C,h,4,f[36]),C=i(C,O,A,j,v,11,f[37]),j=i(j,C,O,A,g,16,f[38]),A=i(A,j,C,O,w,23,f[39]),O=i(O,A,j,C,E,4,f[40]),C=i(C,O,A,j,l,11,f[41]),j=i(j,C,O,A,d,16,f[42]),A=i(A,j,C,O,y,23,f[43]),O=i(O,A,j,C,_,4,f[44]),C=i(C,O,A,j,x,11,f[45]),j=i(j,C,O,A,S,16,f[46]),A=i(A,j,C,O,p,23,f[47]),O=o(O,A,j,C,l,6,f[48]),C=o(C,O,A,j,g,10,f[49]),j=o(j,C,O,A,k,15,f[50]),A=o(A,j,C,O,m,21,f[51]),O=o(O,A,j,C,x,6,f[52]),C=o(C,O,A,j,d,10,f[53]),j=o(j,C,O,A,w,15,f[54]),A=o(A,j,C,O,h,21,f[55]),O=o(O,A,j,C,b,6,f[56]),C=o(C,O,A,j,S,10,f[57]),j=o(j,C,O,A,y,15,f[58]),A=o(A,j,C,O,E,21,f[59]),O=o(O,A,j,C,v,6,f[60]),C=o(C,O,A,j,$,10,f[61]),j=o(j,C,O,A,p,15,f[62]),A=o(A,j,C,O,_,21,f[63]),c[0]=c[0]+O|0,c[1]=c[1]+A|0,c[2]=c[2]+j|0,c[3]=c[3]+C|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,u=s.words,c=0;c<4;c++){var l=u[c];u[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var t=c.clone.call(this);return t._hash=this._hash.clone(),t}});a.MD5=c._createHelper(h),a.HmacMD5=c._createHmacHelper(h)}(Math),t.MD5})},function(t,e,n){!function(r,i){t.exports=e=i(n(27))}(0,function(t){return function(){var e=t,n=e.lib,r=n.WordArray,i=n.Hasher,o=e.algo,a=[],s=o.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],u=n[4],c=0;c<80;c++){if(c<16)a[c]=0|t[e+c];else{var l=a[c-3]^a[c-8]^a[c-14]^a[c-16];a[c]=l<<1|l>>>31}var f=(r<<5|r>>>27)+u+a[c];f+=c<20?1518500249+(i&o|~i&s):c<40?1859775393+(i^o^s):c<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,u=s,s=o,o=i<<30|i>>>2,i=r,r=f}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA1=i._createHelper(s),e.HmacSHA1=i._createHmacHelper(s)}(),t.SHA1})},function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();e=t.exports=i?n:r,e.supported=n,e.unsupported=r},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}e=t.exports="function"==typeof Object.keys?Object.keys:n,e.shim=n},function(t,e,n){(function(t){function n(){}var r;n.prototype.addProbe=function(t){var e={fire:function(){}};return this[t]=e,e},n.prototype.enable=function(){},n.prototype.fire=function(){},n.prototype.disable=function(){};var i=["Release","default","Debug"];for(var o in i)try{r=(!function(){var t=new Error('Cannot find module "./build"');throw t.code="MODULE_NOT_FOUND",t}()).DTraceProvider;break}catch(e){"darwin"!=t.platform&&"sunos"!=t.platform&&"freebsd"!=t.platform||console.error(e)}r||(r=n),e.DTraceProvider=r,e.createDTraceProvider=function(t,n){return 2==arguments.length?new e.DTraceProvider(t,n):new e.DTraceProvider(t)}}).call(e,n(3))},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){var r=n(67),i=/[\{\[]/,o=/[\}\]]/;t.exports=function(){var t=[],e=0,n=function(n){for(var r="";r.length<2*e;)r+="  ";t.push(r+n)},a=function(t){return t?o.test(t.trim()[0])&&i.test(t[t.length-1])?(e--,n(r.format.apply(r,arguments)),e++,a):i.test(t[t.length-1])?(n(r.format.apply(r,arguments)),e++,a):o.test(t.trim()[0])?(e--,n(r.format.apply(r,arguments)),a):(n(r.format.apply(r,arguments)),a):a};return a.toString=function(){return t.join("\n")},a.toFunction=function(t){var e="return ("+a.toString()+")",n=Object.keys(t||{}).map(function(t){return t}),r=n.map(function(e){return t[e]});return Function.apply(null,n.concat(e)).apply(null,r)},arguments.length&&a.apply(null,arguments),a}},function(t,e,n){var r=n(353),i=function(t,e){return r(e)?t+"."+e:t+"["+JSON.stringify(e)+"]"};i.valid=r,i.property=function(t){return r(t)?t:JSON.stringify(t)},t.exports=i},function(t,e,n){(function(e){function r(t,e){if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new i(t,e).found}function i(t,e){if(!t)throw new Error("must provide pattern");if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof i))return new i(t,e);if(f(this,t,e),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}t.exports=r,r.GlobSync=i;var o=n(30),a=n(130),s=(a.Minimatch,n(173).Glob,n(67),n(24)),u=n(68),c=n(131),l=n(172),f=(l.alphasort,l.alphasorti,l.setopts),h=l.ownProp,p=l.childrenIgnored;i.prototype._finish=function(){if(u(this instanceof i),this.realpath){var t=this;this.matches.forEach(function(e,n){var r=t.matches[n]=Object.create(null);for(var i in e)try{i=t._makeAbs(i);var a=o.realpathSync(i,t.realpathCache);r[a]=!0}catch(e){if("stat"!==e.syscall)throw e;r[t._makeAbs(i)]=!0}})}l.finish(this)},i.prototype._process=function(t,e,n){u(this instanceof i);for(var r=0;"string"==typeof t[r];)r++;var o;switch(r){case t.length:return void this._processSimple(t.join("/"),e);case 0:o=null;break;default:o=t.slice(0,r).join("/")}var s,l=t.slice(r);null===o?s=".":c(o)||c(t.join("/"))?(o&&c(o)||(o="/"+o),s=o):s=o;var f=this._makeAbs(s);if(!p(this,s)){l[0]===a.GLOBSTAR?this._processGlobStar(o,s,f,l,e,n):this._processReaddir(o,s,f,l,e,n)}},i.prototype._processReaddir=function(t,e,n,r,i,o){var a=this._readdir(n,o);if(a){for(var u=r[0],c=!!this.minimatch.negate,l=u._glob,f=this.dot||"."===l.charAt(0),h=[],p=0;p<a.length;p++){var d=a[p];if("."!==d.charAt(0)||f){var v;v=c&&!t?!d.match(u):d.match(u),v&&h.push(d)}}var m=h.length;if(0!==m)if(1!==r.length||this.mark||this.stat){r.shift();for(var p=0;p<m;p++){var y,d=h[p];y=t?[t,d]:[d],this._process(y.concat(r),i,o)}}else{this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<m;p++){var d=h[p];t&&(d="/"!==t.slice(-1)?t+"/"+d:t+d),"/"!==d.charAt(0)||this.nomount||(d=s.join(this.root,d)),this.matches[i][d]=!0}}}},i.prototype._emitMatch=function(t,e){this._makeAbs(e);if(this.mark&&(e=this._mark(e)),!this.matches[t][e]){if(this.nodir){var n=this.cache[this._makeAbs(e)];if("DIR"===n||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}},i.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,n;try{n=o.lstatSync(t)}catch(t){return null}var r=n.isSymbolicLink();return this.symlinks[t]=r,r||n.isDirectory()?e=this._readdir(t,!1):this.cache[t]="FILE",e},i.prototype._readdir=function(t,e){if(e&&!h(this.symlinks,t))return this._readdirInGlobStar(t);if(h(this.cache,t)){var n=this.cache[t];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,o.readdirSync(t))}catch(e){return this._readdirError(t,e),null}},i.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var r=e[n];r="/"===t?t+r:t+"/"+r,this.cache[r]=!0}return this.cache[t]=e,e},i.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":this.cache[this._makeAbs(t)]="FILE";break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e)}},i.prototype._processGlobStar=function(t,e,n,r,i,o){var a=this._readdir(n,o);if(a){var s=r.slice(1),u=t?[t]:[],c=u.concat(s);this._process(c,i,!1);var l=a.length;if(!this.symlinks[n]||!o)for(var f=0;f<l;f++){var h=a[f];if("."!==h.charAt(0)||this.dot){var p=u.concat(a[f],s);this._process(p,i,!0);var d=u.concat(a[f],r);this._process(d,i,!0)}}}},i.prototype._processSimple=function(t,n){var r=this._stat(t);if(this.matches[n]||(this.matches[n]=Object.create(null)),r){if(t&&c(t)&&!this.nomount){var i=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=s.join(this.root,t):(t=s.resolve(this.root,t),i&&(t+="/"))}"win32"===e.platform&&(t=t.replace(/\\/g,"/")),this.matches[n][t]=!0}},i.prototype._stat=function(t){var e=this._makeAbs(t),n="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&h(this.cache,e)){var r=this.cache[e];if(Array.isArray(r)&&(r="DIR"),!n||"DIR"===r)return r;if(n&&"FILE"===r)return!1}var i=this.statCache[e];if(!i){var a;try{a=o.lstatSync(e)}catch(t){return!1}if(a.isSymbolicLink())try{i=o.statSync(e)}catch(t){i=a}else i=a}this.statCache[e]=i;var r=i.isDirectory()?"DIR":"FILE";return this.cache[e]=this.cache[e]||r,(!n||"DIR"===r)&&r},i.prototype._mark=function(t){return l.mark(this,t)},i.prototype._makeAbs=function(t){return l.makeAbs(this,t)}}).call(e,n(3))},function(t,e,n){function r(t){if(t)return a}var i=n(575),o=["password","pass","token","auth","secret","passphrase","card"],a="[SECRET]";t.exports=function(t,e){return e=e||{},e.badWords=e.badWords||o,i(t).map(function(t){for(var n,i=0;void 0!==(n=this.path[i]);i++)if(~e.badWords.indexOf(n)&&"string"==typeof t)return r(t)})}},function(t,e){t.exports='<form id="customer_details_form"><div class="panel-body container-fluid"><div class="form-group form-inline row"><label class="col-md-5 text-right" for="id">{{model.id.label}}</label><input class="form-control disabled col-md-7" id="id" type="text" disabled="disabled" ng-model="model.id.content"/></div><div class="form-group form-inline row"><label class="col-md-5 text-right" for="first_name">{{model.first_name.label}}</label><input class="form-control col-md-7" id="first-name" type="text" placeholder="John" ng-model="model.first_name.content" ng-class="{danger: model.first_name.valid === false}"/></div><div class="form-group form-inline row"><label class="col-md-5 text-right" for="last_name">{{model.last_name.label}}</label><input class="form-control col-md-7" id="last-name" type="text" placeholder="Doe" ng-model="model.last_name.content" ng-class="{danger: model.last_name.valid === false}"/></div><div class="form-group form-inline row"><label class="col-md-5 text-right" for="birthday">{{model.age.label}}</label><input class="form-control col-md-7" id="birthday" type="date" placeholder="1981-07-05" ng-model="model.age.content" ng-class="{danger: model.age.valid === false}"/></div><div class="form-group form-inline row"><label class="col-md-5 text-right" for="gender">{{model.gender.label}}</label><select class="form-control col-md-7" name="gender" ng-model="model.gender.content" ng-options="o for o in [\'m\', \'w\']" ng-class="{danger: model.gender.valid === false}"></select></div><div class="form-group form-inline row"><label class="col-md-5 text-right" for="last_contact">{{model.last_contact.label}}</label><input class="form-control col-md-7" id="last_contact" type="date" placeholder="2000-01-01" ng-model="model.last_contact.content" ng-class="{danger: model.last_contact.valid === false}"/></div><div class="form-group form-inline row"><label class="col-md-5 text-right" for="customer_lifetime_value">{{model.customer_lifetime_value.label}}</label><input class="form-control col-md-7" id="customer_lifetime_value" type="text" placeholder="100.50" ng-model="model.customer_lifetime_value.content" ng-class="{danger: model.customer_lifetime_value.valid === false}"/></div></div><div class="panel-footer"><label class="btn btn-success" id="save">Save</label><span class="spacer-10">&nbsp;</span><label class="btn btn-danger" id="cancel">Cancel</label></div></form>'},function(t,e){t.exports='<table class="table table-striped table-hover" id="overview-table"><thead><tr><th><span class="glyphicon" aria-hidden="true" ng-class="{ASC:\'glyphicon-sort-by-alphabet\', DESC:\'glyphicon-sort-by-alphabet-alt\', DEFAULT:\'glyphicon-sort\'}[tableHeaders.first_name.sorting]"></span><span>{{tableHeaders.first_name.name}}</span></th><th><span class="glyphicon" aria-hidden="true" ng-class="{ASC:\'glyphicon-sort-by-alphabet\', DESC:\'glyphicon-sort-by-alphabet-alt\', DEFAULT:\'glyphicon-sort\'}[tableHeaders.last_name.sorting]"></span><span>{{tableHeaders.last_name.name}}</span></th><th>{{tableHeaders.age.name}}</th><th>{{tableHeaders.gender.name}}</th></tr></thead><tbody><tr ng-repeat="dataset in model | orderBy:orderByName" ng-class="{danger: dataset.active}" data-index="{{dataset.id}}"><td>{{dataset.first_name}}</td><td>{{dataset.last_name}}</td><td>{{dataset.age}}</td><td>{{dataset.gender}}</td></tr></tbody></table>'},function(t,e){t.exports='<table class="table table-striped table-hover" id="navi-data--table"><thead><tr><th><span class="glyphicon" aria-hidden="true" ng-class="{ASC:\'glyphicon-sort-by-alphabet\', DESC:\'glyphicon-sort-by-alphabet-alt\', DEFAULT:\'glyphicon-sort\'}[tableHeaders.page.sorting]"></span><span>{{tableHeaders.page.name}}</span></th><th><span class="glyphicon" aria-hidden="true" ng-class="{ASC:\'glyphicon-sort-by-order\', DESC:\'glyphicon-sort-by-order-alt\', DEFAULT:\'glyphicon-sort\'}[tableHeaders.timestamp.sorting]"></span><span>{{tableHeaders.timestamp.name}}</span></th></tr></thead><tbody><tr ng-repeat="dataset in model | orderBy:orderByActiveHeader"><td>{{dataset.pages}}</td><td>{{dataset.timestamp}}</td></tr></tbody></table>'},function(t,e){t.exports='<header class="page-header row"><div class="col-md-3">&nbsp;</div><div class="col-md-6"><h1 id="details-header">{{heading}}</h1></div><div class="col-md-3">&nbsp;</div></header><div class="row"><div class="col-md-3">&nbsp;</div><customer-form class="panel panel-primary col-md-6" model="{{model}}"></customer-form><div class="col-md-3">&nbsp;</div></div>'},function(t,e){t.exports='<header class="page-header row"><div class="col-md-3">&nbsp;</div><div class="col-md-6"><h1 id="navigation-header">Navigation Data for {{customer}}</h1></div><div class="col-md-3">&nbsp;</div></header><div class="row"><div class="col-md-3">&nbsp;</div><article class="panel panel-primary col-md-6"><navi-data class="panel-body" model="{{model}}"></navi-data><div class="panel-footer"><label class="btn btn-default" ng-click="$goToOverview()">Back To Overview</label></div></article><div class="col-md-3">&nbsp;</div></div>'},function(t,e){t.exports='<header class="page-header row"><div class="col-md-3">&nbsp;</div><div class="col-md-6"><h1 id="overview-header">Customer Overview</h1></div><div class="col-md-3">&nbsp;</div></header><div class="row"><div class="col-md-3">&nbsp;</div><article class="panel panel-primary col-md-6"><div class="panel-heading"><label class="btn btn-default" ng-click="$goToAddCustomer()">Add New Customer</label><div class="pull-right"><div class="btn-group" role="group"><label class="btn btn-default" ng-click="$goToEditCustomer()" ng-disabled="$selection()">Edit</label><label class="btn btn-danger" ng-click="$deleteActiveCustomer()" ng-disabled="$selection()">Delete</label></div><span class="spacer-10">&nbsp;</span><label class="btn btn-default" ng-click="$goToNaviData()" ng-disabled="$selection()">Navi</label></div></div><customers class="panel-body" model="{{model}}"></customers></article><div class="col-md-3">&nbsp;</div></div>'},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?h/u:h*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*v}},function(t,e,n){(function(e){function r(t,e){return s[t]?(s[t].push(e),null):(s[t]=[e],i(t))}function i(t){return u(function n(){var r=s[t],i=r.length,a=o(arguments);try{for(var u=0;u<i;u++)r[u].apply(null,a)}finally{r.length>i?(r.splice(0,i),e.nextTick(function(){n.apply(null,a)})):delete s[t]}})}function o(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r]=t[r];return n}var a=n(233),s=Object.create(null),u=n(203);t.exports=a(r)}).call(e,n(3))},function(t,e){e["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(\.\d+)?([zZ]|[+-]\d{2}:\d{2})$/,e.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,e.time=/^\d{2}:\d{2}:\d{2}$/,e.email=/^\S+@\S+$/,e["ip-address"]=e.ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,e.ipv6=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,e.uri=/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,e.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,e.hostname=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9]))*$/,e.alpha=/^[a-zA-Z]+$/,e.alphanumeric=/^[a-zA-Z0-9]+$/,e.style=/\s*(.+?):\s*([^;]+);?/g,e.phone=/^\+(?:[0-9] ?){6,14}[0-9]$/,e["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/},function(t,e,n){var r=n(339),i=n(338),o=n(354),a=n(352),s=n(350),u=function(t,e,n){var r=function(t){return t&&t.id===n?t:"object"==typeof t&&t?Object.keys(t).reduce(function(e,n){return e||r(t[n])},null):null},i=r(t);if(i)return i;n=n.replace(/^#/,""),n=n.replace(/\/$/,"");try{return o.get(t,decodeURI(n))}catch(t){var a,s=n.indexOf("#");if(0!==s)if(-1===s)a=e[n];else{var u=n.slice(0,s);a=e[u];var c=n.slice(s).replace(/^#/,"");try{return o.get(a,c)}catch(t){}}else a=e[n];return a||null}},c=function(t){t=JSON.stringify(t);for(var e=/\[([^\[\]"]+)\]/;e.test(t);)t=t.replace(e,'."+$1+"');return t},l={};l.any=function(){return"true"},l.null=function(t){return t+" === null"},l.boolean=function(t){return"typeof "+t+' === "boolean"'},l.array=function(t){return"Array.isArray("+t+")"},l.object=function(t){return"typeof "+t+' === "object" && '+t+" && !Array.isArray("+t+")"},l.number=function(t){return"typeof "+t+' === "number"'},l.integer=function(t){return"typeof "+t+' === "number" && (Math.floor('+t+") === "+t+" || "+t+" > 9007199254740992 || "+t+" < -9007199254740992)"},l.string=function(t){return"typeof "+t+' === "string"'};var f=function(t){for(var e=[],n=0;n<t.length;n++)e.push("object"==typeof t[n]?JSON.stringify(t[n]):t[n]);for(var n=1;n<e.length;n++)if(e.indexOf(e[n])!==n)return!1;return!0},h=function(t,e){var n,r=(0|e)!==e?Math.pow(10,e.toString().split(".").pop().length):1;if(r>1){n=((0|t)!==t?Math.pow(10,t.toString().split(".").pop().length):1)>r||Math.round(r*t)%(r*e)}else n=t%e;return!n},p=function(t,e,n,o,d){var v=d?a(s,d.formats):s,m={unique:f,formats:v,isMultipleOf:h},y=!!d&&!!d.verbose,g=!(!d||void 0===d.greedy)&&d.greedy,b={},_=function(t){return t+(b[t]=(b[t]||0)+1)},w={},$=function(t){if(w[t])return w[t];var e=_("pattern");return m[e]=new RegExp(t),w[t]=e,e},x=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],E=function(){var t=x.shift();return x.push(t+t[0]),t},k=function(t,i,o,a){var f=i.properties,h=i.type,b=!1;Array.isArray(i.items)&&(f={},i.items.forEach(function(t,e){f[e]=t}),h="array",b=!0);var w=0,x=function(e,n,r){S("errors++"),!0===o&&(S("if (validate.errors === null) validate.errors = []"),y?S("validate.errors.push({field:%s,message:%s,value:%s,type:%s})",c(n||t),JSON.stringify(e),r||t,JSON.stringify(h)):S("validate.errors.push({field:%s,message:%s})",c(n||t),JSON.stringify(e)))};!0===i.required?(w++,S("if (%s === undefined) {",t),x("is required"),S("} else {")):(w++,S("if (%s !== undefined) {",t));var O=[].concat(h).map(function(e){if(e&&!l.hasOwnProperty(e))throw new Error("Unknown type: "+e);return l[e||"any"](t)}).join(" || ")||"true";if("true"!==O&&(w++,S("if (!(%s)) {",O),x("is the wrong type"),S("} else {")),b)if(!1===i.additionalItems)S("if (%s.length > %d) {",t,i.items.length),x("has additional items"),S("}");else if(i.additionalItems){var A=E();S("for (var %s = %d; %s < %s.length; %s++) {",A,i.items.length,A,t,A),k(t+"["+A+"]",i.additionalItems,o,a),S("}")}if(i.format&&v[i.format]){"string"!==h&&s[i.format]&&S("if (%s) {",l.string(t));var j=_("format");m[j]=v[i.format],"function"==typeof m[j]?S("if (!%s(%s)) {",j,t):S("if (!%s.test(%s)) {",j,t),x("must be "+i.format+" format"),S("}"),"string"!==h&&s[i.format]&&S("}")}if(Array.isArray(i.required)){var C=function(e){var n=r(t,e);S("if (%s === undefined) {",n),x("is required",n),S("missing++"),S("}")};S("if ((%s)) {","object"!==h?l.object(t):"true"),S("var missing = 0"),i.required.map(C),S("}"),g||(S("if (missing === 0) {"),w++)}if(i.uniqueItems&&("array"!==h&&S("if (%s) {",l.array(t)),S("if (!(unique(%s))) {",t),x("must be unique"),S("}"),"array"!==h&&S("}")),i.enum){var T=i.enum.some(function(t){return"object"==typeof t}),P=T?function(e){return"JSON.stringify("+t+") !== JSON.stringify("+JSON.stringify(e)+")"}:function(e){return t+" !== "+JSON.stringify(e)};S("if (%s) {",i.enum.map(P).join(" && ")||"false"),x("must be an enum value"),S("}")}if(i.dependencies&&("object"!==h&&S("if (%s) {",l.object(t)),Object.keys(i.dependencies).forEach(function(e){var n=i.dependencies[e];"string"==typeof n&&(n=[n]);var s=function(e){return r(t,e)+" !== undefined"};Array.isArray(n)&&(S("if (%s !== undefined && !(%s)) {",r(t,e),n.map(s).join(" && ")||"true"),x("dependencies not set"),S("}")),"object"==typeof n&&(S("if (%s !== undefined) {",r(t,e)),k(t,n,o,a),S("}"))}),"object"!==h&&S("}")),i.additionalProperties||!1===i.additionalProperties){"object"!==h&&S("if (%s) {",l.object(t));var A=E(),M=_("keys"),D=function(t){return M+"["+A+"] !== "+JSON.stringify(t)},R=function(t){return"!"+$(t)+".test("+M+"["+A+"])"},I=Object.keys(f||{}).map(D).concat(Object.keys(i.patternProperties||{}).map(R)).join(" && ")||"true";S("var %s = Object.keys(%s)",M,t)("for (var %s = 0; %s < %s.length; %s++) {",A,A,M,A)("if (%s) {",I),!1===i.additionalProperties?(a&&S("delete %s",t+"["+M+"["+A+"]]"),x("has additional properties",null,JSON.stringify(t+".")+" + "+M+"["+A+"]")):k(t+"["+M+"["+A+"]]",i.additionalProperties,o,a),S("}")("}"),"object"!==h&&S("}")}if(i.$ref){var N=u(n,d&&d.schemas||{},i.$ref);if(N){var L=e[i.$ref];L||(e[i.$ref]=function(t){return L(t)},L=p(N,e,n,!1,d));var j=_("ref");m[j]=L,S("if (!(%s(%s))) {",j,t),x("referenced schema does not match"),S("}")}}if(i.not){var B=_("prev");S("var %s = errors",B),k(t,i.not,!1,a),S("if (%s === errors) {",B),x("negative schema matches"),S("} else {")("errors = %s",B)("}")}if(i.items&&!b){"array"!==h&&S("if (%s) {",l.array(t));var A=E();S("for (var %s = 0; %s < %s.length; %s++) {",A,A,t,A),k(t+"["+A+"]",i.items,o,a),S("}"),"array"!==h&&S("}")}if(i.patternProperties){"object"!==h&&S("if (%s) {",l.object(t));var M=_("keys"),A=E();S("var %s = Object.keys(%s)",M,t)("for (var %s = 0; %s < %s.length; %s++) {",A,A,M,A),Object.keys(i.patternProperties).forEach(function(e){var n=$(e);S("if (%s.test(%s)) {",n,M+"["+A+"]"),k(t+"["+M+"["+A+"]]",i.patternProperties[e],o,a),S("}")}),S("}"),"object"!==h&&S("}")}if(i.pattern){var F=$(i.pattern);"string"!==h&&S("if (%s) {",l.string(t)),S("if (!(%s.test(%s))) {",F,t),x("pattern mismatch"),S("}"),"string"!==h&&S("}")}if(i.allOf&&i.allOf.forEach(function(e){k(t,e,o,a)}),i.anyOf&&i.anyOf.length){var B=_("prev");i.anyOf.forEach(function(e,n){0===n?S("var %s = errors",B):S("if (errors !== %s) {",B)("errors = %s",B),k(t,e,!1,!1)}),i.anyOf.forEach(function(t,e){e&&S("}")}),S("if (%s !== errors) {",B),x("no schemas match"),S("}")}if(i.oneOf&&i.oneOf.length){var B=_("prev"),q=_("passes");S("var %s = errors",B)("var %s = 0",q),i.oneOf.forEach(function(e,n){k(t,e,!1,!1),S("if (%s === errors) {",B)("%s++",q)("} else {")("errors = %s",B)("}")}),S("if (%s !== 1) {",q),x("no (or more than one) schemas match"),S("}")}for(void 0!==i.multipleOf&&("number"!==h&&"integer"!==h&&S("if (%s) {",l.number(t)),S("if (!isMultipleOf(%s, %d)) {",t,i.multipleOf),x("has a remainder"),S("}"),"number"!==h&&"integer"!==h&&S("}")),void 0!==i.maxProperties&&("object"!==h&&S("if (%s) {",l.object(t)),S("if (Object.keys(%s).length > %d) {",t,i.maxProperties),x("has more properties than allowed"),S("}"),"object"!==h&&S("}")),void 0!==i.minProperties&&("object"!==h&&S("if (%s) {",l.object(t)),S("if (Object.keys(%s).length < %d) {",t,i.minProperties),x("has less properties than allowed"),S("}"),"object"!==h&&S("}")),void 0!==i.maxItems&&("array"!==h&&S("if (%s) {",l.array(t)),S("if (%s.length > %d) {",t,i.maxItems),x("has more items than allowed"),S("}"),"array"!==h&&S("}")),void 0!==i.minItems&&("array"!==h&&S("if (%s) {",l.array(t)),S("if (%s.length < %d) {",t,i.minItems),x("has less items than allowed"),S("}"),"array"!==h&&S("}")),void 0!==i.maxLength&&("string"!==h&&S("if (%s) {",l.string(t)),S("if (%s.length > %d) {",t,i.maxLength),x("has longer length than allowed"),S("}"),"string"!==h&&S("}")),void 0!==i.minLength&&("string"!==h&&S("if (%s) {",l.string(t)),S("if (%s.length < %d) {",t,i.minLength),x("has less length than allowed"),S("}"),"string"!==h&&S("}")),void 0!==i.minimum&&("number"!==h&&"integer"!==h&&S("if (%s) {",l.number(t)),S("if (%s %s %d) {",t,i.exclusiveMinimum?"<=":"<",i.minimum),x("is less than minimum"),S("}"),"number"!==h&&"integer"!==h&&S("}")),void 0!==i.maximum&&("number"!==h&&"integer"!==h&&S("if (%s) {",l.number(t)),S("if (%s %s %d) {",t,i.exclusiveMaximum?">=":">",i.maximum),x("is more than maximum"),S("}"),"number"!==h&&"integer"!==h&&S("}")),f&&Object.keys(f).forEach(function(e){Array.isArray(h)&&-1!==h.indexOf("null")&&S("if (%s !== null) {",t),k(r(t,e),f[e],o,a),Array.isArray(h)&&-1!==h.indexOf("null")&&S("}")});w--;)S("}")},S=i("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return k("data",t,o,d&&d.filter),S("return errors === 0")("}"),S=S.toFunction(m),S.errors=null,Object.defineProperty&&Object.defineProperty(S,"error",{get:function(){return S.errors?S.errors.map(function(t){return t.field+" "+t.message}).join("\n"):""}}),S.toJSON=function(){return t},S};t.exports=function(t,e){return"string"==typeof t&&(t=JSON.parse(t)),p(t,{},t,!0,e)},t.exports.filter=function(e,n){var r=t.exports(e,a(n,{filter:!0}));return function(t){return r(t),t}}},function(t,e){function n(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t}t.exports=n;var r=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";function r(t){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(t)}t.exports=r},function(t,e){function n(t){switch(t){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+t)}function r(t){return c.test(t)?t.replace(l,n):t}function i(t,e,n){for(var i,o,a=1,s=e.length;a<s&&(i=r(e[a++]),o=s>a,void 0===t[i]&&(Array.isArray(t)&&"-"===i&&(i=t.length),o&&(""!==e[a]&&e[a]<1/0||"-"===e[a]?t[i]=[]:t[i]={})),o);)t=t[i];var u=t[i];return void 0===n?delete t[i]:t[i]=n,u}function o(t){if("string"==typeof t){if(t=t.split("/"),""===t[0])return t;throw new Error("Invalid JSON pointer.")}if(Array.isArray(t))return t;throw new Error("Invalid JSON pointer.")}function a(t,e){if("object"!=typeof t)throw new Error("Invalid input object.");e=o(e);var n=e.length;if(1===n)return t;for(var i=1;i<n;){if(t=t[r(e[i++])],n===i)return t;if("object"!=typeof t)return}}function s(t,e,n){if("object"!=typeof t)throw new Error("Invalid input object.");if(e=o(e),0===e.length)throw new Error("Invalid JSON pointer for set.");return i(t,e,n)}function u(t){var e=o(t);return{get:function(t){return a(t,e)},set:function(t,n){return s(t,e,n)}}}var c=/~/,l=/~[01]/g;e.get=a,e.set=s,e.compile=u},function(t,e,n){var r;/**
 * @license Copyright 2015 Logentries.
 * Please view license at https://raw.github.com/logentries/le_js/master/LICENSE
 */
!function(i,o){void 0!==(r=function(){return o(i)}.call(e,n,e,t))&&(t.exports=r)}(this,function(t){"use strict";function e(e){var n,o=e.trace?(Math.random()+Math.PI).toString(36).substring(2,10):null,a=e.page_info,s=e.token,u=e.print,c=e.no_format,l=function(){return"undefined"==typeof XDomainRequest?e.ssl:"https:"===location.protocol}();n=t.LEENDPOINT?t.LEENDPOINT:c?"webhook.logentries.com/noformat":"js.logentries.com/v1",n=(l?"https://":"http://")+n+"/logs/"+s;var f=[],h=!1,p=!1;if(e.catchall){var d=t.onerror,v=function(t,e,n){return g({error:t,line:n,location:e}).level("ERROR").send(),!!d&&d(t,e,n)};t.onerror=v}var m=function(){var e=t.navigator||{doNotTrack:void 0},n=t.screen||{};return{url:(t.location||{}).pathname,referrer:document.referrer,screen:{width:n.width,height:n.height},window:{width:t.innerWidth,height:t.innerHeight},browser:{name:e.appName,user_agent:e.userAgent,version:e.appVersion,cookie_enabled:e.cookieEnabled,do_not_track:e.doNotTrack},platform:e.platform}},y=function(){var t=Array.prototype.slice.call(arguments);if(0===t.length)throw new Error("No arguments!");return 1===t.length?t[0]:t},g=function(t){var e=y.apply(this,arguments),n={event:e};return"never"!==a&&(p&&"per-entry"!==a||(p=!0,void 0===e.screen&&void 0===e.browser&&g(m()).level("PAGE").send())),o&&(n.trace=o),{level:function(t){if(u&&"undefined"!=typeof console&&"PAGE"!==t){var e=null;"undefined"!=typeof XDomainRequest&&(e=n.trace+" "+n.event);try{console[t.toLowerCase()].call(console,e||n)}catch(t){console.log(e||n)}}return n.level=t,{send:function(){var t=[],e=JSON.stringify(n,function(e,n){if(void 0===n)return"undefined";if("object"==typeof n&&null!==n){if(-1!==r(t,n))return"<?>";t.push(n)}return n});h?f.push(e):b(s,e)}}}}};this.log=g;var b=function(t,e){h=!0;var r=i();r.constructor===XMLHttpRequest?r.onreadystatechange=function(){4===r.readyState&&(r.status>=400?(console.error("Couldn't submit events."),410===r.status&&console.warn("This version of le_js is no longer supported!")):(301===r.status&&console.warn("This version of le_js is deprecated! Consider upgrading."),f.length>0?b(t,f.shift()):h=!1))}:r.onload=function(){f.length>0?b(t,f.shift()):h=!1},r.open("POST",n,!0),r.constructor===XMLHttpRequest&&(r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-type","application/json")),r.overrideMimeType&&r.overrideMimeType("text"),r.send(e)}}function n(t){var n,r={ssl:!0,catchall:!1,trace:!0,page_info:"never",print:!1,endpoint:null,token:null};if("object"!=typeof t)throw new Error("Invalid parameters for createLogStream()");for(var i in t)r[i]=t[i];if(null===r.token)throw new Error("Token not present.");n=new e(r);var o=function(t){if(n)return n.log.apply(this,arguments);throw new Error("You must call LE.init(...) first.")};return{log:function(){o.apply(this,arguments).level("LOG").send()},warn:function(){o.apply(this,arguments).level("WARN").send()},error:function(){o.apply(this,arguments).level("ERROR").send()},info:function(){o.apply(this,arguments).level("INFO").send()}}}var r=function(t,e){for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1},i=function(){return"undefined"!=typeof XDomainRequest?new XDomainRequest:new XMLHttpRequest},o={},a=function(t){if(!o.hasOwnProperty(t))throw new Error("Invalid name for logStream");return o[t]},s=function(t){if("string"!=typeof t.name)throw new Error("Name not present.");if(o.hasOwnProperty(t.name))throw new Error("A logger with that name already exists!");return o[t.name]=new n(t),!0};return{init:function(t){var e={name:"default"};if("object"==typeof t)for(var n in t)e[n]=t[n];else{if("string"!=typeof t)throw new Error("Invalid parameters for init()");e.token=t}return s(e)},createLogStream:s,to:a,destroy:function(t){void 0===t&&(t="default"),delete o[t]},log:function(){for(var t in o)o[t].log.apply(this,arguments)},warn:function(){for(var t in o)o[t].warn.apply(this,arguments)},error:function(){for(var t in o)o[t].error.apply(this,arguments)},info:function(){for(var t in o)o[t].info.apply(this,arguments)}}})},function(t,e,n){"use strict";function r(){}function i(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,t!==r&&u(this,t)}function o(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(t,e,n){d(function(){var r;try{r=e(n)}catch(e){return v.reject(t,e)}r===t?v.reject(t,new TypeError("Cannot resolve promise with itself")):v.resolve(t,r)})}function s(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function u(t,e){function n(e){o||(o=!0,v.reject(t,e))}function r(e){o||(o=!0,v.resolve(t,e))}function i(){e(r,n)}var o=!1,a=c(i);"error"===a.status&&n(a.value)}function c(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}function l(t){return t instanceof this?t:v.resolve(new this(r),t)}function f(t){var e=new this(r);return v.reject(e,t)}function h(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var o=new Array(n),a=0,s=-1,u=new this(r);++s<n;)!function(t,r){function s(t){o[r]=t,++a!==n||i||(i=!0,v.resolve(u,o))}e.resolve(t).then(s,function(t){i||(i=!0,v.reject(u,t))})}(t[s],s);return u}function p(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var o=-1,a=new this(r);++o<n;)!function(t){e.resolve(t).then(function(t){i||(i=!0,v.resolve(a,t))},function(t){i||(i=!0,v.reject(a,t))})}(t[o]);return a}var d=n(174),v={},m=["REJECTED"],y=["FULFILLED"],g=["PENDING"];t.exports=i,i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){if("function"!=typeof t&&this.state===y||"function"!=typeof e&&this.state===m)return this;var n=new this.constructor(r);if(this.state!==g){a(n,this.state===y?t:e,this.outcome)}else this.queue.push(new o(n,t,e));return n},o.prototype.callFulfilled=function(t){v.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){a(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){v.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){a(this.promise,this.onRejected,t)},v.resolve=function(t,e){var n=c(s,e);if("error"===n.status)return v.reject(t,n.value);var r=n.value;if(r)u(t,r);else{t.state=y,t.outcome=e;for(var i=-1,o=t.queue.length;++i<o;)t.queue[i].callFulfilled(e)}return t},v.reject=function(t,e){t.state=m,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},i.resolve=l,i.reject=f,i.all=h,i.race=p},function(t,e,n){var r=n(36),i=n(17),o=r(i,"DataView");t.exports=o},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(417),o=n(418),a=n(419),s=n(420),u=n(421);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){var r=n(36),i=n(17),o=r(i,"Promise");t.exports=o},function(t,e,n){var r=n(36),i=n(17),o=r(i,"Set");t.exports=o},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}var i=n(113),o=n(445),a=n(446);r.prototype.add=r.prototype.push=o,r.prototype.has=a,t.exports=r},function(t,e,n){var r=n(36),i=n(17),o=r(i,"WeakMap");t.exports=o},function(t,e){function n(t,e){return t.set(e[0],e[1]),t}t.exports=n},function(t,e){function n(t,e){return t.add(e),t}t.exports=n},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e,n){function r(t,e){return t&&i(e,o(e),t)}var i=n(60),o=n(61);t.exports=r},function(t,e,n){function r(t,e){return t&&i(e,o(e),t)}var i=n(60),o=n(201);t.exports=r},function(t,e,n){function r(t,e,n,T,P,M){var D,R=e&x,I=e&E,N=e&k;if(n&&(D=P?n(t,T,P,M):n(t)),void 0!==D)return D;if(!w(t))return t;var L=b(t);if(L){if(D=m(t),!R)return l(t,D)}else{var B=v(t),F=B==O||B==A;if(_(t))return c(t,R);if(B==j||B==S||F&&!P){if(D=I||F?{}:g(t),!R)return I?h(t,u(D,t)):f(t,s(D,t))}else{if(!C[B])return P?t:{};D=y(t,B,r,R)}}M||(M=new i);var q=M.get(t);if(q)return q;M.set(t,D);var U=N?I?d:p:I?keysIn:$,V=L?void 0:U(t);return o(V||t,function(i,o){V&&(o=i,i=t[o]),a(D,o,r(i,e,n,o,t,M))}),D}var i=n(114),o=n(366),a=n(116),s=n(369),u=n(370),c=n(398),l=n(405),f=n(406),h=n(407),p=n(186),d=n(187),v=n(189),m=n(422),y=n(423),g=n(424),b=n(18),_=n(126),w=n(28),$=n(61),x=1,E=2,k=4,S="[object Arguments]",O="[object Function]",A="[object GeneratorFunction]",j="[object Object]",C={};C[S]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[j]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[O]=C["[object WeakMap]"]=!1,t.exports=r},function(t,e,n){var r=n(28),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){function r(t,e,n,a,s){var u=-1,c=t.length;for(n||(n=o),s||(s=[]);++u<c;){var l=t[u];e>0&&n(l)?e>1?r(l,e-1,n,a,s):i(s,l):a||(s[s.length]=l)}return s}var i=n(115),o=n(425);t.exports=r},function(t,e,n){var r=n(409),i=r();t.exports=i},function(t,e,n){function r(t,e){return t&&i(t,e,o)}var i=n(374),o=n(61);t.exports=r},function(t,e){function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(46),o=n(49),a="[object Arguments]";t.exports=r},function(t,e,n){function r(t,e,n,r,m,g){var b=c(t),_=c(e),w=b?d:u(t),$=_?d:u(e);w=w==p?v:w,$=$==p?v:$;var x=w==v,E=$==v,k=w==$;if(k&&l(t)){if(!l(e))return!1;b=!0,x=!1}if(k&&!x)return g||(g=new i),b||f(t)?o(t,e,n,r,m,g):a(t,e,w,n,r,m,g);if(!(n&h)){var S=x&&y.call(t,"__wrapped__"),O=E&&y.call(e,"__wrapped__");if(S||O){var A=S?t.value():t,j=O?e.value():e;return g||(g=new i),m(A,j,n,r,g)}}return!!k&&(g||(g=new i),s(t,e,n,r,m,g))}var i=n(114),o=n(183),a=n(411),s=n(412),u=n(189),c=n(18),l=n(126),f=n(200),h=1,p="[object Arguments]",d="[object Array]",v="[object Object]",m=Object.prototype,y=m.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n,r){var u=n.length,c=u,l=!r;if(null==t)return!c;for(t=Object(t);u--;){var f=n[u];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++u<c;){f=n[u];var h=f[0],p=t[h],d=f[1];if(l&&f[2]){if(void 0===p&&!(h in t))return!1}else{var v=new i;if(r)var m=r(p,d,h,t,e,v);if(!(void 0===m?o(d,p,a|s,r,v):m))return!1}}return!0}var i=n(114),o=n(180),a=1,s=2;t.exports=r},function(t,e,n){function r(t){return!(!a(t)||o(t))&&(i(t)?d:c).test(s(t))}var i=n(127),o=n(427),a=n(28),s=n(195),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,l=Function.prototype,f=Object.prototype,h=l.toString,p=f.hasOwnProperty,d=RegExp("^"+h.call(p).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return a(t)&&o(t.length)&&!!s[i(t)]}var i=n(46),o=n(128),a=n(49),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=r},function(t,e,n){function r(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?s(t)?o(t[0],t[1]):i(t):u(t)}var i=n(385),o=n(386),a=n(198),s=n(18),u=n(463);t.exports=r},function(t,e,n){function r(t){if(!i(t))return o(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}var i=n(123),o=n(439),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){if(!i(t))return a(t);var e=o(t),n=[];for(var r in t)("constructor"!=r||!e&&u.call(t,r))&&n.push(r);return n}var i=n(28),o=n(123),a=n(440),s=Object.prototype,u=s.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=o(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(n){return n===t||i(n,t,e)}}var i=n(379),o=n(413),a=n(192);t.exports=r},function(t,e,n){function r(t,e){return s(t)&&u(e)?c(l(t),e):function(n){var r=o(n,t);return void 0===r&&r===e?a(n,t):i(e,r,f|h)}}var i=n(180),o=n(196),a=n(197),s=n(122),u=n(190),c=n(192),l=n(48),f=1,h=2;t.exports=r},function(t,e,n){function r(t,e){return i(t,e,function(e,n){return o(t,n)})}var i=n(388),o=n(197);t.exports=r},function(t,e,n){function r(t,e,n){for(var r=-1,s=e.length,u={};++r<s;){var c=e[r],l=i(t,c);n(l,c)&&o(u,a(c,t),l)}return u}var i=n(79),o=n(391),a=n(47);t.exports=r},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){function r(t){return function(e){return i(e,t)}}var i=n(79);t.exports=r},function(t,e,n){function r(t,e,n,r){if(!s(t))return t;e=o(e,t);for(var c=-1,l=e.length,f=l-1,h=t;null!=h&&++c<l;){var p=u(e[c]),d=n;if(c!=f){var v=h[p];d=r?r(v,p,h):void 0,void 0===d&&(d=s(v)?v:a(e[c+1])?[]:{})}i(h,p,d),h=h[p]}return t}var i=n(116),o=n(47),a=n(121),s=n(28),u=n(48);t.exports=r},function(t,e,n){var r=n(455),i=n(182),o=n(198),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){function r(t){if("string"==typeof t)return t;if(a(t))return o(t,r)+"";if(s(t))return l?l.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}var i=n(45),o=n(177),a=n(18),s=n(129),u=1/0,c=i?i.prototype:void 0,l=c?c.toString:void 0;t.exports=r},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){function r(t,e){return e=i(e,t),null==(t=a(t,e))||delete t[s(o(e))]}var i=n(47),o=n(458),a=n(444),s=n(48);t.exports=r},function(t,e){function n(t,e){return t.has(e)}t.exports=n},function(t,e,n){(function(t){function r(t,e){if(e)return t.slice();var n=t.length,r=c?c(n):new t.constructor(n);return t.copy(r),r}var i=n(17),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o,u=s?i.Buffer:void 0,c=u?u.allocUnsafe:void 0;t.exports=r}).call(e,n(91)(t))},function(t,e,n){function r(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var i=n(118);t.exports=r},function(t,e,n){function r(t,e,n){var r=e?n(a(t),s):a(t);return o(r,i,new t.constructor)}var i=n(363),o=n(178),a=n(191),s=1;t.exports=r},function(t,e){function n(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}var r=/\w*$/;t.exports=n},function(t,e,n){function r(t,e,n){var r=e?n(a(t),s):a(t);return o(r,i,new t.constructor)}var i=n(364),o=n(178),a=n(194),s=1;t.exports=r},function(t,e,n){function r(t){return a?Object(a.call(t)):{}}var i=n(45),o=i?i.prototype:void 0,a=o?o.valueOf:void 0;t.exports=r},function(t,e,n){function r(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var i=n(118);t.exports=r},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e,n){function r(t,e){return i(t,o(t),e)}var i=n(60),o=n(120);t.exports=r},function(t,e,n){function r(t,e){return i(t,o(t),e)}var i=n(60),o=n(188);t.exports=r},function(t,e,n){var r=n(17),i=r["__core-js_shared__"];t.exports=i},function(t,e){function n(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}t.exports=n},function(t,e,n){function r(t){return i(t)?void 0:t}var i=n(457);t.exports=r},function(t,e,n){function r(t,e,n,r,i,x,k){switch(n){case $:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!x(new o(t),new o(e)));case h:case p:case m:return a(+t,+e);case d:return t.name==e.name&&t.message==e.message;case y:case b:return t==e+"";case v:var S=u;case g:var O=r&l;if(S||(S=c),t.size!=e.size&&!O)return!1;var A=k.get(t);if(A)return A==e;r|=f,k.set(t,e);var j=s(S(t),S(e),r,i,x,k);return k.delete(t),j;case _:if(E)return E.call(t)==E.call(e)}return!1}var i=n(45),o=n(175),a=n(124),s=n(183),u=n(191),c=n(194),l=1,f=2,h="[object Boolean]",p="[object Date]",d="[object Error]",v="[object Map]",m="[object Number]",y="[object RegExp]",g="[object Set]",b="[object String]",_="[object Symbol]",w="[object ArrayBuffer]",$="[object DataView]",x=i?i.prototype:void 0,E=x?x.valueOf:void 0;t.exports=r},function(t,e,n){function r(t,e,n,r,a,u){var c=n&o,l=i(t),f=l.length;if(f!=i(e).length&&!c)return!1;for(var h=f;h--;){var p=l[h];if(!(c?p in e:s.call(e,p)))return!1}var d=u.get(t);if(d&&u.get(e))return d==e;var v=!0;u.set(t,e),u.set(e,t);for(var m=c;++h<f;){p=l[h];var y=t[p],g=e[p];if(r)var b=c?r(g,y,p,e,t,u):r(y,g,p,t,e,u);if(!(void 0===b?y===g||a(y,g,n,r,u):b)){v=!1;break}m||(m="constructor"==p)}if(v&&!m){var _=t.constructor,w=e.constructor;_!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(v=!1)}return u.delete(t),u.delete(e),v}var i=n(186),o=1,a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){for(var e=o(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,i(a)]}return e}var i=n(190),o=n(61);t.exports=r},function(t,e,n){function r(t){var e=a.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[u]=n:delete t[u]),i}var i=n(45),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function r(t,e,n){e=i(e,t);for(var r=-1,l=e.length,f=!1;++r<l;){var h=c(e[r]);if(!(f=null!=t&&n(t,h)))break;t=t[h]}return f||++r!=l?f:!!(l=null==t?0:t.length)&&u(l)&&s(h,l)&&(a(t)||o(t))}var i=n(47),o=n(125),a=n(18),s=n(121),u=n(128),c=n(48);t.exports=r},function(t,e,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(81);t.exports=r},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,n){function r(t){var e=this.__data__;if(i){var n=e[t];return n===o?void 0:n}return s.call(e,t)?e[t]:void 0}var i=n(81),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return i?void 0!==e[t]:a.call(e,t)}var i=n(81),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?o:e,this}var i=n(81),o="__lodash_hash_undefined__";t.exports=r},function(t,e){function n(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&i.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var r=Object.prototype,i=r.hasOwnProperty;t.exports=n},function(t,e,n){function r(t,e,n,r){var C=t.constructor;switch(e){case b:return i(t);case f:case h:return new C(+t);case _:return o(t,r);case w:case $:case x:case E:case k:case S:case O:case A:case j:return l(t,r);case p:return a(t,r,n);case d:case y:return new C(t);case v:return s(t);case m:return u(t,r,n);case g:return c(t)}}var i=n(118),o=n(399),a=n(400),s=n(401),u=n(402),c=n(403),l=n(404),f="[object Boolean]",h="[object Date]",p="[object Map]",d="[object Number]",v="[object RegExp]",m="[object Set]",y="[object String]",g="[object Symbol]",b="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",$="[object Float64Array]",x="[object Int8Array]",E="[object Int16Array]",k="[object Int32Array]",S="[object Uint8Array]",O="[object Uint8ClampedArray]",A="[object Uint16Array]",j="[object Uint32Array]";t.exports=r},function(t,e,n){function r(t){return"function"!=typeof t.constructor||a(t)?{}:i(o(t))}var i=n(372),o=n(119),a=n(123);t.exports=r},function(t,e,n){function r(t){return a(t)||o(t)||!!(s&&t&&t[s])}var i=n(45),o=n(125),a=n(18),s=i?i.isConcatSpreadable:void 0;t.exports=r},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){function r(t){return!!o&&o in t}var i=n(408),o=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return!(n<0)&&(n==e.length-1?e.pop():a.call(e,n,1),--this.size,!0)}var i=n(78),o=Array.prototype,a=o.splice;t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}var i=n(78);t.exports=r},function(t,e,n){function r(t){return i(this.__data__,t)>-1}var i=n(78);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var i=n(78);t.exports=r},function(t,e,n){function r(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(358),o=n(77),a=n(112);t.exports=r},function(t,e,n){function r(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}var i=n(80);t.exports=r},function(t,e,n){function r(t){return i(this,t).get(t)}var i=n(80);t.exports=r},function(t,e,n){function r(t){return i(this,t).has(t)}var i=n(80);t.exports=r},function(t,e,n){function r(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var i=n(80);t.exports=r},function(t,e,n){function r(t){var e=i(t,function(t){return n.size===o&&n.clear(),t}),n=e.cache;return e}var i=n(460),o=500;t.exports=r},function(t,e,n){var r=n(193),i=r(Object.keys,Object);t.exports=i},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},function(t,e,n){(function(t){var r=n(185),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a&&r.process,u=function(){try{return s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=u}).call(e,n(91)(t))},function(t,e){function n(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=n},function(t,e,n){function r(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,s=o(r.length-e,0),u=Array(s);++a<s;)u[a]=r[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=r[a];return c[e]=n(u),i(t,this,c)}}var i=n(365),o=Math.max;t.exports=r},function(t,e,n){function r(t,e){return e.length<2?t:i(t,o(e,0,-1))}var i=n(79),o=n(181);t.exports=r},function(t,e){function n(t){return this.__data__.set(t,r),this}var r="__lodash_hash_undefined__";t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){var r=n(392),i=n(448),o=i(r);t.exports=o},function(t,e){function n(t){var e=0,n=0;return function(){var a=o(),s=i-(a-n);if(n=a,s>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var r=800,i=16,o=Date.now;t.exports=n},function(t,e,n){function r(){this.__data__=new i,this.size=0}var i=n(77);t.exports=r},function(t,e){function n(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){function r(t,e){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<s-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(t,e),this.size=n.size,this}var i=n(77),o=n(112),a=n(113),s=200;t.exports=r},function(t,e,n){var r=n(438),i=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=r(function(t){var e=[];return i.test(t)&&e.push(""),t.replace(o,function(t,n,r,i){e.push(r?i.replace(a,"$1"):n||t)}),e});t.exports=s},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e,n){function r(t){return(null==t?0:t.length)?i(t,1):[]}var i=n(373);t.exports=r},function(t,e,n){function r(t){if(!a(t)||i(t)!=s)return!1;var e=o(t);if(null===e)return!0;var n=f.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==h}var i=n(46),o=n(119),a=n(49),s="[object Object]",u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=l.call(Object);t.exports=r},function(t,e){function n(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}t.exports=n},function(t,e,n){function r(t,e){var n={};return e=a(e,3),o(t,function(t,r,o){i(n,r,e(t,r,o))}),n}var i=n(117),o=n(375),a=n(382);t.exports=r},function(t,e,n){function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(r.Cache||i),n}var i=n(113),o="Expected a function";r.Cache=i,t.exports=r},function(t,e,n){var r=n(177),i=n(371),o=n(396),a=n(47),s=n(60),u=n(410),c=n(184),l=n(187),f=c(function(t,e){var n={};if(null==t)return n;var c=!1;e=r(e,function(e){return e=a(e,t),c||(c=e.length>1),e}),s(t,l(t),n),c&&(n=i(n,7,u));for(var f=e.length;f--;)o(n,e[f]);return n});t.exports=f},function(t,e,n){var r=n(387),i=n(184),o=i(function(t,e){return null==t?{}:r(t,e)});t.exports=o},function(t,e,n){function r(t){return a(t)?i(s(t)):o(t)}var i=n(389),o=n(390),a=n(122),s=n(48);t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t){var e=null==t?0:t.length;return e?i(t,1,e):[]}var i=n(181);t.exports=r},function(t,e,n){function r(t){return null==t?"":i(t)}var i=n(394);t.exports=r},function(t,e,n){(function(e){function r(t,n,s,u){"function"==typeof n?(s=n,n={}):n&&"object"==typeof n||(n={mode:n});var c=n.mode,l=n.fs||o;void 0===c&&(c=a&~e.umask()),u||(u=null);var f=s||function(){};t=i.resolve(t),l.mkdir(t,c,function(e){if(!e)return u=u||t,f(null,u);switch(e.code){case"ENOENT":r(i.dirname(t),n,function(e,i){e?f(e,i):r(t,n,f,i)});break;default:l.stat(t,function(t,n){t||!n.isDirectory()?f(e,u):f(null,u)})}})}var i=n(24),o=n(30),a=parseInt("0777",8);t.exports=r.mkdirp=r.mkdirP=r,r.sync=function t(n,r,s){r&&"object"==typeof r||(r={mode:r});var u=r.mode,c=r.fs||o;void 0===u&&(u=a&~e.umask()),s||(s=null),n=i.resolve(n);try{c.mkdirSync(n,u),s=s||n}catch(e){switch(e.code){case"ENOENT":s=t(i.dirname(n),r,s),t(n,r,s);break;default:var l;try{l=c.statSync(n)}catch(t){throw e}if(!l.isDirectory())throw e}}return s}}).call(e,n(3))},function(t,e,n){function r(t,e,n,r){function s(){f?a.rename(t,e,function(n){return n?"EXDEV"!==n.code?r(n):void i(t,e,f,h,r):r()}):a.link(t,e,function(n){if(n)return"EXDEV"===n.code?void i(t,e,f,h,r):"EISDIR"===n.code||"EPERM"===n.code?void o(t,e,f,h,r):void r(n);a.unlink(t,r)})}"function"==typeof n&&(r=n,n={});var c=!!n.mkdirp,f=!1!==n.clobber,h=n.limit||16;c?function(){l(u.dirname(e),function(t){if(t)return r(t);s()})}():s()}function i(t,e,n,r,i){function s(){a.unlink(t,i)}var u=n?"w":"wx",c=a.createReadStream(t),l=a.createWriteStream(e,{flags:u});c.on("error",function(a){c.destroy(),l.destroy(),l.removeListener("close",s),"EISDIR"===a.code||"EPERM"===a.code?o(t,e,n,r,i):i(a)}),l.on("error",function(t){c.destroy(),l.destroy(),l.removeListener("close",s),i(t)}),l.once("close",s),c.pipe(l)}function o(t,e,n,r,i){function o(){s(t,e,a,function(e){if(e)return i(e[0]);c(t,{disableGlob:!0},i)})}var a={stopOnErr:!0,clobber:!1,limit:r};n?c(e,{disableGlob:!0},function(t){if(t)return i(t);o()}):o()}var a=n(30),s=n(470).ncp,u=n(24),c=n(469),l=n(467);t.exports=r},function(t,e,n){(function(e){function r(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(function(e){t[e]=t[e]||v[e],e+="Sync",t[e]=t[e]||v[e]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,t.disableGlob=t.disableGlob||!1}function i(t,e,n){function i(t){u=u||t,0==--c&&n(u)}function a(t,r){return t?n(t):0===(c=r.length)?n():void r.forEach(function(t){o(t,e,function n(r){if(r){if(b&&("EBUSY"===r.code||"ENOTEMPTY"===r.code||"EPERM"===r.code)&&s<e.maxBusyTries){s++;var a=100*s;return setTimeout(function(){o(t,e,n)},a)}if("EMFILE"===r.code&&g<e.emfileWait)return setTimeout(function(){o(t,e,n)},g++);"ENOENT"===r.code&&(r=null)}g=0,i(r)})})}"function"==typeof e&&(n=e,e={}),p(t,"rimraf: missing path"),p.equal(typeof t,"string","rimraf: path should be a string"),p(e,"rimraf: missing options"),p.equal(typeof e,"object","rimraf: options should be object"),p.equal(typeof n,"function","rimraf: callback function required"),r(e);var s=0,u=null,c=0;if(e.disableGlob||!m.hasMagic(t))return a(null,[t]);v.lstat(t,function(e,n){if(!e)return a(null,[t]);m(t,y,a)})}function o(t,e,n){p(t),p(e),p("function"==typeof n),e.lstat(t,function(r,i){return r&&"ENOENT"===r.code?n(null):i&&i.isDirectory()?u(t,e,r,n):void e.unlink(t,function(r){if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return b?a(t,e,r,n):u(t,e,r,n);if("EISDIR"===r.code)return u(t,e,r,n)}return n(r)})})}function a(t,e,n,r){p(t),p(e),p("function"==typeof r),n&&p(n instanceof Error),e.chmod(t,666,function(i){i?r("ENOENT"===i.code?null:n):e.stat(t,function(i,o){i?r("ENOENT"===i.code?null:n):o.isDirectory()?u(t,e,n,r):e.unlink(t,r)})})}function s(t,e,n){p(t),p(e),n&&p(n instanceof Error);try{e.chmodSync(t,666)}catch(t){if("ENOENT"===t.code)return;throw n}try{var r=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw n}r.isDirectory()?f(t,e,n):e.unlinkSync(t)}function u(t,e,n,r){p(t),p(e),n&&p(n instanceof Error),p("function"==typeof r),e.rmdir(t,function(i){!i||"ENOTEMPTY"!==i.code&&"EEXIST"!==i.code&&"EPERM"!==i.code?r(i&&"ENOTDIR"===i.code?n:i):c(t,e,r)})}function c(t,e,n){p(t),p(e),p("function"==typeof n),e.readdir(t,function(r,o){if(r)return n(r);var a=o.length;if(0===a)return e.rmdir(t,n);var s;o.forEach(function(r){i(d.join(t,r),e,function(r){if(!s)return r?n(s=r):void(0==--a&&e.rmdir(t,n))})})})}function l(t,e){e=e||{},r(e),p(t,"rimraf: missing path"),p.equal(typeof t,"string","rimraf: path should be a string"),p(e,"rimraf: missing options"),p.equal(typeof e,"object","rimraf: options should be object");var n;if(e.disableGlob||!m.hasMagic(t))n=[t];else try{v.lstatSync(t),n=[t]}catch(e){n=m.sync(t,y)}if(n.length)for(var i=0;i<n.length;i++){var t=n[i];try{var o=e.lstatSync(t)}catch(t){if("ENOENT"===t.code)return}try{o&&o.isDirectory()?f(t,e,null):e.unlinkSync(t)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return b?s(t,e,n):f(t,e,n);if("EISDIR"!==n.code)throw n;f(t,e,n)}}}function f(t,e,n){p(t),p(e),n&&p(n instanceof Error);try{e.rmdirSync(t)}catch(r){if("ENOENT"===r.code)return;if("ENOTDIR"===r.code)throw n;"ENOTEMPTY"!==r.code&&"EEXIST"!==r.code&&"EPERM"!==r.code||h(t,e)}}function h(t,e){p(t),p(e),e.readdirSync(t).forEach(function(n){l(d.join(t,n),e)}),e.rmdirSync(t,e)}t.exports=i,i.sync=l;var p=n(68),d=n(24),v=n(30),m=n(173),y={nosort:!0,nocomment:!0,nonegate:!0,silent:!0},g=0,b="win32"===e.platform}).call(e,n(3))},function(t,e,n){(function(e,r){function i(t,n,s,u){function c(t){if(D++,O)if(O instanceof RegExp){if(!O.test(t))return $(!0)}else if("function"==typeof O&&!O(t))return $(!0);return l(t)}function l(t){var e=P?o.stat:o.lstat;if(I>=N)return r(function(){l(t)});I++,e(t,function(e,n){var r={};return e?w(e):(r.name=t,r.mode=n.mode,r.mtime=n.mtime,r.atime=n.atime,n.isDirectory()?d(r):n.isFile()?f(r):n.isSymbolicLink()?y(t):void 0)})}function f(t){var e=t.name.replace(k,S);A&&(e=A(e)),_(e,function(n){return n?h(t,e):(C&&p(e,function(){h(t,e)}),T?void(P?o.stat:o.lstat)(e,function(n,r){if(!(t.mtime.getTime()>r.mtime.getTime()))return $();h(t,e)}):$())})}function h(t,e){var n=o.createReadStream(t.name),r=o.createWriteStream(e,{mode:t.mode});n.on("error",w),r.on("error",w),j?j(n,r,t):r.on("open",function(){n.pipe(r)}),r.once("finish",function(){T?(o.utimesSync(e,t.atime,t.mtime),$()):$()})}function p(t,e){o.unlink(t,function(t){return t?w(t):e()})}function d(t){var e=t.name.replace(k,S);_(e,function(n){if(n)return v(t,e);m(t.name)})}function v(t,e){o.mkdir(e,t.mode,function(e){if(e)return w(e);m(t.name)})}function m(t){o.readdir(t,function(e,n){return e?w(e):(n.forEach(function(e){c(a.join(t,e))}),$())})}function y(t){var e=t.replace(k,S);o.readlink(t,function(t,n){if(t)return w(t);g(n,e)})}function g(t,e){P&&(t=a.resolve(E,t)),_(e,function(n){if(n)return b(t,e);o.readlink(e,function(n,r){return n?w(n):(P&&(r=a.resolve(E,r)),r===t?$():p(e,function(){b(t,e)}))})})}function b(t,e){o.symlink(t,e,function(t){return t?w(t):$()})}function _(t,e){o.lstat(t,function(t){return e(t?"ENOENT"===t.code?!0:!1:!1)})}function w(t){return s.stopOnError?x(t):(!M&&s.errs?M=o.createWriteStream(s.errs):M||(M=[]),void 0===M.write?M.push(t):M.write(t.stack+"\n\n"),$())}function $(t){if(t||I--,R++,D===R&&0===I&&void 0!==x)return x(M?M:null)}var x=u;u||(x=s,s={});var E=e.cwd(),k=a.resolve(E,t),S=a.resolve(E,n),O=s.filter,A=s.rename,j=s.transform,C=!1!==s.clobber,T=s.modified,P=s.dereference,M=null,D=0,R=0,I=0,N=s.limit||i.limit||16;N=N<1?1:N>512?512:N,c(k)}var o=n(30),a=n(24);t.exports=i,i.ncp=i}).call(e,n(3),n(232).setImmediate)},function(t,e){e.endianness=function(){return"LE"},e.hostname=function(){return"undefined"!=typeof location?location.hostname:""},e.loadavg=function(){return[]},e.uptime=function(){return 0},e.freemem=function(){return Number.MAX_VALUE},e.totalmem=function(){return Number.MAX_VALUE},e.cpus=function(){return[]},e.type=function(){return"Browser"},e.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},e.networkInterfaces=e.getNetworkInterfaces=function(){return{}},e.arch=function(){return"javascript"},e.platform=function(){return"browser"},e.tmpdir=e.tmpDir=function(){return"/tmp"},e.EOL="\n"},function(t,e,n){"use strict";function r(){this.promise=new f(function(t){t()})}function i(t){if(!t)return"undefined";switch(typeof t){case"function":case"string":return t.toString();default:return JSON.stringify(t)}}function o(t,e){return i(t)+i(e)+"undefined"}function a(t,e,n,r,i,a){var s,u=o(n,r);if(!i&&(s=t._cachedViews=t._cachedViews||{},s[u]))return s[u];var c=t.info().then(function(o){function c(t){t.views=t.views||{};var n=e;-1===n.indexOf("/")&&(n=e+"/"+e);var r=t.views[n]=t.views[n]||{};if(!r[l])return r[l]=!0,t}var l=o.db_name+"-mrview-"+(i?"temp":m.stringMd5(u));return p.upsert(t,"_local/"+a,c).then(function(){return t.registerDependentDatabase(l).then(function(e){var i=e.db;i.auto_compaction=!0;var o={name:l,db:i,sourceDB:t,adapter:t.adapter,mapFun:n,reduceFun:r};return o.db.get("_local/lastSeq").catch(function(t){if(404!==t.status)throw t}).then(function(t){return o.seq=t?t.seq:0,s&&o.db.once("destroyed",function(){delete s[u]}),o})})})});return s&&(s[u]=c),c}function s(t){return-1===t.indexOf("/")?[t,t]:t.split("/")}function u(t){return 1===t.length&&/^1-/.test(t[0].rev)}function c(t,e){try{t.emit("error",e)}catch(t){p.guardedConsole("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),p.guardedConsole("error",e)}}function l(t,e,n,i){function o(t,e,n){try{e(n)}catch(e){c(t,e)}}function l(t,e,n,r,i){try{return{output:e(n,r,i)}}catch(e){return c(t,e),{error:e}}}function m(t,e){var n=v.collate(t.key,e.key);return 0!==n?n:v.collate(t.value,e.value)}function w(t,e,n){return n=n||0,"number"==typeof e?t.slice(n,e+n):n>0?t.slice(n):t}function $(t){var e=t.value;return e&&"object"==typeof e&&e._id||t.id}function x(t){t.rows.forEach(function(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach(function(t){var n=e[t];e[t].data=d.base64StringToBlobOrBuffer(n.data,n.content_type)})})}function E(t){return function(e){return t.include_docs&&t.attachments&&t.binary&&x(e),e}}function k(t,e,n,r){var i=e[t];void 0!==i&&(r&&(i=encodeURIComponent(JSON.stringify(i))),n.push(t+"="+i))}function S(t){if(void 0!==t){var e=Number(t);return isNaN(e)||e!==parseInt(t,10)?t:e}}function O(t){return t.group_level=S(t.group_level),t.limit=S(t.limit),t.skip=S(t.skip),t}function A(t){if(t){if("number"!=typeof t)return new y.QueryParseError('Invalid value for integer: "'+t+'"');if(t<0)return new y.QueryParseError('Invalid value for positive integer: "'+t+'"')}}function j(t,e){var n=t.descending?"endkey":"startkey",r=t.descending?"startkey":"endkey";if(void 0!==t[n]&&void 0!==t[r]&&v.collate(t[n],t[r])>0)throw new y.QueryParseError("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(e.reduce&&!1!==t.reduce){if(t.include_docs)throw new y.QueryParseError("{include_docs:true} is invalid for reduce");if(t.keys&&t.keys.length>1&&!t.group&&!t.group_level)throw new y.QueryParseError("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(e){var n=A(t[e]);if(n)throw n})}function C(t,e,n){var r,i=[],o="GET";if(k("reduce",n,i),k("include_docs",n,i),k("attachments",n,i),k("limit",n,i),k("descending",n,i),k("group",n,i),k("group_level",n,i),k("skip",n,i),k("stale",n,i),k("conflicts",n,i),k("startkey",n,i,!0),k("start_key",n,i,!0),k("endkey",n,i,!0),k("end_key",n,i,!0),k("inclusive_end",n,i),k("key",n,i,!0),i=i.join("&"),i=""===i?"":"?"+i,void 0!==n.keys){var a="keys="+encodeURIComponent(JSON.stringify(n.keys));a.length+i.length+1<=2e3?i+=("?"===i[0]?"&":"?")+a:(o="POST","string"==typeof e?r={keys:n.keys}:e.keys=n.keys)}if("string"==typeof e){var u=s(e);return t.request({method:o,url:"_design/"+u[0]+"/_view/"+u[1]+i,body:r}).then(E(n))}return r=r||{},Object.keys(e).forEach(function(t){Array.isArray(e[t])?r[t]=e[t]:r[t]=e[t].toString()}),t.request({method:"POST",url:"_temp_view"+i,body:r}).then(E(n))}function T(t,e,n){return new f(function(r,i){t._query(e,n,function(t,e){if(t)return i(t);r(e)})})}function P(t){return new f(function(e,n){t._viewCleanup(function(t,r){if(t)return n(t);e(r)})})}function M(t){return function(e){if(404===e.status)return t;throw e}}function D(t,e,n){function r(t){return t.keys.length?e.db.allDocs({keys:t.keys,include_docs:!0}):f.resolve({rows:[]})}function i(t,e){for(var n=[],r=new h.Set,i=0,o=e.rows.length;i<o;i++){var a=e.rows[i],s=a.doc;if(s&&(n.push(s),r.add(s._id),s._deleted=!c.has(s._id),!s._deleted)){var u=c.get(s._id);"value"in u&&(s.value=u.value)}}var l=y.mapToKeysArray(c);return l.forEach(function(t){if(!r.has(t)){var e={_id:t},i=c.get(t);"value"in i&&(e.value=i.value),n.push(e)}}),t.keys=y.uniq(l.concat(t.keys)),n.push(t),n}var o="_local/doc_"+t,a={_id:o,keys:[]},s=n.get(t),c=s[0],l=s[1];return function(){return u(l)?f.resolve(a):e.db.get(o).catch(M(a))}().then(function(t){return r(t).then(function(e){return i(t,e)})})}function R(t,e,n){return t.db.get("_local/lastSeq").catch(M({_id:"_local/lastSeq",seq:0})).then(function(r){var i=y.mapToKeysArray(e);return f.all(i.map(function(n){return D(n,t,e)})).then(function(e){var i=p.flatten(e);return r.seq=n,i.push(r),t.db.bulkDocs({docs:i})})})}function I(t){var e="string"==typeof t?t:t.name,n=g[e];return n||(n=g[e]=new r),n}function N(t){return y.sequentialize(I(t),function(){return L(t)})()}function L(t){function n(t,e){var n={id:f._id,key:v.normalizeKey(t)};void 0!==e&&null!==e&&(n.value=v.normalizeKey(e)),l.push(n)}function i(e,n){return function(){return R(t,e,n)}}function a(){return t.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:d,limit:_}).then(s)}function s(t){var e=t.results;if(e.length){var n=u(e);if(y.add(i(n,d)),!(e.length<_))return a()}}function u(e){for(var n=new h.Map,r=0,i=e.length;r<i;r++){var a=e[r];if("_"!==a.doc._id[0]){l=[],f=a.doc,f._deleted||o(t.sourceDB,p,f),l.sort(m);var s=c(l);n.set(a.doc._id,[s,a.changes])}d=a.seq}return n}function c(t){for(var e,n=new h.Map,r=0,i=t.length;r<i;r++){var o=t[r],a=[o.key,o.id];r>0&&0===v.collate(o.key,e)&&a.push(r),n.set(v.toIndexableString(a),o),e=o.key}return n}var l,f,p=e(t.mapFun,n),d=t.seq||0,y=new r;return a().then(function(){return y.finish()}).then(function(){t.seq=d})}function B(t,e,r){0===r.group_level&&delete r.group_level;var i=r.group||r.group_level,o=n(t.reduceFun),a=[],s=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;e.forEach(function(t){var e=a[a.length-1],n=i?t.key:null;if(i&&Array.isArray(n)&&(n=n.slice(0,s)),e&&0===v.collate(e.groupKey,n))return e.keys.push([t.key,t.id]),void e.values.push(t.value);a.push({keys:[[t.key,t.id]],values:[t.value],groupKey:n})}),e=[];for(var u=0,c=a.length;u<c;u++){var f=a[u],h=l(t.sourceDB,o,f.keys,f.values,!1);if(h.error&&h.error instanceof y.BuiltInError)throw h.error;e.push({value:h.error?null:h.output,key:f.groupKey})}return{rows:w(e,r.limit,r.skip)}}function F(t,e){return y.sequentialize(I(t),function(){return q(t,e)})()}function q(t,e){function n(e){return e.include_docs=!0,t.db.allDocs(e).then(function(t){return i=t.total_rows,t.rows.map(function(t){if("value"in t.doc&&"object"==typeof t.doc.value&&null!==t.doc.value){var e=Object.keys(t.doc.value).sort(),n=["id","key","value"];if(!(e<n||e>n))return t.doc.value}var r=v.parseIndexableString(t.doc._id);return{key:r[0],id:r[1],value:"value"in t.doc?t.doc.value:null}})})}function r(n){var r;if(r=o?B(t,n,e):{total_rows:i,offset:a,rows:n},e.include_docs){var s=y.uniq(n.map($));return t.sourceDB.allDocs({keys:s,include_docs:!0,conflicts:e.conflicts,attachments:e.attachments,binary:e.binary}).then(function(t){var e=new h.Map;return t.rows.forEach(function(t){e.set(t.id,t.doc)}),n.forEach(function(t){var n=$(t),r=e.get(n);r&&(t.doc=r)}),r})}return r}var i,o=t.reduceFun&&!1!==e.reduce,a=e.skip||0;if(void 0===e.keys||e.keys.length||(e.limit=0,delete e.keys),void 0!==e.keys){var s=e.keys,u=s.map(function(t){return n({startkey:v.toIndexableString([t]),endkey:v.toIndexableString([t,{}])})});return f.all(u).then(p.flatten).then(r)}var c,l,d={descending:e.descending};if("start_key"in e&&(c=e.start_key),"startkey"in e&&(c=e.startkey),"end_key"in e&&(l=e.end_key),"endkey"in e&&(l=e.endkey),void 0!==c&&(d.startkey=e.descending?v.toIndexableString([c,{}]):v.toIndexableString([c])),void 0!==l){var m=!1!==e.inclusive_end;e.descending&&(m=!m),d.endkey=v.toIndexableString(m?[l,{}]:[l])}if(void 0!==e.key){var g=v.toIndexableString([e.key]),b=v.toIndexableString([e.key,{}]);d.descending?(d.endkey=g,d.startkey=b):(d.startkey=g,d.endkey=b)}return o||("number"==typeof e.limit&&(d.limit=e.limit),d.skip=a),n(d).then(r)}function U(t){return t.request({method:"POST",url:"_view_cleanup"})}function V(e){return e.get("_local/"+t).then(function(t){var n=new h.Map;Object.keys(t.views).forEach(function(t){var e=s(t),r="_design/"+e[0],i=e[1],o=n.get(r);o||(o=new h.Set,n.set(r,o)),o.add(i)});var r={keys:y.mapToKeysArray(n),include_docs:!0};return e.allDocs(r).then(function(r){var i={};r.rows.forEach(function(e){var r=e.key.substring(8);n.get(e.key).forEach(function(n){var o=r+"/"+n;t.views[o]||(o=n);var a=Object.keys(t.views[o]),s=e.doc&&e.doc.views&&e.doc.views[n];a.forEach(function(t){i[t]=i[t]||s})})});var o=Object.keys(i).filter(function(t){return!i[t]}),a=o.map(function(t){return y.sequentialize(I(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return f.all(a).then(function(){return{ok:!0}})})},M({ok:!0}))}function z(e,n,r){if("function"==typeof e._query)return T(e,n,r);if(p.isRemote(e))return C(e,n,r);if("string"!=typeof n)return j(r,n),b.add(function(){return a(e,"temp_view/temp_view",n.map,n.reduce,!0,t).then(function(t){return y.fin(N(t).then(function(){return F(t,r)}),function(){return t.db.destroy()})})}),b.finish();var o=n,u=s(o),c=u[0],l=u[1];return e.get("_design/"+c).then(function(n){var s=n.views&&n.views[l];if(!s)throw new y.NotFoundError("ddoc "+n._id+" has no view named "+l);return i(n,l),j(r,s),a(e,o,s.map,s.reduce,!1,t).then(function(t){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&p.nextTick(function(){N(t)}),F(t,r)):N(t).then(function(){return F(t,r)})})})}function H(t,e,n){var r=this;"function"==typeof e&&(n=e,e={}),e=e?O(e):{},"function"==typeof t&&(t={map:t});var i=f.resolve().then(function(){return z(r,t,e)});return y.promisedCallback(i,n),i}return{query:H,viewCleanup:y.callbackify(function(){var t=this;return"function"==typeof t._viewCleanup?P(t):p.isRemote(t)?U(t):V(t)})}}var f=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n(63)),h=n(51),p=n(29),d=n(82),v=n(132),m=n(133),y=n(483);r.prototype.add=function(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise},r.prototype.finish=function(){return this.promise};var g={},b=new r,_=50;t.exports=l},function(t,e,n){"use strict";function r(t){return function(e){var n="unknown_error";e.target&&e.target.error&&(n=e.target.error.name||e.target.error.message),t(C.createError(C.IDB_ERROR,n,e.type))}}function i(t,e,n){return{data:M.safeJsonStringify(t),winningRev:e,deletedOrLocal:n?"1":"0",seq:t.seq,id:t.id}}function o(t){if(!t)return null;var e=M.safeJsonParse(t.data);return e.winningRev=t.winningRev,e.deleted="1"===t.deletedOrLocal,e.seq=t.seq,e}function a(t){if(!t)return t;var e=t._doc_id_rev.lastIndexOf(":");return t._id=t._doc_id_rev.substring(0,e-1),t._rev=t._doc_id_rev.substring(e+1),delete t._doc_id_rev,t}function s(t,e,n,r){n?r(t?"string"!=typeof t?t:D.base64StringToBlobOrBuffer(t,e):D.blob([""],{type:e})):t?"string"!=typeof t?D.readAsBinaryString(t,function(t){r(D.btoa(t))}):r(t):r("")}function u(t,e,n,r){function i(){++s===a.length&&r&&r()}function o(t,e){var r=t._attachments[e],o=r.digest;n.objectStore(L).get(o).onsuccess=function(t){r.body=t.target.result.body,i()}}var a=Object.keys(t._attachments||{});if(!a.length)return r&&r();var s=0;a.forEach(function(n){e.attachments&&e.include_docs?o(t,n):(t._attachments[n].stub=!0,i())})}function c(t,e){return P.all(t.map(function(t){if(t.doc&&t.doc._attachments){var n=Object.keys(t.doc._attachments);return P.all(n.map(function(n){var r=t.doc._attachments[n];if("body"in r){var i=r.body,o=r.content_type;return new P(function(a){s(i,o,e,function(e){t.doc._attachments[n]=A.assign(A.pick(r,["digest","content_type"]),{data:e}),a()})})}}))}}))}function l(t,e,n){function r(){--c||i()}function i(){o.length&&o.forEach(function(t){u.index("digestSeq").count(IDBKeyRange.bound(t+"::",t+"::",!1,!1)).onsuccess=function(e){e.target.result||s.delete(t)}})}var o=[],a=n.objectStore(N),s=n.objectStore(L),u=n.objectStore(B),c=t.length;t.forEach(function(t){var n=a.index("_doc_id_rev"),i=e+"::"+t;n.getKey(i).onsuccess=function(t){var e=t.target.result;if("number"!=typeof e)return r();a.delete(e),u.index("seq").openCursor(IDBKeyRange.only(e)).onsuccess=function(t){var e=t.target.result;if(e){var n=e.value.digestSeq.split("::")[0];o.push(n),u.delete(e.primaryKey),e.continue()}else r()}}})}function f(t,e,n){try{return{txn:t.transaction(e,n)}}catch(t){return{error:t}}}function h(t,e,n,a,s,u){function c(){var t=[I,N,L,q,B,F],e=f(s,t,"readwrite");if(e.error)return u(e.error);E=e.txn,E.onabort=r(u),E.ontimeout=r(u),E.oncomplete=m,k=E.objectStore(I),S=E.objectStore(N),A=E.objectStore(L),P=E.objectStore(B),M=E.objectStore(F),M.get(F).onsuccess=function(t){R=t.target.result,d()},g(function(t){if(t)return Q=!0,u(t);v()})}function h(){W=!0,d()}function p(){T.processDocs(t.revs_limit,U,a,Y,E,J,b,n,h)}function d(){R&&W&&(R.docCount+=K,M.put(R))}function v(){function t(){++n===U.length&&p()}function e(e){var n=o(e.target.result);n&&Y.set(n.id,n),t()}if(U.length)for(var n=0,r=0,i=U.length;r<i;r++){var a=U[r];if(a._id&&T.isLocalId(a._id))t();else{var s=k.get(a.metadata.id);s.onsuccess=e}}}function m(){Q||(V.notify(a._meta.name),u(null,J))}function y(t,e){A.get(t).onsuccess=function(n){if(n.target.result)e();else{var r=C.createError(C.MISSING_STUB,"unknown stub attachment with digest "+t);r.status=412,e(r)}}}function g(t){function e(){++i===n.length&&t(r)}var n=[];if(U.forEach(function(t){t.data&&t.data._attachments&&Object.keys(t.data._attachments).forEach(function(e){var r=t.data._attachments[e];r.stub&&n.push(r.digest)})}),!n.length)return t();var r,i=0;n.forEach(function(t){y(t,function(t){t&&!r&&(r=t),e()})})}function b(t,e,n,r,i,o,a,s){t.metadata.winningRev=e,t.metadata.deleted=n;var u=t.data;if(u._id=t.metadata.id,u._rev=t.metadata.rev,r&&(u._deleted=!0),u._attachments&&Object.keys(u._attachments).length)return w(t,e,n,i,a,s);K+=o,d(),_(t,e,n,i,a,s)}function _(t,e,n,r,o,s){function u(o){var s=t.stemmedRevs||[];r&&a.auto_compaction&&(s=s.concat(j.compactTree(t.metadata))),s&&s.length&&l(s,t.metadata.id,E),p.seq=o.target.result;var u=i(p,e,n);k.put(u).onsuccess=f}function c(t){t.preventDefault(),t.stopPropagation(),S.index("_doc_id_rev").getKey(h._doc_id_rev).onsuccess=function(t){S.put(h,t.target.result).onsuccess=u}}function f(){J[o]={ok:!0,id:p.id,rev:p.rev},Y.set(t.metadata.id,t.metadata),$(t,p.seq,s)}var h=t.data,p=t.metadata;h._doc_id_rev=p.id+"::"+p.rev,delete h._id,delete h._rev;var d=S.put(h);d.onsuccess=u,d.onerror=c}function w(t,e,n,r,i,o){function a(){c===l.length&&_(t,e,n,r,i,o)}function s(){c++,a()}var u=t.data,c=0,l=Object.keys(u._attachments);l.forEach(function(n){var r=t.data._attachments[n];if(r.stub)c++,a();else{var i=r.data;delete r.data,r.revpos=parseInt(e,10);x(r.digest,i,s)}})}function $(t,e,n){function r(){++i===o.length&&n()}var i=0,o=Object.keys(t.data._attachments||{});if(!o.length)return n();for(var a=0;a<o.length;a++)!function(n){var i=t.data._attachments[n].digest,o=P.put({seq:e,digestSeq:i+"::"+e});o.onsuccess=r,o.onerror=function(t){t.preventDefault(),t.stopPropagation(),r()}}(o[a])}function x(t,e,n){A.count(t).onsuccess=function(r){if(r.target.result)return n();var i={digest:t,body:e};A.put(i).onsuccess=n}}for(var E,k,S,A,P,M,D,R,U=e.docs,z=0,H=U.length;z<H;z++){var G=U[z];G._id&&T.isLocalId(G._id)||(G=U[z]=T.parseDoc(G,n.new_edits),G.error&&!D&&(D=G))}if(D)return u(D);var W=!1,K=0,J=new Array(U.length),Y=new O.Map,Q=!1,X=a._meta.blobSupport?"blob":"base64";T.preprocessAttachments(U,X,function(t){if(t)return u(t);c()})}function p(t,e,n,r,i){function o(t){l=t.target.result,c&&i(c,l,f)}function a(t){c=t.target.result,l&&i(c,l,f)}function s(){if(!c.length)return i();var n,s=c[c.length-1];if(e&&e.upper)try{n=IDBKeyRange.bound(s,e.upper,!0,e.upperOpen)}catch(t){if("DataError"===t.name&&0===t.code)return i()}else n=IDBKeyRange.lowerBound(s,!0);e=n,c=null,l=null,t.getAll(e,r).onsuccess=o,t.getAllKeys(e,r).onsuccess=a}function u(t){var e=t.target.result;if(!e)return i();i([e.key],[e.value],e)}var c,l,f,h="function"==typeof t.getAll&&"function"==typeof t.getAllKeys&&r>1&&!n;h?(f={continue:s},t.getAll(e,r).onsuccess=o,t.getAllKeys(e,r).onsuccess=a):n?t.openCursor(e,"prev").onsuccess=u:t.openCursor(e).onsuccess=u}function d(t,e,n){function r(t){var e=t.target.result;e?(i.push(e.value),e.continue()):n({target:{result:i}})}if("function"==typeof t.getAll)return void(t.getAll(e).onsuccess=n);var i=[];t.openCursor(e).onsuccess=r}function v(t,e,n,r,i){try{if(t&&e)return i?IDBKeyRange.bound(e,t,!n,!1):IDBKeyRange.bound(t,e,!1,!n);if(t)return i?IDBKeyRange.upperBound(t):IDBKeyRange.lowerBound(t);if(e)return i?IDBKeyRange.lowerBound(e,!n):IDBKeyRange.upperBound(e,!n);if(r)return IDBKeyRange.only(r)}catch(t){return{error:t}}return null}function m(t,e,n){function i(e,n,r){var i=e.id+"::"+r;B.get(i).onsuccess=function(r){if(n.doc=a(r.target.result),t.conflicts){var i=j.collectConflicts(e);i.length&&(n.doc._conflicts=i)}u(n.doc,t,T)}}function s(e,n){var r={id:n.id,key:n.id,value:{rev:e}},o=n.deleted;"ok"===t.deleted?(q.push(r),o?(r.value.deleted=!0,r.doc=null):t.include_docs&&i(n,r,e)):!o&&$--<=0&&(q.push(r),t.include_docs&&i(n,r,e))}function l(t){for(var e=0,n=t.length;e<n&&q.length!==x;e++){var r=t[e],i=o(r);s(i.winningRev,i)}}function h(t,e,n){n&&(l(e),q.length<x&&n.continue())}function m(e){var n=e.target.result;t.descending&&(n=n.reverse()),l(n)}function y(){n(null,{total_rows:P,offset:t.skip,rows:q})}function g(){t.attachments?c(q,t.binary).then(y):y()}var b="startkey"in t&&t.startkey,_="endkey"in t&&t.endkey,w="key"in t&&t.key,$=t.skip||0,x="number"==typeof t.limit?t.limit:-1,E=!1!==t.inclusive_end,k=v(b,_,E,w,t.descending),S=k&&k.error;if(S&&("DataError"!==S.name||0!==S.code))return n(C.createError(C.IDB_ERROR,S.name,S.message));var O=[I,N,F];t.attachments&&O.push(L);var A=f(e,O,"readonly");if(A.error)return n(A.error);var T=A.txn;T.oncomplete=g,T.onabort=r(n);var P,M=T.objectStore(I),D=T.objectStore(N),R=T.objectStore(F),B=D.index("_doc_id_rev"),q=[];return R.get(F).onsuccess=function(t){P=t.target.result.docCount},S||0===x?void 0:-1===x?d(M,k,m):void p(M,k,t.descending,x+$,h)}function y(t){return new P(function(e){var n=D.blob([""]);t.objectStore(U).put(n,"key").onsuccess=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)},t.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)}}).catch(function(){return!1})}function g(t,e){t.objectStore(I).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(t){e(t.target.result)}}function b(t,e,n,r){try{t(e,n)}catch(e){r.emit("error",e)}}function _(){!z&&H.length&&(z=!0,H.shift()())}function w(t,e,n){H.push(function(){t(function(t,r){b(e,t,r,n),z=!1,A.nextTick(function(){_(n)})})}),_()}function $(t,e,n,i){function s(e,n,r){function i(e,n){var r=t.processChange(n,e,t);g=r.seq=e.seq;var i=j(r);if("object"==typeof i)return t.complete(i);i&&(S++,_&&k.push(r),t.attachments&&t.include_docs?u(n,t,w,function(){c([r],t.binary).then(function(){t.onChange(r)})}):t.onChange(r))}function o(){for(var t=0,e=s.length;t<e&&S!==b;t++){var n=s[t];if(n){i(l[t],n)}}S!==b&&r.continue()}if(r&&e.length){var s=new Array(e.length),l=new Array(e.length),f=0;n.forEach(function(t,n){h(a(t),e[n],function(t,r){l[n]=t,s[n]=r,++f===e.length&&o()})})}}function l(t,e,n,r){if(n.seq!==e)return r();if(n.winningRev===t._rev)return r(n,t);var i=t._id+"::"+n.winningRev;E.get(i).onsuccess=function(t){r(n,a(t.target.result))}}function h(t,e,n){if(y&&!y.has(t._id))return n();var r=C.get(t._id);if(r)return l(t,e,r,n);x.get(t._id).onsuccess=function(i){r=o(i.target.result),C.set(t._id,r),l(t,e,r,n)}}function d(){t.complete(null,{results:k,last_seq:g})}function v(){!t.continuous&&t.attachments?c(k).then(d):d()}if(t=A.clone(t),t.continuous){var m=n+":"+A.uuid();return V.addListener(n,m,e,t),V.notify(n),{cancel:function(){V.removeListener(n,m)}}}var y=t.doc_ids&&new O.Set(t.doc_ids);t.since=t.since||0;var g=t.since,b="limit"in t?t.limit:-1;0===b&&(b=1);var _;_="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var w,$,x,E,k=[],S=0,j=A.filterChange(t),C=new O.Map,T=[I,N];t.attachments&&T.push(L);var P=f(i,T,"readonly");if(P.error)return t.complete(P.error);w=P.txn,w.onabort=r(t.complete),w.oncomplete=v,$=w.objectStore(N),x=w.objectStore(I),E=$.index("_doc_id_rev"),p($,t.since&&!t.descending?IDBKeyRange.lowerBound(t.since,!0):null,t.descending,b,s)}function x(t,e){var n=this;w(function(e){E(n,t,e)},e,n.constructor)}function E(t,e,n){function u(t){var e=t.createObjectStore(I,{keyPath:"id"});t.createObjectStore(N,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),t.createObjectStore(L,{keyPath:"digest"}),t.createObjectStore(F,{keyPath:"id",autoIncrement:!1}),t.createObjectStore(U),e.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),t.createObjectStore(q,{keyPath:"_id"});var n=t.createObjectStore(B,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function c(t,e){var n=t.objectStore(I);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(t){var r=t.target.result;if(r){var i=r.value,o=j.isDeleted(i);i.deletedOrLocal=o?"1":"0",n.put(i),r.continue()}else e()}}function p(t){t.createObjectStore(q,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function d(t,e){var n=t.objectStore(q),r=t.objectStore(I),i=t.objectStore(N);r.openCursor().onsuccess=function(t){var o=t.target.result;if(o){var a=o.value,s=a.id,u=j.isLocalId(s),c=j.winningRev(a);if(u){var l=s+"::"+c,f=s+"::",h=s+"::~",p=i.index("_doc_id_rev"),d=IDBKeyRange.bound(f,h,!1,!1),v=p.openCursor(d);v.onsuccess=function(t){if(v=t.target.result){var e=v.value;e._doc_id_rev===l&&n.put(e),i.delete(v.primaryKey),v.continue()}else r.delete(o.primaryKey),o.continue()}}else o.continue()}else e&&e()}}function v(t){var e=t.createObjectStore(B,{autoIncrement:!0});e.createIndex("seq","seq"),e.createIndex("digestSeq","digestSeq",{unique:!0})}function b(t,e){var n=t.objectStore(N),r=t.objectStore(L),i=t.objectStore(B);r.count().onsuccess=function(t){if(!t.target.result)return e();n.openCursor().onsuccess=function(t){var n=t.target.result;if(!n)return e();for(var r=n.value,o=n.primaryKey,a=Object.keys(r._attachments||{}),s={},u=0;u<a.length;u++)s[r._attachments[a[u]].digest]=!0;var c=Object.keys(s);for(u=0;u<c.length;u++){var l=c[u];i.put({seq:o,digestSeq:l+"::"+o})}n.continue()}}}function _(t){function e(t){return t.data?o(t):(t.deleted="1"===t.deletedOrLocal,t)}var n=t.objectStore(N),r=t.objectStore(I);r.openCursor().onsuccess=function(t){function o(){var t=i(s,s.winningRev,s.deleted);r.put(t).onsuccess=function(){a.continue()}}var a=t.target.result;if(a){var s=e(a.value);if(s.winningRev=s.winningRev||j.winningRev(s),s.seq)return o();!function(){var t=s.id+"::",e=s.id+"::",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(t,e)),i=0;r.onsuccess=function(t){var e=t.target.result;if(!e)return s.seq=i,o();var n=e.primaryKey;n>i&&(i=n),e.continue()}}()}}}var w=e.name,x=null;t._meta=null,t._remote=!1,t.type=function(){return"idb"},t._id=A.toPromise(function(e){e(null,t._meta.instanceId)}),t._bulkDocs=function(n,r,i){h(e,n,r,t,x,i)},t._get=function(t,e,n){function r(){n(u,{doc:i,metadata:s,ctx:c})}var i,s,u,c=e.ctx;if(!c){var l=f(x,[I,N,L],"readonly");if(l.error)return n(l.error);c=l.txn}c.objectStore(I).get(t).onsuccess=function(t){if(!(s=o(t.target.result)))return u=C.createError(C.MISSING_DOC,"missing"),r();var n;if(e.rev)n=e.latest?j.latest(e.rev,s):e.rev;else{n=s.winningRev;if(j.isDeleted(s))return u=C.createError(C.MISSING_DOC,"deleted"),r()}var l=c.objectStore(N),f=s.id+"::"+n;l.index("_doc_id_rev").get(f).onsuccess=function(t){if(i=t.target.result,i&&(i=a(i)),!i)return u=C.createError(C.MISSING_DOC,"missing"),r();r()}}},t._getAttachment=function(t,e,n,r,i){var o;if(r.ctx)o=r.ctx;else{var a=f(x,[I,N,L],"readonly");if(a.error)return i(a.error);o=a.txn}var u=n.digest,c=n.content_type;o.objectStore(L).get(u).onsuccess=function(t){s(t.target.result.body,c,r.binary,function(t){i(null,t)})}},t._info=function(e){var n,r,i=f(x,[F,N],"readonly");if(i.error)return e(i.error);var o=i.txn;o.objectStore(F).get(F).onsuccess=function(t){r=t.target.result.docCount},o.objectStore(N).openCursor(null,"prev").onsuccess=function(t){var e=t.target.result;n=e?e.key:0},o.oncomplete=function(){e(null,{doc_count:r,update_seq:n,idb_attachment_format:t._meta.blobSupport?"binary":"base64"})}},t._allDocs=function(t,e){m(t,x,e)},t._changes=function(e){$(e,t,w,x)},t._close=function(t){x.close(),G.delete(w),t()},t._getRevisionTree=function(t,e){var n=f(x,[I],"readonly");if(n.error)return e(n.error);n.txn.objectStore(I).get(t).onsuccess=function(t){var n=o(t.target.result);n?e(null,n.rev_tree):e(C.createError(C.MISSING_DOC))}},t._doCompaction=function(t,e,n){var a=[I,N,L,B],s=f(x,a,"readwrite");if(s.error)return n(s.error);var u=s.txn;u.objectStore(I).get(t).onsuccess=function(n){var r=o(n.target.result);j.traverseRevTree(r.rev_tree,function(t,n,r,i,o){var a=n+"-"+r;-1!==e.indexOf(a)&&(o.status="missing")}),l(e,t,u);var a=r.winningRev,s=r.deleted;u.objectStore(I).put(i(r,a,s))},u.onabort=r(n),u.oncomplete=function(){n()}},t._getLocal=function(t,e){var n=f(x,[q],"readonly");if(n.error)return e(n.error);var i=n.txn,o=i.objectStore(q).get(t);o.onerror=r(e),o.onsuccess=function(t){var n=t.target.result;n?(delete n._doc_id_rev,e(null,n)):e(C.createError(C.MISSING_DOC))}},t._putLocal=function(t,e,n){"function"==typeof e&&(n=e,e={}),delete t._revisions;var i=t._rev,o=t._id;t._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var a,s=e.ctx;if(!s){var u=f(x,[q],"readwrite");if(u.error)return n(u.error);s=u.txn,s.onerror=r(n),s.oncomplete=function(){a&&n(null,a)}}var c,l=s.objectStore(q);i?(c=l.get(o),c.onsuccess=function(r){var o=r.target.result;if(o&&o._rev===i){l.put(t).onsuccess=function(){a={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,a)}}else n(C.createError(C.REV_CONFLICT))}):(c=l.add(t),c.onerror=function(t){n(C.createError(C.REV_CONFLICT)),t.preventDefault(),t.stopPropagation()},c.onsuccess=function(){a={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,a)})},t._removeLocal=function(t,e,n){"function"==typeof e&&(n=e,e={});var i=e.ctx;if(!i){var o=f(x,[q],"readwrite");if(o.error)return n(o.error);i=o.txn,i.oncomplete=function(){a&&n(null,a)}}var a,s=t._id,u=i.objectStore(q),c=u.get(s);c.onerror=r(n),c.onsuccess=function(r){var i=r.target.result;i&&i._rev===t._rev?(u.delete(s),a={ok:!0,id:s,rev:"0-0"},e.ctx&&n(null,a)):n(C.createError(C.MISSING_DOC))}},t._destroy=function(t,e){V.removeAllListeners(w);var n=W.get(w);n&&n.result&&(n.result.close(),G.delete(w));var i=indexedDB.deleteDatabase(w);i.onsuccess=function(){W.delete(w),A.hasLocalStorage()&&w in localStorage&&delete localStorage[w],e(null,{ok:!0})},i.onerror=r(e)};var E=G.get(w);if(E)return x=E.idb,t._meta=E.global,A.nextTick(function(){n(null,t)});var O;O=e.storage?k(w,e.storage):indexedDB.open(w,R),W.set(w,O),O.onupgradeneeded=function(t){function e(){var t=i[o-1];o++,t&&t(r,e)}var n=t.target.result;if(t.oldVersion<1)return u(n);var r=t.currentTarget.transaction;t.oldVersion<3&&p(n),t.oldVersion<4&&v(n);var i=[c,d,b,_],o=t.oldVersion;e()},O.onsuccess=function(e){function r(){void 0!==s&&l&&(t._meta={name:w,instanceId:u,blobSupport:s},G.set(w,{idb:x,global:t._meta}),n(null,t))}function i(){if(void 0!==a&&void 0!==o){var t=w+"_id";t in o?u=o[t]:o[t]=u=A.uuid(),o.docCount=a,c.objectStore(F).put(o)}}x=e.target.result,x.onversionchange=function(){x.close(),G.delete(w)},x.onabort=function(t){A.guardedConsole("error","Database has a global failure",t.target.error),x.close(),G.delete(w)};var o,a,s,u,c=x.transaction([F,U,I],"readwrite"),l=!1;c.objectStore(F).get(F).onsuccess=function(t){o=t.target.result||{id:F},i()},g(c,function(t){a=t,i()}),S||(S=y(c)),S.then(function(t){s=t,r()}),c.oncomplete=function(){l=!0,r()}},O.onerror=function(){var t="Failed to open indexedDB, are you in private browsing mode?";A.guardedConsole("error",t),n(C.createError(C.IDB_ERROR,t))}}function k(t,e){try{return indexedDB.open(t,{version:R,storage:e})}catch(e){return indexedDB.open(t,R)}}var S,O=n(51),A=n(29),j=n(134),C=n(62),T=n(474),P=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n(63)),M=n(482),D=n(82),R=5,I="document-store",N="by-sequence",L="attach-store",B="attach-seq-store",F="meta-store",q="local-store",U="detect-blob-support",V=new A.changesHandler,z=!1,H=[],G=new O.Map,W=new O.Map;x.valid=function(){return!("undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform))&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange};var K=function(t){t.adapter("idb",x,!0)};t.exports=K},function(t,e,n){"use strict";function r(t){return t.reduce(function(t,e){return t[e]=!0,t},{})}function i(t){if(!/^\d+\-./.test(t))return m.createError(m.INVALID_REV);var e=t.indexOf("-"),n=t.substring(0,e),r=t.substring(e+1);return{prefix:parseInt(n,10),id:r}}function o(t,e){for(var n=t.start-t.ids.length+1,r=t.ids,i=[r[0],e,[]],o=1,a=r.length;o<a;o++)i=[r[o],{status:"missing"},[i]];return[{pos:n,ids:i}]}function a(t,e){var n,r,a,s={status:"available"};if(t._deleted&&(s.deleted=!0),e)if(t._id||(t._id=v.uuid()),r=v.uuid(32,16).toLowerCase(),t._rev){if(a=i(t._rev),a.error)return a;t._rev_tree=[{pos:a.prefix,ids:[a.id,{status:"missing"},[[r,s,[]]]]}],n=a.prefix+1}else t._rev_tree=[{pos:1,ids:[r,s,[]]}],n=1;else if(t._revisions&&(t._rev_tree=o(t._revisions,s),n=t._revisions.start,r=t._revisions.ids[0]),!t._rev_tree){if(a=i(t._rev),a.error)return a;n=a.prefix,r=a.id,t._rev_tree=[{pos:n,ids:[r,s,[]]}]}v.invalidIdError(t._id),t._rev=n+"-"+r;var u={metadata:{},data:{}};for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)){var l="_"===c[0];if(l&&!w[c]){var f=m.createError(m.DOC_VALIDATION,c);throw f.message=m.DOC_VALIDATION.message+": "+c,f}l&&!$[c]?u.metadata[c.slice(1)]=t[c]:u.data[c]=t[c]}return u}function s(t){try{return g.atob(t)}catch(t){var e=m.createError(m.BAD_ARG,"Attachment is not a valid base64 string");return{error:e}}}function u(t,e,n){var r=s(t.data);if(r.error)return n(r.error);t.length=r.length,t.data="blob"===e?g.binaryStringToBlobOrBuffer(r,t.content_type):"base64"===e?g.btoa(r):r,b.binaryMd5(r,function(e){t.digest="md5-"+e,n()})}function c(t,e,n){b.binaryMd5(t.data,function(r){t.digest="md5-"+r,t.length=t.data.size||t.data.length||0,"binary"===e?g.blobOrBufferToBinaryString(t.data,function(e){t.data=e,n()}):"base64"===e?g.blobOrBufferToBase64(t.data,function(e){t.data=e,n()}):n()})}function l(t,e,n){if(t.stub)return n();"string"==typeof t.data?u(t,e,n):c(t,e,n)}function f(t,e,n){function r(){o++,t.length===o&&(i?n(i):n())}if(!t.length)return n();var i,o=0;t.forEach(function(t){function n(t){i=t,++a===o.length&&r()}var o=t.data&&t.data._attachments?Object.keys(t.data._attachments):[],a=0;if(!o.length)return r();for(var s in t.data._attachments)t.data._attachments.hasOwnProperty(s)&&l(t.data._attachments[s],e,n)})}function h(t,e,n,r,i,o,s,u){if(y.revExists(e.rev_tree,n.metadata.rev))return r[i]=n,o();var c=e.winningRev||y.winningRev(e),l="deleted"in e?e.deleted:y.isDeleted(e,c),f="deleted"in n.metadata?n.metadata.deleted:y.isDeleted(n.metadata),h=/^1-/.test(n.metadata.rev);if(l&&!f&&u&&h){var p=n.data;p._rev=c,p._id=n.metadata.id,n=a(p,u)}var d=y.merge(e.rev_tree,n.metadata.rev_tree[0],t);if(u&&(l&&f&&"new_leaf"!==d.conflicts||!l&&"new_leaf"!==d.conflicts||l&&!f&&"new_branch"===d.conflicts)){var v=m.createError(m.REV_CONFLICT);return r[i]=v,o()}var g=n.metadata.rev;n.metadata.rev_tree=d.tree,n.stemmedRevs=d.stemmedRevs||[],e.rev_map&&(n.metadata.rev_map=e.rev_map);var b,_=y.winningRev(n.metadata),w=y.isDeleted(n.metadata,_),$=l===w?0:l<w?-1:1;b=g===_?w:y.isDeleted(n.metadata,g),s(n,_,w,b,!0,$,i,o)}function p(t){return"missing"===t.metadata.rev_tree[0].ids[1].status}function d(t,e,n,r,i,o,a,s,u){function c(t,e,n){var r=y.winningRev(t.metadata),i=y.isDeleted(t.metadata,r);if("was_delete"in s&&i)return o[e]=m.createError(m.MISSING_DOC,"deleted"),n();if(f&&p(t)){var u=m.createError(m.REV_CONFLICT);return o[e]=u,n()}a(t,r,i,i,!1,i?0:1,e,n)}function l(){++v===g&&u&&u()}t=t||1e3;var f=s.new_edits,d=new _.Map,v=0,g=e.length;e.forEach(function(t,e){if(t._id&&y.isLocalId(t._id)){var r=t._deleted?"_removeLocal":"_putLocal";return void n[r](t,{ctx:i},function(t,n){o[e]=t||n,l()})}var a=t.metadata.id;d.has(a)?(g--,d.get(a).push([t,e])):d.set(a,[[t,e]])}),d.forEach(function(e,n){function i(){++u<e.length?s():l()}function s(){var s=e[u],l=s[0],p=s[1];if(r.has(n))h(t,r.get(n),l,o,p,i,a,f);else{var d=y.merge([],l.metadata.rev_tree[0],t);l.metadata.rev_tree=d.tree,l.stemmedRevs=d.stemmedRevs||[],c(l,p,i)}}var u=0;s()})}Object.defineProperty(e,"__esModule",{value:!0});var v=n(29),m=n(62),y=n(134),g=n(82),b=n(133),_=n(51),w=r(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),$=r(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);e.invalidIdError=v.invalidIdError,e.isDeleted=y.isDeleted,e.isLocalId=y.isLocalId,e.normalizeDdocFunctionName=v.normalizeDdocFunctionName,e.parseDdocFunctionName=v.parseDdocFunctionName,e.parseDoc=a,e.preprocessAttachments=f,e.processDocs=d,e.updateDoc=h},function(t,e,n){"use strict";function r(t){return f.scopeEval('"use strict";\nreturn '+t+";",{})}function i(t){var e=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+t+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n");return f.scopeEval(e,{})}function o(t,e){if(t.selector&&t.filter&&"_selector"!==t.filter){var n="string"==typeof t.filter?t.filter:"function";return e(new Error('selector invalid for filter "'+n+'"'))}e()}function a(t){t.view&&!t.filter&&(t.filter="_view"),t.selector&&!t.filter&&(t.filter="_selector"),t.filter&&"string"==typeof t.filter&&("_view"===t.filter?t.view=f.normalizeDdocFunctionName(t.view):t.filter=f.normalizeDdocFunctionName(t.filter))}function s(t,e){return e.filter&&"string"==typeof e.filter&&!e.doc_ids&&!f.isRemote(t.db)}function u(t,e){var n=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var o=l.createError(l.BAD_REQUEST,"`view` filter parameter not found or invalid.");return n(o)}var a=f.parseDdocFunctionName(e.view);t.db.get("_design/"+a[0],function(r,o){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(l.generateErrorFromResponse(r));var s=o&&o.views&&o.views[a[1]]&&o.views[a[1]].map;if(!s)return n(l.createError(l.MISSING_DOC,o.views?"missing json key: "+a[1]:"missing json key: views"));e.filter=i(s),t.doChanges(e)})}else if(e.selector)e.filter=function(t){return h.matchesSelector(t,e.selector)},t.doChanges(e);else{var s=f.parseDdocFunctionName(e.filter);t.db.get("_design/"+s[0],function(i,o){if(t.isCancelled)return n(null,{status:"cancelled"});if(i)return n(l.generateErrorFromResponse(i));var a=o&&o.filters&&o.filters[s[1]];if(!a)return n(l.createError(l.MISSING_DOC,o&&o.filters?"missing json key: "+s[1]:"missing json key: filters"));e.filter=r(a),t.doChanges(e)})}}function c(t){t._changesFilterPlugin={validate:o,normalize:a,shouldFilter:s,filter:u}}var l=n(62),f=n(29),h=n(135);t.exports=c},function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function i(t,e){try{t.emit("change",e)}catch(t){_.guardedConsole("error",'Error in .on("change", function):',t)}}function o(t,e,n){function r(){o.cancel()}E.EventEmitter.call(this);var o=this;this.db=t,e=e?_.clone(e):{};var a=e.complete=_.once(function(e,n){e?_.listenerCount(o,"error")>0&&o.emit("error",e):o.emit("complete",n),o.removeAllListeners(),t.removeListener("destroyed",r)});n&&(o.on("complete",function(t){n(null,t)}),o.on("error",n)),t.once("destroyed",r),e.onChange=function(t){o.isCancelled||i(o,t)};var s=new x(function(t,n){e.complete=function(e,r){e?n(e):t(r)}});o.once("cancel",function(){t.removeListener("destroyed",r),e.complete(null,{status:"cancelled"})}),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then(function(t){a(null,t)},a),t.taskqueue.isReady?o.validateChanges(e):t.taskqueue.addTask(function(t){t?e.complete(t):o.isCancelled?o.emit("cancel"):o.validateChanges(e)})}function a(t,e,n){var r=[{rev:t._rev}];"all_docs"===n.style&&(r=S.collectLeaves(e.rev_tree).map(function(t){return{rev:t.rev}}));var i={id:e.id,changes:r,doc:t};return S.isDeleted(e,t._rev)&&(i.deleted=!0),n.conflicts&&(i.doc._conflicts=S.collectConflicts(e),i.doc._conflicts.length||delete i.doc._conflicts),i}function s(t,e){return t<e?-1:t>e?1:0}function u(t){return function(e,n){e||n[0]&&n[0].error?t(e||n[0]):t(null,n.length?n[0]:n)}}function c(t){for(var e=0;e<t.length;e++){var n=t[e];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),i=0;i<r.length;i++){var o=r[i];n._attachments[o]=_.pick(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}function l(t,e){var n=s(t._id,e._id);return 0!==n?n:s(t._revisions?t._revisions.start:0,e._revisions?e._revisions.start:0)}function f(t){var e={},n=[];return S.traverseRevTree(t,function(t,r,i,o){var a=r+"-"+i;return t&&(e[a]=0),void 0!==o&&n.push({from:o,to:a}),a}),n.reverse(),n.forEach(function(t){void 0===e[t.from]?e[t.from]=1+e[t.to]:e[t.from]=Math.min(e[t.from],1+e[t.to])}),e}function h(t,e,n){var r="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;if(e.descending&&r.reverse(),!r.length)return t._allDocs({limit:0},n);var i={offset:e.skip};return x.all(r.map(function(n){var r=_.assign({key:n,deleted:"ok"},e);return["limit","skip","keys"].forEach(function(t){delete r[t]}),new x(function(e,o){t._allDocs(r,function(t,r){if(t)return o(t);i.total_rows=r.total_rows,e(r.rows[0]||{key:n,error:"not_found"})})})})).then(function(t){return i.rows=t,i})}function p(t){var e=t._compactionQueue[0],n=e.opts,r=e.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(e){e&&e.last_seq&&(n.last_seq=e.last_seq),t._compact(n,function(e,n){e?r(e):r(null,n),_.nextTick(function(){t._compactionQueue.shift(),t._compactionQueue.length&&p(t)})})})}function d(t){return"_"===t.charAt(0)&&t+" is not a valid attachment name, attachment names cannot start with '_'"}function v(){E.EventEmitter.call(this)}function m(){this.isReady=!1,this.failed=!1,this.queue=[]}function y(t,e){var n=t.match(/([a-z\-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=b.adapters,i=b.preferredAdapters,o=b.prefix,a=e.adapter;if(!a)for(var s=0;s<i.length;++s){a=i[s];{if(!("idb"===a&&"websql"in r&&_.hasLocalStorage()&&localStorage["_pouch__websqldb_"+o+t]))break;_.guardedConsole("log",'PouchDB is downgrading "'+t+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.')}}var u=r[a];return{name:u&&"use_prefix"in u&&!u.use_prefix?t:o+t,adapter:a}}function g(t){function e(){t.removeListener("closed",r),t.constructor.emit("destroyed",t.name)}function n(){t.removeListener("destroyed",e),t.removeListener("closed",r),t.emit("destroyed")}function r(){t.removeListener("destroyed",e),i.delete(t.name)}var i=t.constructor._destructionListeners;t.once("destroyed",e),t.once("closed",r),i.has(t.name)||i.set(t.name,[]),i.get(t.name).push(n)}function b(t,e){if(!(this instanceof b))return new b(t,e);var n=this;if(e=e||{},t&&"object"==typeof t&&(e=t,t=e.name,delete e.name),this.__opts=e=_.clone(e),n.auto_compaction=e.auto_compaction,n.prefix=b.prefix,"string"!=typeof t)throw new Error("Missing/invalid DB name");var r=(e.prefix||"")+t,i=y(r,e);if(e.name=i.name,e.adapter=e.adapter||i.adapter,n.name=t,n._adapter=e.adapter,b.emit("debug",["adapter","Picked adapter: ",e.adapter]),!b.adapters[e.adapter]||!b.adapters[e.adapter].valid())throw new Error("Invalid Adapter: "+e.adapter);v.call(n),n.taskqueue=new m,n.adapter=e.adapter,b.adapters[e.adapter].call(n,e,function(t){if(t)return n.taskqueue.fail(t);g(n),n.emit("created",n),b.emit("created",n.name),n.taskqueue.ready(n)})}var _=n(29),w=n(51),$=r(n(13)),x=r(n(63)),E=n(35),k=r(n(92)),S=n(134),O=n(62),A=r(n(477)),j=r(n(475));$(o,E.EventEmitter),o.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},o.prototype.validateChanges=function(t){var e=t.complete,n=this;b._changesFilterPlugin?b._changesFilterPlugin.validate(t,function(r){if(r)return e(r);n.doChanges(t)}):n.doChanges(t)},o.prototype.doChanges=function(t){var e=this,n=t.complete;if(t=_.clone(t),"live"in t&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=a,"latest"===t.since&&(t.since="now"),t.since||(t.since=0),"now"===t.since)return void this.db.info().then(function(r){if(e.isCancelled)return void n(null,{status:"cancelled"});t.since=r.update_seq,e.doChanges(t)},n);if(b._changesFilterPlugin){if(b._changesFilterPlugin.normalize(t),b._changesFilterPlugin.shouldFilter(this,t))return b._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach(function(e){e in t&&_.guardedConsole("warn",'The "'+e+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in t||(t.descending=!1),t.limit=0===t.limit?1:t.limit,t.complete=n;var r=this.db._changes(t);if(r&&"function"==typeof r.cancel){var i=e.cancel;e.cancel=k(function(t){r.cancel(),i.apply(this,t)})}},$(v,E.EventEmitter),v.prototype.post=_.adapterFun("post",function(t,e,n){if("function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t))return n(O.createError(O.NOT_AN_OBJECT));this.bulkDocs({docs:[t]},e,u(n))}),v.prototype.put=_.adapterFun("put",function(t,e,n){return"function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t)?n(O.createError(O.NOT_AN_OBJECT)):(_.invalidIdError(t._id),S.isLocalId(t._id)&&"function"==typeof this._putLocal?t._deleted?this._removeLocal(t,n):this._putLocal(t,n):void("function"==typeof this._put&&!1!==e.new_edits?this._put(t,e,n):this.bulkDocs({docs:[t]},e,u(n))))}),v.prototype.putAttachment=_.adapterFun("putAttachment",function(t,e,n,r,i){function o(t){var n="_rev"in t?parseInt(t._rev,10):0;return t._attachments=t._attachments||{},t._attachments[e]={content_type:i,data:r,revpos:++n},a.put(t)}var a=this;return"function"==typeof i&&(i=r,r=n,n=null),void 0===i&&(i=r,r=n,n=null),i||_.guardedConsole("warn","Attachment",e,"on document",t,"is missing content_type"),a.get(t).then(function(t){if(t._rev!==n)throw O.createError(O.REV_CONFLICT);return o(t)},function(e){if(e.reason===O.MISSING_DOC.message)return o({_id:t});throw e})}),v.prototype.removeAttachment=_.adapterFun("removeAttachment",function(t,e,n,r){var i=this;i.get(t,function(t,o){return t?void r(t):o._rev!==n?void r(O.createError(O.REV_CONFLICT)):o._attachments?(delete o._attachments[e],0===Object.keys(o._attachments).length&&delete o._attachments,void i.put(o,r)):r()})}),v.prototype.remove=_.adapterFun("remove",function(t,e,n,r){var i;"string"==typeof e?(i={_id:t,_rev:e},"function"==typeof n&&(r=n,n={})):(i=t,"function"==typeof e?(r=e,n={}):(r=n,n=e)),n=n||{},n.was_delete=!0;var o={_id:i._id,_rev:i._rev||n.rev};if(o._deleted=!0,S.isLocalId(o._id)&&"function"==typeof this._removeLocal)return this._removeLocal(i,r);this.bulkDocs({docs:[o]},n,u(r))}),v.prototype.revsDiff=_.adapterFun("revsDiff",function(t,e,n){function r(t,e){s.has(t)||s.set(t,{missing:[]}),s.get(t).missing.push(e)}function i(e,n){var i=t[e].slice(0);S.traverseRevTree(n,function(t,n,o,a,s){var u=n+"-"+o,c=i.indexOf(u);-1!==c&&(i.splice(c,1),"available"!==s.status&&r(e,u))}),i.forEach(function(t){r(e,t)})}"function"==typeof e&&(n=e,e={});var o=Object.keys(t);if(!o.length)return n(null,{});var a=0,s=new w.Map;o.map(function(e){this._getRevisionTree(e,function(r,u){if(r&&404===r.status&&"missing"===r.message)s.set(e,{missing:t[e]});else{if(r)return n(r);i(e,u)}if(++a===o.length){var c={};return s.forEach(function(t,e){c[e]=t}),n(null,c)}})},this)}),v.prototype.bulkGet=_.adapterFun("bulkGet",function(t,e){_.bulkGetShim(this,t,e)}),v.prototype.compactDocument=_.adapterFun("compactDocument",function(t,e,n){var r=this;this._getRevisionTree(t,function(i,o){if(i)return n(i);var a=f(o),s=[],u=[];Object.keys(a).forEach(function(t){a[t]>e&&s.push(t)}),S.traverseRevTree(o,function(t,e,n,r,i){var o=e+"-"+n;"available"===i.status&&-1!==s.indexOf(o)&&u.push(o)}),r._doCompaction(t,u,n)})}),v.prototype.compact=_.adapterFun("compact",function(t,e){"function"==typeof t&&(e=t,t={});var n=this;t=t||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:t,callback:e}),1===n._compactionQueue.length&&p(n)}),v.prototype._compact=function(t,e){function n(t){a.push(i.compactDocument(t.id,0))}function r(t){var n=t.last_seq;x.all(a).then(function(){return _.upsert(i,"_local/compaction",function(t){return(!t.last_seq||t.last_seq<n)&&(t.last_seq=n,t)})}).then(function(){e(null,{ok:!0})}).catch(e)}var i=this,o={return_docs:!1,last_seq:t.last_seq||0},a=[];i.changes(o).on("change",n).on("complete",r).on("error",e)},v.prototype.get=_.adapterFun("get",function(t,e,n){function r(){var r=[],a=i.length;if(!a)return n(null,r);i.forEach(function(i){o.get(t,{rev:i,revs:e.revs,latest:e.latest,attachments:e.attachments},function(t,e){if(t)r.push({missing:i});else{for(var o,s=0,u=r.length;s<u;s++)if(r[s].ok&&r[s].ok._rev===e._rev){o=!0;break}o||r.push({ok:e})}--a||n(null,r)})})}if("function"==typeof e&&(n=e,e={}),"string"!=typeof t)return n(O.createError(O.INVALID_ID));if(S.isLocalId(t)&&"function"==typeof this._getLocal)return this._getLocal(t,n);var i=[],o=this;if(!e.open_revs)return this._get(t,e,function(t,r){if(t)return n(t);var i=r.doc,a=r.metadata,s=r.ctx;if(e.conflicts){var u=S.collectConflicts(a);u.length&&(i._conflicts=u)}if(S.isDeleted(a,i._rev)&&(i._deleted=!0),e.revs||e.revs_info){for(var c=i._rev.split("-"),l=parseInt(c[0],10),f=c[1],h=S.rootToLeaf(a.rev_tree),p=null,d=0;d<h.length;d++){var v=h[d],m=v.ids.map(function(t){return t.id}).indexOf(f);(m===l-1||!p&&-1!==m)&&(p=v)}var y=p.ids.map(function(t){return t.id}).indexOf(i._rev.split("-")[1])+1,g=p.ids.length-y;if(p.ids.splice(y,g),p.ids.reverse(),e.revs&&(i._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map(function(t){return t.id})}),e.revs_info){var b=p.pos+p.ids.length;i._revs_info=p.ids.map(function(t){return b--,{rev:b+"-"+t.id,status:t.opts.status}})}}if(e.attachments&&i._attachments){var _=i._attachments,w=Object.keys(_).length;if(0===w)return n(null,i);Object.keys(_).forEach(function(t){this._getAttachment(i._id,t,_[t],{rev:i._rev,binary:e.binary,ctx:s},function(e,r){var o=i._attachments[t];o.data=r,delete o.stub,delete o.length,--w||n(null,i)})},o)}else{if(i._attachments)for(var $ in i._attachments)i._attachments.hasOwnProperty($)&&(i._attachments[$].stub=!0);n(null,i)}});if("all"===e.open_revs)this._getRevisionTree(t,function(t,e){if(t)return n(t);i=S.collectLeaves(e).map(function(t){return t.rev}),r()});else{if(!Array.isArray(e.open_revs))return n(O.createError(O.UNKNOWN_ERROR,"function_clause"));i=e.open_revs;for(var a=0;a<i.length;a++){var s=i[a];if("string"!=typeof s||!/^\d+-/.test(s))return n(O.createError(O.INVALID_REV))}r()}}),v.prototype.getAttachment=_.adapterFun("getAttachment",function(t,e,n,r){var i=this;n instanceof Function&&(r=n,n={}),this._get(t,n,function(o,a){return o?r(o):a.doc._attachments&&a.doc._attachments[e]?(n.ctx=a.ctx,n.binary=!0,i._getAttachment(t,e,a.doc._attachments[e],n,r),void 0):r(O.createError(O.MISSING_DOC))})}),v.prototype.allDocs=_.adapterFun("allDocs",function(t,e){if("function"==typeof t&&(e=t,t={}),t.skip=void 0!==t.skip?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return e(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(e){return e in t})[0];if(n)return void e(O.createError(O.QUERY_PARSE_ERROR,"Query parameter `"+n+"` is not compatible with multi-get"));if(!_.isRemote(this))return h(this,t,e)}return this._allDocs(t,e)}),v.prototype.changes=function(t,e){return"function"==typeof t&&(e=t,t={}),new o(this,t,e)},v.prototype.close=_.adapterFun("close",function(t){return this._closed=!0,this.emit("closed"),this._close(t)}),v.prototype.info=_.adapterFun("info",function(t){var e=this;this._info(function(n,r){if(n)return t(n);r.db_name=r.db_name||e.name,r.auto_compaction=!(!e.auto_compaction||_.isRemote(e)),r.adapter=e.adapter,t(null,r)})}),v.prototype.id=_.adapterFun("id",function(t){return this._id(t)}),v.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},v.prototype.bulkDocs=_.adapterFun("bulkDocs",function(t,e,n){if("function"==typeof e&&(n=e,e={}),e=e||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return n(O.createError(O.MISSING_BULK_DOCS));for(var r=0;r<t.docs.length;++r)if("object"!=typeof t.docs[r]||Array.isArray(t.docs[r]))return n(O.createError(O.NOT_AN_OBJECT));var i;if(t.docs.forEach(function(t){t._attachments&&Object.keys(t._attachments).forEach(function(e){i=i||d(e),t._attachments[e].content_type||_.guardedConsole("warn","Attachment",e,"on document",t._id,"is missing content_type")})}),i)return n(O.createError(O.BAD_REQUEST,i));"new_edits"in e||(e.new_edits=!("new_edits"in t)||t.new_edits);var o=this;e.new_edits||_.isRemote(o)||t.docs.sort(l),c(t.docs);var a=t.docs.map(function(t){return t._id});return this._bulkDocs(t,e,function(t,r){if(t)return n(t);if(e.new_edits||(r=r.filter(function(t){return t.error})),!_.isRemote(o))for(var i=0,s=r.length;i<s;i++)r[i].id=r[i].id||a[i];n(null,r)})}),v.prototype.registerDependentDatabase=_.adapterFun("registerDependentDatabase",function(t,e){function n(e){return e.dependentDbs=e.dependentDbs||{},!e.dependentDbs[t]&&(e.dependentDbs[t]=!0,e)}var r=new this.constructor(t,this.__opts);_.upsert(this,"_local/_pouch_dependentDbs",n).then(function(){e(null,{db:r})}).catch(e)}),v.prototype.destroy=_.adapterFun("destroy",function(t,e){function n(){r._destroy(t,function(t,n){if(t)return e(t);r._destroyed=!0,r.emit("destroyed"),e(null,n||{ok:!0})})}"function"==typeof t&&(e=t,t={});var r=this,i=!("use_prefix"in r)||r.use_prefix;if(_.isRemote(r))return n();r.get("_local/_pouch_dependentDbs",function(t,o){if(t)return 404!==t.status?e(t):n();var a=o.dependentDbs,s=r.constructor,u=Object.keys(a).map(function(t){var e=i?t.replace(new RegExp("^"+s.prefix),""):t;return new s(e,r.__opts).destroy()});x.all(u).then(n,e)})}),m.prototype.execute=function(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()},m.prototype.fail=function(t){this.failed=t,this.execute()},m.prototype.ready=function(t){this.isReady=!0,this.db=t,this.execute()},m.prototype.addTask=function(t){this.queue.push(t),this.failed&&this.execute()},$(b,v),b.adapters={},b.preferredAdapters=[],b.prefix="_pouch_";var C=new E.EventEmitter;!function(t){Object.keys(E.EventEmitter.prototype).forEach(function(e){"function"==typeof E.EventEmitter.prototype[e]&&(t[e]=C[e].bind(C))});var e=t._destructionListeners=new w.Map;t.on("destroyed",function(t){e.get(t).forEach(function(t){t()}),e.delete(t)})}(b),b.adapter=function(t,e,n){e.valid()&&(b.adapters[t]=e,n&&b.preferredAdapters.push(t))},b.plugin=function(t){if("function"==typeof t)t(b);else{if("object"!=typeof t||0===Object.keys(t).length)throw new Error('Invalid plugin: got "'+t+'", expected an object or a function');Object.keys(t).forEach(function(e){b.prototype[e]=t[e]})}return this.__defaults&&(b.__defaults=_.assign({},this.__defaults)),b},b.defaults=function(t){function e(t,n){if(!(this instanceof e))return new e(t,n);n=n||{},t&&"object"==typeof t&&(n=t,t=n.name,delete n.name),n=_.assign({},e.__defaults,n),b.call(this,t,n)}return $(e,b),e.preferredAdapters=b.preferredAdapters.slice(),Object.keys(b).forEach(function(t){t in e||(e[t]=b[t])}),e.__defaults=_.assign({},this.__defaults,t),e};b.plugin(A),b.plugin(j),b.version="6.2.0",t.exports=b},function(t,e,n){"use strict";function r(t){t.debug=i;var e={};t.on("debug",function(t){var n=t[0],r=t.slice(1);e[n]||(e[n]=i("pouchdb:"+n)),e[n].apply(null,r)})}var i=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n(478));t.exports=r},function(t,e,n){(function(r){function i(){return!("undefined"==typeof window||!window||void 0===window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,r)}}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function u(){try{return e.storage.debug}catch(t){}if(void 0!==r&&"env"in r)return r.env.DEBUG}e=t.exports=n(479),e.log=a,e.formatArgs=o,e.save=s,e.load=u,e.useColors=i,e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(u())}).call(e,n(3))},function(t,e,n){function r(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}function i(t){function n(){if(n.enabled){var t=n,r=+new Date,i=r-(c||r);t.diff=i,t.prev=c,t.curr=r,c=r;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=e.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var s=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;s++;var i=e.formatters[r];if("function"==typeof i){var a=o[s];n=i.call(t,a),o.splice(s,1),s--}return n}),e.formatArgs.call(t,o);(n.log||e.log||console.log.bind(console)).apply(t,o)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=r(t),"function"==typeof e.init&&e.init(n),n}function o(t){e.save(t),e.names=[],e.skips=[];for(var n=(t||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&(t=n[i].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function a(){e.enable("")}function s(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1}function u(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=i.debug=i.default=i,e.coerce=u,e.disable=a,e.enable=o,e.enabled=s,e.humanize=n(480),e.names=[],e.skips=[],e.formatters={};var c},function(t,e){function n(t){if(t=String(t),!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(t){return t>=c?Math.round(t/c)+"d":t>=u?Math.round(t/u)+"h":t>=s?Math.round(t/s)+"m":t>=a?Math.round(t/a)+"s":t+"ms"}function i(t){return o(t,c,"day")||o(t,u,"hour")||o(t,s,"minute")||o(t,a,"second")||t+" ms"}function o(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var a=1e3,s=60*a,u=60*s,c=24*u,l=365.25*c;t.exports=function(t,e){e=e||{};var o=typeof t;if("string"===o&&t.length>0)return n(t);if("number"===o&&!1===isNaN(t))return e.long?i(t):r(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){"use strict";(function(e){function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function i(t){return t=lt.clone(t),t.index||(t.index={}),["type","name","ddoc"].forEach(function(e){t.index[e]&&(t[e]=t.index[e],delete t.index[e])}),t.fields&&(t.index.fields=t.fields,delete t.fields),t.type||(t.type="json"),t}function o(t,e,n){e=i(e),t.request({method:"POST",url:"_index",body:e},n)}function a(t,e,n){t.request({method:"POST",url:"_find",body:e},n)}function s(t,e){t.request({method:"GET",url:"_index"},e)}function u(t,e,n){var r=e.ddoc,i=e.type||"json",o=e.name;if(!r)return n(new Error("you must provide an index's ddoc"));if(!o)return n(new Error("you must provide an index's name"));var a="_index/"+[r,i,o].map(encodeURIComponent).join("/");t.request({method:"DELETE",url:a},n)}function c(t){return function(){for(var e=arguments.length,n=new Array(e),r=-1;++r<e;)n[r]=arguments[r];return t.call(this,n)}}function l(t){return c(function(e){var n=e.pop(),r=t.apply(this,e);return f(r,n),r})}function f(t,n){return t.then(function(t){e.nextTick(function(){n(null,t)})},function(t){e.nextTick(function(){n(t)})}),t}function h(t){for(var e={},n=0,r=t.length;n<r;n++)e=lt.assign(e,t[n]);return e}function p(t,e){for(var n={},r=0,i=e.length;r<i;r++){var o=ht.parseField(e[r]),a=ht.getFieldFromDoc(t,o);void 0!==a&&ht.setFieldInDoc(n,o,a)}return n}function d(t,e){for(var n=0,r=Math.min(t.length,e.length);n<r;n++)if(t[n]!==e[n])return!1;return!0}function v(t,e){return!(t.length>e.length)&&d(t,e)}function m(t,e){t=t.slice();for(var n=0,r=e.length;n<r;n++){var i=e[n];if(!t.length)break;var o=t.indexOf(i);if(-1===o)return!1;t.splice(o,1)}return!0}function y(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n]]=!0;return e}function g(t,e){for(var n=null,r=-1,i=0,o=t.length;i<o;i++){var a=t[i],s=e(a);s>r&&(r=s,n=a)}return n}function b(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function _(t){for(var e={},n=0;n<t.length;n++)e["$"+t[n]]=!0;return Object.keys(e).map(function(t){return t.substring(1)})}function w(t,e){return function(n){for(var r=[],i=0,o=t.length;i<o;i++){for(var a=ht.parseField(t[i]),s=n,u=0,c=a.length;u<c;u++){if(!(s=s[a[u]]))return}r.push(s)}e(r)}}function $(t,e){var n=ht.parseField(t);return function(t){for(var r=t,i=0,o=n.length;i<o;i++){if(!(r=r[n[i]]))return}e(r)}}function x(t,e){return function(n){e(n[t])}}function E(t,e){return function(n){for(var r=[],i=0,o=t.length;i<o;i++)r.push(n[t[i]]);e(r)}}function k(t){for(var e=0,n=t.length;e<n;e++){if(-1!==t[e].indexOf("."))return!1}return!0}function S(t,e){var n=k(t),r=1===t.length;return n?r?x(t[0],e):E(t,e):r?$(t[0],e):w(t,e)}function O(t,e){return S(Object.keys(t.fields),e)}function A(){throw new Error("reduce not supported")}function j(t,e){var n=t.views[e];if(!n.map||!n.map.fields)throw new Error("ddoc "+t._id+" with view "+e+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}function C(t){if(!Array.isArray(t))throw new Error("invalid sort json - should be an array");return t.map(function(t){if("string"==typeof t){var e={};return e[t]="asc",e}return t})}function T(t){return t.fields=t.fields.map(function(t){if("string"==typeof t){var e={};return e[t]="asc",e}return t}),t}function P(t,e){for(var n=[],r=0;r<e.def.fields.length;r++){var i=ht.getKey(e.def.fields[r]);n.push(t[i])}return n}function M(t,e,n){for(var r=n.def.fields,i=0,o=t.length;i<o;i++){var a=t[i],s=P(a.doc,n);if(1===r.length)s=s[0];else for(;s.length>e.length;)s.pop();if(Math.abs(dt.collate(s,e))>0)break}return i>0?t.slice(i):t}function D(t){var e=lt.clone(t);return delete e.startkey,delete e.endkey,delete e.inclusive_start,delete e.inclusive_end,"endkey"in t&&(e.startkey=t.endkey),"startkey"in t&&(e.endkey=t.startkey),"inclusive_start"in t&&(e.inclusive_end=t.inclusive_start),"inclusive_end"in t&&(e.inclusive_start=t.inclusive_end),e}function R(t){var e=t.fields.filter(function(t){return"asc"===ht.getValue(t)});if(0!==e.length&&e.length!==t.fields.length)throw new Error("unsupported mixed sorting")}function I(t,e){if(e.defaultUsed&&t.sort){var n=t.sort.filter(function(t){return"_id"!==Object.keys(t)[0]}).map(function(t){return Object.keys(t)[0]});if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}e.defaultUsed}function N(t){if("object"!=typeof t.selector)throw new Error("you must provide a selector when you find()")}function L(t,e){var n,r=Object.keys(t),i=e?e.map(ht.getKey):[];return n=r.length>=i.length?r:i,0===i.length?{fields:n}:(n=n.sort(function(t,e){var n=i.indexOf(t);-1===n&&(n=Number.MAX_VALUE);var r=i.indexOf(e);return-1===r&&(r=Number.MAX_VALUE),n<r?-1:n>r?1:0}),{fields:n,sortOrder:e.map(ht.getKey)})}function B(t,e){function n(t){return t._rev&&"query"!==t.language&&(c=!0),t.language="query",t.views=t.views||{},!(l=!!t.views[a])&&(t.views[a]={map:{fields:h(e.index.fields)},reduce:"_count",options:{def:r}},t)}e=i(e);var r=lt.clone(e.index);e.index=T(e.index),R(e.index);var o=vt.stringMd5(JSON.stringify(e)),a=e.name||"idx-"+o,s=e.ddoc||"idx-"+o,u="_design/"+s,c=!1,l=!1;return t.constructor.emit("debug",["find","creating index",u]),lt.upsert(t,u,n).then(function(){if(c)throw new Error('invalid language for ddoc with id "'+u+'" (should be "query")')}).then(function(){var e=s+"/"+a;return yt.query.call(t,e,{limit:0,reduce:!1}).then(function(){return{id:u,name:a,result:l?"exists":"created"}})})}function F(t){return t.allDocs({startkey:"_design/",endkey:"_design/",include_docs:!0}).then(function(t){var e={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return e.indexes=mt(e.indexes,t.rows.filter(function(t){return"query"===t.doc.language}).map(function(t){return(void 0!==t.doc.views?Object.keys(t.doc.views):[]).map(function(e){var n=t.doc.views[e];return{ddoc:t.id,name:e,type:"json",def:T(n.options.def)}})})),e.indexes.sort(function(t,e){return ht.compare(t.name,e.name)}),e.total_rows=e.indexes.length,e})}function q(t,e){for(var n=t.def.fields.map(ht.getKey),r=0,i=n.length;r<i;r++){if(e===n[r])return!0}return!1}function U(t,e){var n=t[e];return"$eq"!==ht.getKey(n)}function V(t,e){var n=e.def.fields.map(ht.getKey);return t.slice().sort(function(t,e){var r=n.indexOf(t),i=n.indexOf(e);return-1===r&&(r=Number.MAX_VALUE),-1===i&&(i=Number.MAX_VALUE),ht.compare(r,i)})}function z(t,e,n){n=V(n,t);for(var r=!1,i=0,o=n.length;i<o;i++){var a=n[i];if(r||!q(t,a))return n.slice(i);i<o-1&&U(e,a)&&(r=!0)}return[]}function H(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n];Object.keys(r).forEach(function(t){"$ne"===t&&e.push(n)})}),e}function G(t,e,n,r){return V(_(mt(t,z(e,n,r),H(n))),e)}function W(t,e,n){if(e){var r=v(e,t),i=d(n,t);return r&&i}return m(n,t)}function K(t){return-1===_t.indexOf(t)}function J(t,e){var n=t[0],r=e[n];return void 0===r||!!Object.keys(r).some(function(t){return!K(t)})&&!(1===Object.keys(r).length&&"$ne"===ht.getKey(r))}function Y(t,e,n,r){var i=t.def.fields.map(ht.getKey);return!!W(i,e,n)&&J(i,r)}function Q(t,e,n,r){return r.reduce(function(r,i){return Y(i,n,e,t)&&r.push(i),r},[])}function X(t,e,n,r){function i(t){for(var e=t.def.fields.map(ht.getKey),n=0,r=0,i=e.length;r<i;r++){var o=e[r];s[o]&&n++}return n}var o=Q(t,e,n,r);if(0===o.length){var a=r[0];return a.defaultUsed=!0,a}if(1===o.length)return o[0];var s=y(e);return g(o,i)}function Z(t,e){switch(t){case"$eq":return{key:e};case"$lte":return{endkey:e};case"$gte":return{startkey:e};case"$lt":return{endkey:e,inclusive_end:!1};case"$gt":return{startkey:e,inclusive_start:!1}}}function tt(t,e){var n,r=ht.getKey(e.def.fields[0]),i=t[r]||{},o=[],a=Object.keys(i);return a.forEach(function(t){if(K(t))return void o.push(r);var e=i[t],a=Z(t,e);n=n?h([n,a]):a}),{queryOpts:n,inMemoryFields:o}}function et(t,e){switch(t){case"$eq":return{startkey:e,endkey:e};case"$lte":return{endkey:e};case"$gte":return{startkey:e};case"$lt":return{endkey:e,inclusive_end:!1};case"$gt":return{startkey:e,inclusive_start:!1}}}function nt(t,e){function n(t){!1!==r&&s.push(gt),!1!==i&&u.push(bt),a=o.slice(t)}for(var r,i,o=e.def.fields.map(ht.getKey),a=[],s=[],u=[],c=0,l=o.length;c<l;c++){var f=o[c],p=t[f];if(!p||!Object.keys(p).length){n(c);break}if(c>0){if(Object.keys(p).some(K)){n(c);break}var d="$gt"in p||"$gte"in p||"$lt"in p||"$lte"in p,v=Object.keys(t[o[c-1]]),m=b(v,["$eq"]),y=b(v,Object.keys(p));if(d&&!m&&!y){n(c);break}}for(var g=Object.keys(p),_=null,w=0;w<g.length;w++){var $=g[w],x=p[$],E=et($,x);_=_?h([_,E]):E}s.push("startkey"in _?_.startkey:gt),u.push("endkey"in _?_.endkey:bt),"inclusive_start"in _&&(r=_.inclusive_start),"inclusive_end"in _&&(i=_.inclusive_end)}var k={startkey:s,endkey:u};return void 0!==r&&(k.inclusive_start=r),void 0!==i&&(k.inclusive_end=i),{queryOpts:k,inMemoryFields:a}}function rt(t){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(t)]}}function it(t,e){return e.defaultUsed?rt(t,e):1===e.def.fields.length?tt(t,e):nt(t,e)}function ot(t,e){var n=t.selector,r=t.sort,i=L(n,r),o=i.fields,a=i.sortOrder,s=X(n,o,a,e),u=it(n,s);return{queryOpts:u.queryOpts,index:s,inMemoryFields:G(u.inMemoryFields,s,n,o)}}function at(t){return t.ddoc.substring(8)+"/"+t.name}function st(t,e){var n=lt.clone(e);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),t.allDocs(n)}function ut(t,e){return e.selector&&(e.selector=ht.massageSelector(e.selector)),e.sort&&(e.sort=C(e.sort)),N(e),F(t).then(function(n){t.constructor.emit("debug",["find","planning query",e]);var r=ot(e,n.indexes);t.constructor.emit("debug",["find","query plan",r]);var i=r.index;I(e,i);var o=lt.assign({include_docs:!0,reduce:!1},r.queryOpts);return"startkey"in o&&"endkey"in o&&dt.collate(o.startkey,o.endkey)>0?{docs:[]}:(e.sort&&"string"!=typeof e.sort[0]&&"desc"===ht.getValue(e.sort[0])&&(o.descending=!0,o=D(o)),r.inMemoryFields.length||("limit"in e&&(o.limit=e.limit),"skip"in e&&(o.skip=e.skip)),ft.resolve().then(function(){if("_all_docs"===i.name)return st(t,o);var e=at(i);return yt.query.call(t,e,o)}).then(function(t){!1===o.inclusive_start&&(t.rows=M(t.rows,o.startkey,i)),r.inMemoryFields.length&&(t.rows=ht.filterInMemoryFields(t.rows,e,r.inMemoryFields));var n={docs:t.rows.map(function(t){var n=t.doc;return e.fields?p(n,e.fields):n})};return i.defaultUsed&&(n.warning="no matching index found, create an index to optimize query time"),n}))})}function ct(t,e){function n(t){return 1===Object.keys(t.views).length&&t.views[i]?{_id:r,_deleted:!0}:(delete t.views[i],t)}if(!e.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!e.name)throw new Error("you must supply an index.name when deleting");var r=e.ddoc,i=e.name;return lt.upsert(t,r,n).then(function(){return yt.viewCleanup.apply(t)}).then(function(){return{ok:!0}})}var lt=n(29),ft=r(n(63)),ht=n(135),pt=r(n(472)),dt=n(132),vt=n(133),mt=c(function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];Array.isArray(i)?e=e.concat(mt.apply(null,i)):e.push(i)}return e}),yt=pt("indexes",O,A,j),gt=null,bt={"":{}},_t=["$eq","$gt","$gte","$lt","$lte"],wt=l(B),$t=l(ut),xt=l(F),Et=l(ct),kt={};kt.createIndex=lt.toPromise(function(t,e){if("object"!=typeof t)return e(new Error("you must provide an index to create"));(lt.isRemote(this)?o:wt)(this,t,e)}),kt.find=lt.toPromise(function(t,e){if(void 0===e&&(e=t,t=void 0),"object"!=typeof t)return e(new Error("you must provide search parameters to find()"));(lt.isRemote(this)?a:$t)(this,t,e)}),kt.getIndexes=lt.toPromise(function(t){(lt.isRemote(this)?s:xt)(this,t)}),kt.deleteIndex=lt.toPromise(function(t,e){if("object"!=typeof t)return e(new Error("you must provide an index to delete"));(lt.isRemote(this)?u:Et)(this,t,e)}),t.exports=kt}).call(e,n(3))},function(t,e,n){"use strict";function r(t){try{return JSON.parse(t)}catch(e){return o.parse(t)}}function i(t){try{return JSON.stringify(t)}catch(e){return o.stringify(t)}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n(582));e.safeJsonParse=r,e.safeJsonStringify=i},function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function i(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,i)}catch(t){}}function o(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,o)}catch(t){}}function a(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,a)}catch(t){}}function s(t,e){return e&&t.then(function(t){v.nextTick(function(){e(null,t)})},function(t){v.nextTick(function(){e(t)})}),t}function u(t){return d(function(e){var n=e.pop(),r=t.apply(this,e);return"function"==typeof n&&s(r,n),r})}function c(t,e){return t.then(function(t){return e().then(function(){return t})},function(t){return e().then(function(){throw t})})}function l(t,e){return function(){var n=arguments,r=this;return t.add(function(){return e.apply(r,n)})}}function f(t){var e=new p.Set(t),n=new Array(e.size),r=-1;return e.forEach(function(t){n[++r]=t}),n}function h(t){var e=new Array(t.size),n=-1;return t.forEach(function(t,r){e[++n]=r}),e}Object.defineProperty(e,"__esModule",{value:!0});var p=n(51),d=r(n(92)),v=n(29),m=r(n(13));m(i,Error),m(o,Error),m(a,Error),e.uniq=f,e.sequentialize=l,e.fin=c,e.callbackify=u,e.promisedCallback=s,e.mapToKeysArray=h,e.QueryParseError=i,e.NotFoundError=o,e.BuiltInError=a},function(t,e,n){(function(t,e){/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;!function(n){"use strict";function r(t,e,n,r){if(E(n)){if(!M(t))throw new TypeError;if(!R(e))throw new TypeError;return p(t,e)}if(!M(t))throw new TypeError;if(!O(e))throw new TypeError;if(!O(r)&&!E(r)&&!k(r))throw new TypeError;return k(r)&&(r=void 0),n=P(n),d(t,e,n,r)}function i(t,e){function n(n,r){if(!O(n))throw new TypeError;if(!E(r)&&!I(r))throw new TypeError;_(t,e,n,r)}return n}function o(t,e,n,r){if(!O(n))throw new TypeError;return E(r)||(r=P(r)),_(t,e,n,r)}function a(t,e,n){if(!O(e))throw new TypeError;return E(n)||(n=P(n)),m(t,e,n)}function s(t,e,n){if(!O(e))throw new TypeError;return E(n)||(n=P(n)),y(t,e,n)}function u(t,e,n){if(!O(e))throw new TypeError;return E(n)||(n=P(n)),g(t,e,n)}function c(t,e,n){if(!O(e))throw new TypeError;return E(n)||(n=P(n)),b(t,e,n)}function l(t,e){if(!O(t))throw new TypeError;return E(e)||(e=P(e)),w(t,e)}function f(t,e){if(!O(t))throw new TypeError;return E(e)||(e=P(e)),$(t,e)}function h(t,e,n){if(!O(e))throw new TypeError;E(n)||(n=P(n));var r=v(e,n,!1);if(E(r))return!1;if(!r.delete(t))return!1;if(r.size>0)return!0;var i=tt.get(e);return i.delete(n),i.size>0||(tt.delete(e),!0)}function p(t,e){for(var n=t.length-1;n>=0;--n){var r=t[n],i=r(e);if(!E(i)&&!k(i)){if(!R(i))throw new TypeError;e=i}}return e}function d(t,e,n,r){for(var i=t.length-1;i>=0;--i){var o=t[i],a=o(e,n,r);if(!E(a)&&!k(a)){if(!O(a))throw new TypeError;r=a}}return r}function v(t,e,n){var r=tt.get(t);if(E(r)){if(!n)return;r=new Q,tt.set(t,r)}var i=r.get(e);if(E(i)){if(!n)return;i=new Q,r.set(e,i)}return i}function m(t,e,n){if(y(t,e,n))return!0;var r=U(e);return!k(r)&&m(t,r,n)}function y(t,e,n){var r=v(e,n,!1);return!E(r)&&C(r.has(t))}function g(t,e,n){if(y(t,e,n))return b(t,e,n);var r=U(e);return k(r)?void 0:g(t,r,n)}function b(t,e,n){var r=v(e,n,!1);if(!E(r))return r.get(t)}function _(t,e,n,r){v(n,r,!0).set(t,e)}function w(t,e){var n=$(t,e),r=U(t);if(null===r)return n;var i=w(r,e);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new X,a=[],s=0,u=n;s<u.length;s++){var c=u[s],l=o.has(c);l||(o.add(c),a.push(c))}for(var f=0,h=i;f<h.length;f++){var c=h[f],l=o.has(c);l||(o.add(c),a.push(c))}return a}function $(t,e){var n=[],r=v(t,e,!1);if(E(r))return n;for(var i=r.keys(),o=L(i),a=0;;){var s=F(o);if(!s)return n.length=a,n;var u=B(s);try{n[a]=u}catch(t){try{q(o)}finally{throw t}}a++}}function x(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function E(t){return void 0===t}function k(t){return null===t}function S(t){return"symbol"==typeof t}function O(t){return"object"==typeof t?null!==t:"function"==typeof t}function A(t,e){switch(x(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",r=N(t,W);if(void 0!==r){var i=r.call(t,n);if(O(i))throw new TypeError;return i}return j(t,"default"===n?"number":n)}function j(t,e){if("string"===e){var n=t.toString;if(D(n)){var r=n.call(t);if(!O(r))return r}var i=t.valueOf;if(D(i)){var r=i.call(t);if(!O(r))return r}}else{var i=t.valueOf;if(D(i)){var r=i.call(t);if(!O(r))return r}var o=t.toString;if(D(o)){var r=o.call(t);if(!O(r))return r}}throw new TypeError}function C(t){return!!t}function T(t){return""+t}function P(t){var e=A(t,3);return S(e)?e:T(e)}function M(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function D(t){return"function"==typeof t}function R(t){return"function"==typeof t}function I(t){switch(x(t)){case 3:case 4:return!0;default:return!1}}function N(t,e){var n=t[e];if(void 0!==n&&null!==n){if(!D(n))throw new TypeError;return n}}function L(t){var e=N(t,K);if(!D(e))throw new TypeError;var n=e.call(t);if(!O(n))throw new TypeError;return n}function B(t){return t.value}function F(t){var e=t.next();return!e.done&&e}function q(t){var e=t.return;e&&e.call(t)}function U(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===J)return e;if(e!==J)return e;var n=t.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;var i=r.constructor;return"function"!=typeof i?e:i===t?e:i}function V(t){return t.__=void 0,delete t.__,t}var z,H=Object.prototype.hasOwnProperty,G="function"==typeof Symbol,W=G&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",K=G&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator";!function(t){var e="function"==typeof Object.create,n={__proto__:[]}instanceof Array,r=!e&&!n;t.create=e?function(){return V(Object.create(null))}:n?function(){return V({__proto__:null})}:function(){return V({})},t.has=r?function(t,e){return H.call(t,e)}:function(t,e){return e in t},t.get=r?function(t,e){return H.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}}(z||(z={}));var J=Object.getPrototypeOf(Function),Y="object"==typeof t&&t.env&&"true"===t.env.REFLECT_METADATA_USE_MAP_POLYFILL,Q=Y||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){function t(t,e){return t}function e(t,e){return e}function n(t,e){return[t,e]}var r={},i=[],o=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[K]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var e=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=i,this._values=i):this._index++,{value:e,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=i,this._values=i),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=i,this._values=i),{value:t,done:!0}},t}();return function(){function i(){this._keys=[],this._values=[],this._cacheKey=r,this._cacheIndex=-2}return Object.defineProperty(i.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),i.prototype.has=function(t){return this._find(t,!1)>=0},i.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},i.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},i.prototype.delete=function(t){var e=this._find(t,!1);if(e>=0){for(var n=this._keys.length,i=e+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=r,this._cacheIndex=-2),!0}return!1},i.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=r,this._cacheIndex=-2},i.prototype.keys=function(){return new o(this._keys,this._values,t)},i.prototype.values=function(){return new o(this._keys,this._values,e)},i.prototype.entries=function(){return new o(this._keys,this._values,n)},i.prototype["@@iterator"]=function(){return this.entries()},i.prototype[K]=function(){return this.entries()},i.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},i}()}():Map,X=Y||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){return function(){function t(){this._map=new Q}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[K]=function(){return this.keys()},t}()}():Set,Z=Y||"function"!=typeof WeakMap?function(){function t(){var t;do{t="@@WeakMap@@"+i()}while(z.has(a,t));return a[t]=!0,t}function e(t,e){if(!H.call(t,s)){if(!e)return;Object.defineProperty(t,s,{value:z.create()})}return t[s]}function n(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function r(t){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):n(new Uint8Array(t),t):n(new Array(t),t)}function i(){var t=r(o);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var e="",n=0;n<o;++n){var i=t[n];4!==n&&6!==n&&8!==n||(e+="-"),i<16&&(e+="0"),e+=i.toString(16).toLowerCase()}return e}var o=16,a=z.create(),s=t();return function(){function n(){this._key=t()}return n.prototype.has=function(t){var n=e(t,!1);return void 0!==n&&z.has(n,this._key)},n.prototype.get=function(t){var n=e(t,!1);return void 0!==n?z.get(n,this._key):void 0},n.prototype.set=function(t,n){return e(t,!0)[this._key]=n,this},n.prototype.delete=function(t){var n=e(t,!1);return void 0!==n&&delete n[this._key]},n.prototype.clear=function(){this._key=t()},n}()}():WeakMap,tt=new Z;n.decorate=r,n.metadata=i,n.defineMetadata=o,n.hasMetadata=a,n.hasOwnMetadata=s,n.getMetadata=u,n.getOwnMetadata=c,n.getMetadataKeys=l,n.getOwnMetadataKeys=f,n.deleteMetadata=h,function(t){if(void 0!==t.Reflect){if(t.Reflect!==n)for(var e in n)H.call(n,e)&&(t.Reflect[e]=n[e])}else t.Reflect=n}(void 0!==e?e:"undefined"!=typeof self?self:Function("return this;")())}(n||(n={}))}).call(e,n(3),n(8))},function(t,e,n){(function(e){var r="object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this,i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(486),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}}).call(e,n(8))},function(t,e,n){(function(e){!function(e){"use strict";function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,a=Object.create(o.prototype),s=new p(r||[]);return a._invoke=c(t,n,s),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function n(e,i,o,a){var s=r(t[e],t,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&g.call(c,"__await")?Promise.resolve(c.__await).then(function(t){n("next",t,o,a)},function(t){n("throw",t,o,a)}):Promise.resolve(c).then(function(t){u.value=t,o(u)},a)}a(s.arg)}function i(t,e){function r(){return new Promise(function(r,i){n(t,e,r,i)})}return o=o?o.then(r,r):r()}"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n));var o;this._invoke=i}function c(t,e,n){var i=k;return function(o,a){if(i===O)throw new Error("Generator is already running");if(i===A){if("throw"===o)throw a;return v()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=l(s,n);if(u){if(u===j)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===k)throw i=A,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=O;var c=r(t,e,n);if("normal"===c.type){if(i=n.done?A:S,c.arg===j)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=A,n.method="throw",n.arg=c.arg)}}}function l(t,e){var n=t.iterator[e.method];if(n===m){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=m,l(t,e),"throw"===e.method))return j;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return j}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,j;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=m),e.delegate=null,j):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,j)}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function d(t){if(t){var e=t[_];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(g.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=m,e.done=!0,e};return r.next=r}}return{next:v}}function v(){return{value:m,done:!0}}var m,y=Object.prototype,g=y.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",$=b.toStringTag||"@@toStringTag",x="object"==typeof t,E=e.regeneratorRuntime;if(E)return void(x&&(t.exports=E));E=e.regeneratorRuntime=x?t.exports:{},E.wrap=n;var k="suspendedStart",S="suspendedYield",O="executing",A="completed",j={},C={};C[_]=function(){return this};var T=Object.getPrototypeOf,P=T&&T(T(d([])));P&&P!==y&&g.call(P,_)&&(C=P);var M=a.prototype=i.prototype=Object.create(C);o.prototype=M.constructor=a,a.constructor=o,a[$]=o.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,$ in t||(t[$]="GeneratorFunction")),t.prototype=Object.create(M),t},E.awrap=function(t){return{__await:t}},s(u.prototype),u.prototype[w]=function(){return this},E.AsyncIterator=u,E.async=function(t,e,r,i){var o=new u(n(t,e,r,i));return E.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(M),M[$]="Generator",M[_]=function(){return this},M.toString=function(){return"[object Generator]"},E.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},E.values=d,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&g.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=m),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=g.call(i,"catchLoc"),s=g.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,j):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),j},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),h(n),j}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;h(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:d(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=m),j}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,n(8))},function(t,e,n){"use strict";function r(t){return new a(t)}e.a=r;var i=n(1),o=n.n(i),a=function(){function t(e){var n=this;o()(this,t),this.collection=e,this.subs=[],this.limit=100,this.buffer=[],this.counter=0,this.eventCounterMap=new WeakMap,this.subs.push(this.collection.$.subscribe(function(t){return n._handleChangeEvent(t)}))}return t.prototype._handleChangeEvent=function(t){for(this.counter++,this.buffer.push(t),this.eventCounterMap.set(t,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},t.prototype.getArrayIndexByPointer=function(t){var e=this.buffer[0],n=this.eventCounterMap.get(e);if(t<n)throw new Error("\n\t\t\t\t\t\t\tpointer lower than lowest cache-pointer\n\t\t\t\t\t\t\t- wanted: "+t+"\n\t\t\t\t\t\t\t- oldest: "+n+"\n\t\t\t\t\t\t\t");return t-n},t.prototype.getFrom=function(t){for(var e=this.getArrayIndexByPointer(t),n=[];;){var r=this.buffer[e];if(e++,!r)return n;n.push(r)}},t.prototype.runFrom=function(t,e){this.getFrom(t).forEach(function(t){return e(t)})},t.prototype.reduceByLastOfDoc=function(t){var e={};return t.forEach(function(t){e[t.data.doc]=t}),Object.values(e)},t.prototype.destroy=function(){this.subs.forEach(function(t){return t.unsubscribe()})},t}()},function(t,e,n){"use strict";function r(t,e){return new b(t,e)}e.a=r;var i=n(2),o=n.n(i),a=n(6),s=n.n(a),u=n(5),c=n.n(u),l=n(1),f=n.n(l),h=n(84),p=n(14),d=n.n(p),v=n(11),m=n(85),y=n(206),g=n(205),b=function(){function t(e,n){f()(this,t),this.newestCollection=e,this.migrationStrategies=n,this.currentSchema=e.schema,this.database=e.database,this.name=e.name}return t.prototype._getOldCollections=function(){function t(){return e.apply(this,arguments)}var e=c()(s.a.mark(function t(){var e,n=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(this.currentSchema.previousVersions.map(function(t){return n.database._collectionsPouch.get(n.name+"-"+t)}).map(function(t){return t.catch(function(t){return null})}));case 2:return e=t.sent,t.abrupt("return",e.filter(function(t){return null!=t}).map(function(t){return new _(t.schema.version,t.schema,n)}));case 4:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.migrate=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if(this._migrated)throw new Error("Migration has already run");this._migrated=!0;var n={done:!1,total:null,handled:0,success:0,deleted:0,percent:0};return new v.a.Observable(function(){var r=c()(s.a.mark(function r(i){var o,a,u,c,l,f;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t._getOldCollections();case 2:return o=r.sent,r.next=5,Promise.all(o.map(function(t){return t.countAllUndeleted()}));case 5:a=r.sent,u=a.reduce(function(t,e){return e=t+e},0),n.total=u,i.next(d()(n)),c=null,l=null,f=s.a.mark(function r(){var o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.migrate(e),t.next=3,new Promise(function(t){var e=o.subscribe(function(t){n.handled++,n[t.type]=n[t.type]+1,n.percent=Math.round(n.handled/n.total*100),i.next(d()(n))},function(t){l=t,e.unsubscribe(),i.error(t)},function(){e.unsubscribe(),t()})});case 3:case"end":return t.stop()}},r,t)});case 12:if(!(c=o.shift())){r.next=16;break}return r.delegateYield(f(),"t0",14);case 14:r.next=12;break;case 16:n.done=!0,n.percent=100,i.next(d()(n)),i.complete();case 20:case"end":return r.stop()}},r,t)}));return function(t){return r.apply(this,arguments)}}())},t.prototype.migratePromise=function(t){var e=this;return this._migratePromise||(this._migratePromise=new Promise(function(n,r){e.migrate(t).subscribe(null,r,n)})),this._migratePromise},t}(),_=function(){function t(e,n,r){f()(this,t),this.version=e,this.dataMigrator=r,this.schemaObj=n,this.newestCollection=r.newestCollection,this.database=r.newestCollection.database}return t.prototype.countAllUndeleted=function(){function t(){return e.apply(this,arguments)}var e=c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h.a.countAllUndeleted(this.pouchdb));case 1:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.getBatch=function(){function t(t){return e.apply(this,arguments)}var e=c()(s.a.mark(function t(e){var n,r=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.getBatch(this.pouchdb,e);case 2:return n=t.sent,t.abrupt("return",n.map(function(t){return r._handleFromPouch(t)}));case 4:case"end":return t.stop()}},t,this)}));return t}(),t.prototype._handleFromPouch=function(t){var e=this.schema.swapIdToPrimary(t),n=this.keyCompressor.decompress(e);return this.crypter.decrypt(n)},t.prototype.migrateDocumentData=function(){function t(t){return e.apply(this,arguments)}var e=c()(s.a.mark(function t(e){var n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=d()(e),n=this.version+1,r=null;case 3:if(!(n<=this.newestCollection.schema.version)||r){t.next=12;break}return t.next=6,this.dataMigrator.migrationStrategies[n+""](e);case 6:if(e=t.sent,n++,null!=e||r){t.next=10;break}return t.abrupt("return",null);case 10:t.next=3;break;case 12:t.prev=12,this.newestCollection.schema.validate(e),t.next=19;break;case 16:throw t.prev=16,t.t0=t.catch(12),new Error("\n              migration of document from v"+this.version+" to v"+this.newestCollection.schema.version+" failed\n              - final document does not match final schema\n              - final doc: "+JSON.stringify(e)+"\n            ");case 19:return t.abrupt("return",e);case 20:case"end":return t.stop()}},t,this,[[12,16]])}));return t}(),t.prototype._migrateDocument=function(){function t(t){return e.apply(this,arguments)}var e=c()(s.a.mark(function t(e){var n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.migrateDocumentData(e);case 2:if(n=t.sent,r={doc:e,migrated:n},!n){t.next=11;break}return delete n._rev,t.next=8,this.newestCollection._pouchPut(n,!0);case 8:r.type="success",t.next=12;break;case 11:r.type="deleted";case 12:return t.prev=12,t.next=15,this.pouchdb.remove(e);case 15:t.next=19;break;case 17:t.prev=17,t.t0=t.catch(12);case 19:return t.abrupt("return",r);case 20:case"end":return t.stop()}},t,this,[[12,17]])}));return t}(),t.prototype.delete=function(){function t(){return e.apply(this,arguments)}var e=c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pouchdb.destroy();case 2:return t.next=4,this.database.removeCollectionDoc(this.dataMigrator.name,this.schema);case 4:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.migrate=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if(this._migrate)throw new Error("migration already running");return this._migrate=!0,new v.a.Observable(function(){var n=c()(s.a.mark(function n(r){var i,o;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getBatch(e);case 2:i=n.sent,o=void 0;case 4:return n.next=6,Promise.all(i.map(function(e){return t._migrateDocument(e).then(function(t){return r.next(t)})})).catch(function(t){return o=t});case 6:if(!o){n.next=9;break}return r.error(o),n.abrupt("return");case 9:return n.next=11,t.getBatch(e);case 11:i=n.sent;case 12:if(!o&&i.length>0){n.next=4;break}case 13:return n.next=15,t.delete();case 15:r.complete();case 16:case"end":return n.stop()}},n,t)}));return function(t){return n.apply(this,arguments)}}())},t.prototype.migratePromise=function(t){var e=this;return this._migratePromise||(this._migratePromise=new Promise(function(n,r){e.migrate(t).subscribe(null,r,n)})),this._migratePromise},o()(t,[{key:"schema",get:function(){return this._schema||(this._schema=m.create(this.schemaObj,!1)),this._schema}},{key:"keyCompressor",get:function(){return this._keyCompressor||(this._keyCompressor=y.a(this.schema)),this._keyCompressor}},{key:"crypter",get:function(){return this._crypter||(this._crypter=g.a(this.database.password,this.schema)),this._crypter}},{key:"pouchdb",get:function(){return this._pouchdb||(this._pouchdb=this.database._spawnPouchDB(this.newestCollection.name,this.version,this.newestCollection.pouchSettings)),this._pouchdb}}]),t}()},function(t,e,n){"use strict";function r(){return new a}e.a=r;var i=n(1),o=n.n(i),a=function(){function t(){o()(this,t),this._map={}}return t.prototype.get=function(t){return this._map[t]},t.prototype.set=function(t,e){return this._map[t]=e},t.prototype.delete=function(t){delete this._map[t]},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(6),i=n.n(r),o=n(5),a=n.n(o),s=n(1),u=n.n(s),c=n(577),l=(n.n(c),n(11)),f=(n(64),n(208)),h=function(){function t(e){u()(this,t),this.subs=[],this.unloads=[],this.database=e,this.token=this.database.token,this.isLeader=!1,this.becomeLeader$=new l.a.BehaviorSubject({isLeader:!1}),this.isDead=!1,this.isApplying=!1,this.isWaiting=!1,this.bc=f.a(this.database,"leader"),this.electionChannel=this.bc?"broadcast":"socket"}return t.prototype.prepare=function(){function t(){return e.apply(this,arguments)}var e=a()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.createLeaderObject=function(){return{_id:"_local/leader",is:"",apply:"",t:0}},t.prototype.getLeaderObject=function(){function t(){return e.apply(this,arguments)}var e=a()(i.a.mark(function t(){var e,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=void 0,t.prev=1,t.next=4,this.database._adminPouch.get("_local/leader");case 4:e=t.sent,t.next=14;break;case 7:return t.prev=7,t.t0=t.catch(1),e=this.createLeaderObject(),t.next=12,this.database._adminPouch.put(e);case 12:n=t.sent,e._rev=n.rev;case 14:return t.abrupt("return",e);case 15:case"end":return t.stop()}},t,this,[[1,7]])}));return t}(),t.prototype.setLeaderObject=function(){function t(t){return e.apply(this,arguments)}var e=a()(i.a.mark(function t(e){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.database._adminPouch.put(e);case 2:return t.abrupt("return");case 3:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.applyOnce=function(){function t(){return e.apply(this,arguments)}var e=a()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isLeader){t.next=2;break}return t.abrupt("return",!1);case 2:if(!this.isDead){t.next=4;break}return t.abrupt("return",!1);case 4:if(!this.isApplying){t.next=6;break}return t.abrupt("return",!1);case 6:return this.isApplying=!0,t.next=9,this["apply_"+this.electionChannel]();case 9:if(!(e=t.sent)){t.next=13;break}return t.next=13,this.beLeader();case 13:return this.isApplying=!1,t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.apply_socket=function(){function t(){return e.apply(this,arguments)}var e=a()(i.a.mark(function t(){var e,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getLeaderObject();case 3:if(e=t.sent,n=(new Date).getTime()-1e3,!(e.t>=n)){t.next=7;break}throw new Error("someone else is applying/leader");case 7:return e.apply=this.token,e.t=(new Date).getTime(),t.next=11,this.setLeaderObject(e);case 11:return t.next=13,l.h(250);case 13:return t.next=15,this.getLeaderObject();case 15:if(e=t.sent,e.apply==this.token){t.next=18;break}throw new Error("someone else overwrote apply");case 18:return t.abrupt("return",!0);case 21:return t.prev=21,t.t0=t.catch(0),t.abrupt("return",!1);case 24:case"end":return t.stop()}},t,this,[[0,21]])}));return t}(),t.prototype.apply_broadcast=function(){function t(){return e.apply(this,arguments)}var e=a()(i.a.mark(function t(){var e,n,r,o,s,u=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=(new Date).getTime(),n=[],r=[],o=function(){var t=a()(i.a.mark(function t(){var o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.push(u.bc.$.filter(function(t){return!!u.isApplying}).filter(function(t){return t.t>=e}).filter(function(t){return"apply"==t.type}).filter(function(t){return t.data<e||t.data==e&&t.it>u.token}).filter(function(t){return r.length<1}).subscribe(function(t){return r.push("other is applying:"+t.it)})),n.push(u.bc.$.filter(function(t){return!!u.isApplying}).filter(function(t){return t.t>=e}).filter(function(t){return"tell"==t.type}).filter(function(t){return r.length<1}).subscribe(function(t){return r.push("other is leader"+t.it)})),n.push(u.bc.$.filter(function(t){return!!u.isApplying}).filter(function(t){return"apply"==t.type}).filter(function(t){return t.data>e||t.data==e&&t.it>u.token}).subscribe(function(t){return u.bc.write("apply",e)})),o=3;case 4:if(!(o>0)){t.next=14;break}return o--,t.next=8,u.bc.write("apply",e);case 8:return t.next=10,l.h(300);case 10:if(!(r.length>0)){t.next=12;break}return t.abrupt("return",!1);case 12:t.next=4;break;case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,u)}));return function(){return t.apply(this,arguments)}}(),t.next=6,o();case 6:return s=t.sent,n.map(function(t){return t.unsubscribe()}),t.abrupt("return",s);case 9:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.leaderSignal=function(){function t(){return e.apply(this,arguments)}var e=a()(i.a.mark(function t(){var e,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.leaderSignal_run){t.next=2;break}return t.abrupt("return");case 2:this.leaderSignal_run=!0,t.t0=this.electionChannel,t.next="broadcast"===t.t0?6:"socket"===t.t0?9:29;break;case 6:return t.next=8,this.bc.write("tell");case 8:return t.abrupt("break",29);case 9:e=!1;case 10:if(e){t.next=28;break}return t.prev=11,t.next=14,this.getLeaderObject();case 14:return n=t.sent,n.is=this.token,n.apply=this.token,n.t=(new Date).getTime(),t.next=20,this.setLeaderObject(n);case 20:e=!0,t.next=26;break;case 23:t.prev=23,t.t1=t.catch(11),console.dir(t.t1);case 26:t.next=10;break;case 28:return t.abrupt("break",29);case 29:return this.leaderSignal_run=!1,t.abrupt("return");case 31:case"end":return t.stop()}},t,this,[[11,23]])}));return t}(),t.prototype.beLeader=function(){function t(){return e.apply(this,arguments)}var e=a()(i.a.mark(function t(){var e=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isDead){t.next=2;break}return t.abrupt("return",!1);case 2:if(!this.isLeader){t.next=4;break}return t.abrupt("return",!1);case 4:return this.isLeader=!0,this.becomeLeader$.next({isLeader:!0}),this.applyInterval&&this.applyInterval.unsubscribe(),t.next=9,this.leaderSignal();case 9:t.t0=this.electionChannel,t.next="broadcast"===t.t0?12:"socket"===t.t0?15:18;break;case 12:return this.signalLeadership=this.bc.$.filter(function(t){return!!e.isLeader}).filter(function(t){return"tell"!=t.type}).subscribe(function(t){return e.leaderSignal()}),this.subs.push(this.signalLeadership),t.abrupt("break",18);case 15:return this.signalLeadership=l.a.Observable.interval(500).filter(function(t){return!!e.isLeader}).subscribe(function(){return e.leaderSignal()}),this.subs.push(this.signalLeadership),t.abrupt("break",18);case 18:return this.unloads.push(c.add(function(){e.bc.write("death"),e.die()})),t.abrupt("return",!0);case 20:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.die=function(){function t(){return e.apply(this,arguments)}var e=a()(i.a.mark(function t(){var e,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isLeader){t.next=2;break}return t.abrupt("return",!1);case 2:if(!this.isDead){t.next=4;break}return t.abrupt("return",!1);case 4:this.isDead=!0,this.isLeader=!1,this.signalLeadership&&this.signalLeadership.unsubscribe(),t.t0=this.electionChannel,t.next="broadcast"===t.t0?10:"socket"===t.t0?13:30;break;case 10:return t.next=12,this.bc.write("death");case 12:return t.abrupt("break",30);case 13:e=!1;case 14:if(e){t.next=29;break}return t.prev=15,t.next=18,this.getLeaderObject();case 18:return n=t.sent,n.t=0,t.next=22,this.setLeaderObject(n);case 22:e=!0,t.next=27;break;case 25:t.prev=25,t.t1=t.catch(15);case 27:t.next=14;break;case 29:return t.abrupt("break",30);case 30:return t.abrupt("return",!0);case 31:case"end":return t.stop()}},t,this,[[15,25]])}));return t}(),t.prototype.waitForLeadership=function(){function t(){return e.apply(this,arguments)}var e=a()(i.a.mark(function t(){var e,n=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isLeader){t.next=2;break}return t.abrupt("return",Promise.resolve(!0));case 2:if(e=[],this.isWaiting){t.next=14;break}this.isWaiting=!0,this.applyOnce(),t.t0=this.electionChannel,t.next="broadcast"===t.t0?9:"socket"===t.t0?11:14;break;case 9:return this.subs.push(this.bc.$.filter(function(t){return"death"==t.type}).subscribe(function(t){return n.applyOnce()})),t.abrupt("break",14);case 11:return this.applyInterval=l.a.Observable.interval(1e3).subscribe(function(t){return n.applyOnce()}),this.subs.push(this.applyInterval),t.abrupt("break",14);case 14:return t.abrupt("return",new Promise(function(t){var e=n.becomeLeader$.asObservable().filter(function(t){return 1==t.isLeader}).first().subscribe(function(n){e.unsubscribe(),t()})}));case 15:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.destroy=function(){function t(){return e.apply(this,arguments)}var e=a()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.subs.map(function(t){return t.unsubscribe()}),this.unloads.map(function(t){return t()}),t.next=4,this.die();case 4:this.bc&&this.bc.destroy();case 5:case"end":return t.stop()}},t,this)}));return t}(),t}(),p=function(){var t=a()(i.a.mark(function t(e){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new h(e),t.next=3,n.prepare();case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},function(t,e,n){"use strict";function r(){return new a}e.a=r;var i=n(1),o=n.n(i),a=function(){function t(){o()(this,t),this.subs=[],this._map={}}return t.prototype.getByQuery=function(t){var e=t.toString(),n=this._map[e];return n||(this._map[e]=t,t)},t.prototype.destroy=function(){this.subs.forEach(function(t){return t.unsubscribe()}),this._map={}},t}()},function(t,e,n){"use strict";function r(t,e,n){if(e&&"object"!=typeof e)throw new TypeError("query must be an object");if(Array.isArray(e))throw new TypeError("query cannot be an array");var r=new _(t,e,n);return $||($=!0,w(Object.getPrototypeOf(r),Object.getPrototypeOf(r.mquery))),r}e.a=r;var i=n(6),o=n.n(i),a=n(5),s=n.n(a),u=n(1),c=n.n(u),l=n(2),f=n.n(l),h=n(169),p=n.n(h),d=n(495),v=n(14),m=(n.n(v),n(11)),y=(n(136),n(207)),g=0,b=function(){return++g},_=function(){function t(e,n,r){c()(this,t),this.op=e,this.collection=r,this.id=b(),n||(n=this._defaultQuery()),this.mquery=new d.a(n),this._queryChangeDetector=y.create(this),this._resultsData=null,this._results$=new m.a.BehaviorSubject(null),this._observable$=null,this._latestChangeEvent=-1,this._runningPromise=Promise.resolve(!0),this._mustReExec=!0,this._execOverDatabaseCount=0}return t.prototype._defaultQuery=function(){var t;return t={},t[this.collection.schema.primaryPath]={},t},t.prototype._clone=function(){var e=new t(this.op,this._defaultQuery(),this.collection);return e.mquery=this.mquery.clone(),e},t.prototype._tunnelQueryCache=function(){return this.collection._queryCache.getByQuery(this)},t.prototype.toString=function(){if(!this.stringRep){var t=m.i({op:this.op,options:this.mquery.options,_conditions:this.mquery._conditions,_path:this.mquery._path,_fields:this.mquery._fields},!0);this.stringRep=JSON.stringify(t)}return this.stringRep},t.prototype._ensureEqual=function(){function t(){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(){var e,n,r,i,a,s,u;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._latestChangeEvent>=this.collection._changeEventBuffer.counter)){t.next=2;break}return t.abrupt("return",!1);case 2:return e=!1,t.next=5,this._runningPromise;case 5:if(n=void 0,this._runningPromise=new Promise(function(t){n=t}),!this._mustReExec)try{r=this.collection._changeEventBuffer.getFrom(this._latestChangeEvent+1),this._latestChangeEvent=this.collection._changeEventBuffer.counter,i=this.collection._changeEventBuffer.reduceByLastOfDoc(r),a=this._queryChangeDetector.runChangeDetection(i),!Array.isArray(a)&&a&&(this._mustReExec=!0),Array.isArray(a)&&!p()(a,this._resultsData)&&(e=!0,this._setResultData(a))}catch(t){console.error("RxQuery()._ensureEqual(): Unexpected Error:"),console.dir(t),this._mustReExec=!0}if(!this._mustReExec){t.next=15;break}return s=this.collection._changeEventBuffer.counter,t.next=12,this._execOverDatabase();case 12:u=t.sent,this._latestChangeEvent=s,p()(u,this._resultsData)||(e=!0,this._setResultData(u));case 15:return n(!0),t.abrupt("return",e);case 17:case"end":return t.stop()}},t,this)}));return t}(),t.prototype._setResultData=function(t){this._resultsData=t;var e=this.collection._createDocuments(this._resultsData);this._results$.next(e)},t.prototype._execOverDatabase=function(){function t(){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(){var e,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this._execOverDatabaseCount++,e=void 0,n=void 0,t.t0=this.op,t.next="find"===t.t0?5:"findOne"===t.t0?9:13;break;case 5:return t.next=7,this.collection._pouchFind(this);case 7:return e=t.sent,t.abrupt("break",14);case 9:return t.next=11,this.collection._pouchFind(this,1);case 11:return e=t.sent,t.abrupt("break",14);case 13:throw new Error("RxQuery.exec(): op ("+this.op+") not known");case 14:return this._mustReExec=!1,t.abrupt("return",e);case 16:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.toJSON=function(){if(this._toJSON)return this._toJSON;var t=this.collection.schema.primaryPath,e={selector:this.mquery._conditions},n=this.mquery._optionsForExec();if(n.sort){var r=[];Object.keys(n.sort).map(function(e){var i=n.sort[e],o="asc";-1==i&&(o="desc");var a={};e==t&&(e="_id"),a[e]=o,r.push(a)}),e.sort=r}else e.sort=[{_id:"asc"}];if(n.limit){if("number"!=typeof n.limit)throw new TypeError("limit() must get a number");e.limit=n.limit}if(n.skip){if("number"!=typeof n.skip)throw new TypeError("skip() must get a number");e.skip=n.skip}return e.selector.language||(e.selector.language={}),e.selector.language.$ne="query",Object.entries(e.selector).forEach(function(t){var n=t[0],r=t[1];"object"==typeof r&&0==Object.keys(r)&&delete e.selector[n]}),"_id"!=t&&e.selector[t]&&(e.selector._id=e.selector[t],delete e.selector[t]),this._toJSON=e,this._toJSON},t.prototype.keyCompress=function(){return this.collection._keyCompressor.compressQuery(this.toJSON())},t.prototype.remove=function(){function t(){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.exec();case 2:if(e=t.sent,!Array.isArray(e)){t.next=8;break}return t.next=6,Promise.all(e.map(function(t){return t.remove()}));case 6:t.next=10;break;case 8:return t.next=10,e.remove();case 10:return t.abrupt("return",e);case 11:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.exec=function(){function t(){return e.apply(this,arguments)}var e=s()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$.first().toPromise();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.regex=function(t){if(this.mquery._path==this.collection.schema.primaryPath)throw new Error("You cannot use .regex() on the primary field '"+this.mquery._path+"'");return this.mquery.regex(t),this},t.prototype.sort=function(t){var e=this._clone();if("object"!=typeof t){var n="-"==t.charAt(0)?t.substring(1):t;if(!e.mquery._conditions[n]){var r=e.collection.schema.getSchemaByObjectPath(n);r&&"integer"==r.type?e.mquery.where(n).gt(-1e28):e.mquery.where(n).gt(null)}}else Object.keys(t).filter(function(t){return!e.mquery._conditions[t]||!e.mquery._conditions[t].$gt}).forEach(function(t){"integer"==e.collection.schema.getSchemaByObjectPath(t).type?e.mquery.where(t).gt(-1e28):e.mquery.where(t).gt(null)});return e.mquery.sort(t),e._tunnelQueryCache()},t.prototype.limit=function(t){if("findOne"==this.op)throw new Error(".limit() cannot be called on .findOne()");var e=this._clone();return e.mquery.limit(t),e._tunnelQueryCache()},f()(t,[{key:"$",get:function(){var t=this;if(!this._observable$){var e=this._results$.mergeMap(function(){var e=s()(o.a.mark(function e(n){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._ensureEqual();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return","WAITFORNEXTEMIT");case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).filter(function(t){return"WAITFORNEXTEMIT"!=t}).asObservable(),n=this.collection.$.filter(function(t){return["INSERT","UPDATE","REMOVE"].includes(t.data.op)}).mergeMap(function(){var e=s()(o.a.mark(function e(n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t._ensureEqual());case 1:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).filter(function(){return!1});this._observable$=m.a.Observable.merge(e,n).filter(function(t){return null!=t}).map(function(e){return"findOne"!=t.op?e:0==e.length?null:e[0]})}return this._observable$}}]),t}(),w=function(t,e){Object.keys(e).filter(function(t){return!t.startsWith("_")}).filter(function(e){return!t[e]}).forEach(function(e){t[e]=function(t){var n=this._clone();return n.mquery[e](t),n._tunnelQueryCache()}})},$=!1},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n(6),i=n.n(r),o=n(5),a=n.n(o),s=n(1),u=n.n(s),c=n(2),l=n.n(c),f=(n(209),n(64)),h=n(208),p=n(11),d=h.b()?2500:200,v=function(){function t(e){u()(this,t),this.database=e,this.token=e.token,this.subs=[],this.pullCount=0,this.pull_running=!1,this.lastPull=(new Date).getTime(),this.recievedEvents={},this.bc=h.a(this.database,"socket"),this.messages$=new p.a.Subject}return t.prototype.prepare=function(){function t(){return e.apply(this,arguments)}var e=a()(i.a.mark(function t(){var e,n=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pouch=this.database._spawnPouchDB("_socket",0,{auto_compaction:!1,revs_limit:1}),this.bc&&this.subs.push(this.bc.$.filter(function(t){return"pull"==t.type}).subscribe(function(t){return n.pull()})),e=p.a.Observable.interval(d).filter(function(t){return n.messages$.observers.length>0}).subscribe(function(t){return n.pull()}),this.subs.push(e),t.abrupt("return");case 5:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.write=function(){function t(t){return e.apply(this,arguments)}var e=a()(i.a.mark(function t(e){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.toJSON(),delete n.db,n._id=""+p.m(n)+n.t,t.next=5,this.pouch.put(n);case 5:if(t.t0=this.bc,!t.t0){t.next=9;break}return t.next=9,this.bc.write("pull");case 9:return t.abrupt("return",!0);case 10:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.fetchDocs=function(){function t(){return e.apply(this,arguments)}var e=a()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pouch.allDocs({include_docs:!0});case 2:return e=t.sent,t.abrupt("return",e.rows.map(function(t){return t.doc}));case 4:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.deleteDoc=function(){function t(t){return e.apply(this,arguments)}var e=a()(i.a.mark(function t(e){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.pouch.remove(e);case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}},t,this,[[0,5]])}));return t}(),t.prototype.pull=function(){function t(){return e.apply(this,arguments)}var e=a()(i.a.mark(function t(){var e,n,r,o,a=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isPulling){t.next=3;break}return this._repullAfter=!0,t.abrupt("return",!1);case 3:return this.isPulling=!0,this.pullCount++,e=this.lastPull-100,t.next=8,this.fetchDocs();case 8:if(n=t.sent,n.filter(function(t){return t.it!=a.token}).filter(function(t){return t.t>e}).sort(function(t,e){return t.t>e.t?1:-1}).map(function(t){return f.d(t)}).filter(function(t){return!a.recievedEvents[t.hash]&&(a.recievedEvents[t.hash]=(new Date).getTime())}).filter(function(t){return setTimeout(function(){return delete a.recievedEvents[t.hash]},15e3)}).forEach(function(t){return a.messages$.next(t)}),r=(new Date).getTime()-5e3,o=n.filter(function(t){return t.t<r}).map(function(t){return a.deleteDoc(t)}),!(o.length>0)){t.next=15;break}return t.next=15,this.pouch.compact();case 15:return this.lastPull=(new Date).getTime(),this.isPulling=!1,this._repull&&(this._repull=!1,this.pull()),t.abrupt("return",!0);case 19:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.destroy=function(){this.subs.map(function(t){return t.unsubscribe()}),this.bc&&this.bc.destroy()},l()(t,[{key:"$",get:function(){return this.messages$.asObservable()}}]),t}(),m=function(){var t=a()(i.a.mark(function t(e){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new v(e),t.next=3,n.prepare();case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},function(t,e,n){"use strict";function r(t){"object"==typeof t&&t.default&&(t=t.default),f.a.plugin(t)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"create",function(){return h}),e.plugin=r;var i=n(6),o=n.n(i),a=n(5),s=n.n(a),u=n(210),c=n(85),l=n(207),f=n(84);n.d(e,"RxSchema",function(){return c}),n.d(e,"PouchDB",function(){return f.a}),n.d(e,"QueryChangeDetector",function(){return l}),n.d(e,"RxDatabase",function(){return u});var h=function(){var t=s()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.create(e));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},function(t,e,n){"use strict";function r(t){var e=this.constructor.prototype;this.options={},this._conditions=e._conditions?u()(e._conditions):{},this._fields=e._fields?u()(e._fields):void 0,this._path=e._path||void 0,t&&this.find(t)}/*!
 * @ignore
 */
function i(t,e,n){if(Array.isArray(t.sort))throw new TypeError("Can't mix sort syntaxes. Use either array or object:\n- `.sort([['field', 1], ['test', -1]])`\n- `.sort({ field: 1, test: -1 })`");if(n&&n.$meta){return void((t.sort||(t.sort={}))[e]={$meta:n.$meta})}if(!/^(?:ascending|asc|descending|desc|1|-1)$/.test(String(n||1).toLowerCase()))throw Array.isArray(n)&&(n="["+n+"]"),new TypeError("Invalid sort value: {"+e+": "+n+" }");var r=t.sort||(t.sort={}),i=n.toString().replace("asc","1").replace("ascending","1").replace("desc","-1").replace("descending","-1");r[e]=parseInt(i,10)}function o(t,e,n){if(t.sort=t.sort||[],!Array.isArray(t.sort))throw new TypeError("\n          Can't mix sort syntaxes. Use either array or object:\n            \n- .sort([['field', 1], ['test', -1]])\n            \n- .sort({ field: 1, test: -1 })");n.toString().replace("asc","1").replace("ascending","1").replace("desc","-1").replace("descending","-1");t.sort.push([e,n])}var a=n(496),s=n(14),u=n.n(s);r.prototype.clone=function(){var t=new r;return Object.entries(this).forEach(function(e){t[e[0]]=e[1]}),t},r.prototype.where=function(){if(!arguments.length)return this;var t=typeof arguments[0];if("string"==t)return this._path=arguments[0],2===arguments.length&&(this._conditions[this._path]=arguments[1]),this;if("object"==t&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw new TypeError("path must be a string or object")},r.prototype.equals=function(t){this._ensurePath("equals");var e=this._path;return this._conditions[e]=t,this},r.prototype.eq=function(t){this._ensurePath("eq");var e=this._path;return this._conditions[e]=t,this},r.prototype.or=function(t){var e=this._conditions.$or||(this._conditions.$or=[]);return Array.isArray(t)||(t=[t]),e.push.apply(e,t),this},r.prototype.nor=function(t){var e=this._conditions.$nor||(this._conditions.$nor=[]);return Array.isArray(t)||(t=[t]),e.push.apply(e,t),this},r.prototype.and=function(t){var e=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(t)||(t=[t]),e.push.apply(e,t),this},["gt","gte","lt","lte","ne","in","nin","all","regex","size"].forEach(function(t){r.prototype[t]=function(){var e=void 0,n=void 0;return 1===arguments.length?(this._ensurePath(t),n=arguments[0],e=this._path):(n=arguments[1],e=arguments[0]),(null===this._conditions[e]||"object"==typeof this._conditions[e]?this._conditions[e]:this._conditions[e]={})["$"+t]=n,this}}),r.prototype.mod=function(){var t=void 0,e=void 0;return 1===arguments.length?(this._ensurePath("mod"),t=arguments[0],e=this._path):2!==arguments.length||Array.isArray(arguments[1])?3===arguments.length?(t=arguments.slice(1),e=arguments[0]):(t=arguments[1],e=arguments[0]):(this._ensurePath("mod"),t=arguments.slice(),e=this._path),(this._conditions[e]||(this._conditions[e]={})).$mod=t,this},r.prototype.exists=function(){var t=void 0,e=void 0;return 0===arguments.length?(this._ensurePath("exists"),t=this._path,e=!0):1===arguments.length?"boolean"==typeof arguments[0]?(this._ensurePath("exists"),t=this._path,e=arguments[0]):(t=arguments[0],e=!0):2===arguments.length&&(t=arguments[0],e=arguments[1]),(this._conditions[t]||(this._conditions[t]={})).$exists=e,this},r.prototype.elemMatch=function(){if(null==arguments[0])throw new TypeError("Invalid argument");var t=void 0,e=void 0,n=void 0;if("function"==typeof arguments[0])this._ensurePath("elemMatch"),e=this._path,t=arguments[0];else if(a.isObject(arguments[0]))this._ensurePath("elemMatch"),e=this._path,n=arguments[0];else if("function"==typeof arguments[1])e=arguments[0],t=arguments[1];else{if(!arguments[1]||!a.isObject(arguments[1]))throw new TypeError("Invalid argument");e=arguments[0],n=arguments[1]}return t&&(n=new r,t(n),n=n._conditions),(this._conditions[e]||(this._conditions[e]={})).$elemMatch=n,this},r.prototype.sort=function(t){var e=this;if(!t)return this;var n=void 0,r=typeof t;if(Array.isArray(t)){n=t.length;for(var s=0;s<t.length;++s)o(this.options,t[s][0],t[s][1]);return this}if(1===arguments.length&&"string"==r){t=t.split(/\s+/),n=t.length;for(var u=0;u<n;++u){var c=t[u];if(c){var l="-"==c[0]?-1:1;-1===l&&(c=c.substring(1)),i(this.options,c,l)}}return this}if(a.isObject(t)){return Object.keys(t).forEach(function(n){return i(e.options,n,t[n])}),this}throw new TypeError("Invalid sort() argument. Must be a string, object, or array.")},["limit","skip","maxScan","batchSize","comment"].forEach(function(t){r.prototype[t]=function(e){return this.options[t]=e,this}}),r.prototype.merge=function(t){if(!t)return this;if(!r.canMerge(t))throw new TypeError("Invalid argument. Expected instanceof mquery or plain object");return t instanceof r?(t._conditions&&a.merge(this._conditions,t._conditions),t._fields&&(this._fields||(this._fields={}),a.merge(this._fields,t._fields)),t.options&&(this.options||(this.options={}),a.merge(this.options,t.options)),t._update&&(this._update||(this._update={}),a.mergeClone(this._update,t._update)),t._distinct&&(this._distinct=t._distinct),this):(a.merge(this._conditions,t),this)},r.prototype.find=function(t){return"function"==typeof t?(callback=t,t=void 0):r.canMerge(t)&&this.merge(t),this},r.prototype._optionsForExec=function(){return u()(this.options)},r.prototype._ensurePath=function(t){if(!this._path)throw new Error("\n          "+t+"() must be used after where()\n          when called with these arguments\n        ")},r.prototype._validate=function(t){},r.canMerge=function(t){return t instanceof r||a.isObject(t)},r.utils=a,e.a=r},function(t,e,n){"use strict";function r(t,e){for(var n=Object.keys(e),i=n.length,o=void 0;i--;)o=n[i],void 0===t[o]?t[o]=e[o]:a(e[o])?r(t[o],e[o]):t[o]=e[o]}function i(t,e){for(var n=Object.keys(e),r=n.length,o=void 0;r--;)o=n[r],void 0===t[o]?t[o]=l()(e[o],{retainKeyOrder:1}):a(e[o])?i(t[o],e[o]):t[o]=l()(e[o],{retainKeyOrder:1})}function o(t){return f.call(t)}function a(t){return"[object Object]"==o(t)}function s(t,e){t.prototype=h(e.prototype),t.prototype.constructor=t}function u(t){return"[object Arguments]"===Object.prototype.toString.call(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.merge=r,e.mergeClone=i,e.toString=o,e.isObject=a,n.d(e,"create",function(){return h}),e.inherits=s,e.isArgumentsObject=u;var c=n(14),l=n.n(c),f=Object.prototype.toString,h=Object.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(65),o=n(143),a=function(t){function e(e){t.call(this),this._value=e}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.Subject);e.BehaviorSubject=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(9),o=function(t){function e(e,n,r){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}return r(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(i.Subscriber);e.InnerSubscriber=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(65),o=n(550),a=n(37),s=n(216),u=n(143),c=n(213),l=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=r,this._events=[],this._bufferSize=e<1?1:e,this._windowTime=n<1?1:n}return r(e,t),e.prototype.next=function(e){var n=this._getNow();this._events.push(new f(n,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._trimBufferThenGetEvents(),r=this.scheduler;if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError?e=a.Subscription.EMPTY:this.isStopped?e=a.Subscription.EMPTY:(this.observers.push(t),e=new c.SubjectSubscription(this,t)),r&&t.add(t=new s.ObserveOnSubscriber(t,r));for(var i=n.length,o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||o.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(i.Subject);e.ReplaySubject=l;var f=function(){function t(t,e){this.time=t,this.value=e}return t}()},function(t,e,n){"use strict";var r=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=Date.now?Date.now:function(){return+new Date},t}();e.Scheduler=r},function(t,e,n){"use strict";var r=n(0),i=n(527);r.Observable.defer=i.defer},function(t,e,n){"use strict";var r=n(0),i=n(528);r.Observable.from=i.from},function(t,e,n){"use strict";var r=n(0),i=n(529);r.Observable.fromEvent=i.fromEvent},function(t,e,n){"use strict";var r=n(0),i=n(530);r.Observable.interval=i.interval},function(t,e,n){"use strict";var r=n(0),i=n(531);r.Observable.merge=i.merge},function(t,e,n){"use strict";var r=n(0),i=n(533);r.Observable.prototype.delay=i.delay},function(t,e,n){"use strict";var r=n(0),i=n(534);r.Observable.prototype.distinct=i.distinct},function(t,e,n){"use strict";var r=n(0),i=n(535);r.Observable.prototype.distinctUntilChanged=i.distinctUntilChanged},function(t,e,n){"use strict";var r=n(0),i=n(536);r.Observable.prototype.do=i._do,r.Observable.prototype._do=i._do},function(t,e,n){"use strict";var r=n(0),i=n(537);r.Observable.prototype.filter=i.filter},function(t,e,n){"use strict";var r=n(0),i=n(538);r.Observable.prototype.first=i.first},function(t,e,n){"use strict";var r=n(0),i=n(539);r.Observable.prototype.map=i.map},function(t,e,n){"use strict";var r=n(0),i=n(541);r.Observable.prototype.mergeMap=i.mergeMap,r.Observable.prototype.flatMap=i.mergeMap},function(t,e,n){"use strict";var r=n(0),i=n(542);r.Observable.prototype.publish=i.publish},function(t,e,n){"use strict";var r=n(0),i=n(543);r.Observable.prototype.publishReplay=i.publishReplay},function(t,e,n){"use strict";var r=n(0),i=n(544);r.Observable.prototype.startWith=i.startWith},function(t,e,n){"use strict";var r=n(0),i=n(545);r.Observable.prototype.timeout=i.timeout},function(t,e,n){"use strict";var r=n(0),i=n(546);r.Observable.prototype.toPromise=i.toPromise},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=n(138),a=n(137),s=function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return r(e,t),e.create=function(t,n){var r=t.length;return 0===r?new a.EmptyObservable:1===r?new o.ScalarObservable(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,r=t.length,i=t.subscriber;if(!i.closed){if(n>=r)return void i.complete();i.next(e[n]),t.index=n+1,this.schedule(t)}},e.prototype._subscribe=function(t){var n=this,r=n.arrayLike,i=n.scheduler,o=r.length;if(i)return i.schedule(e.dispatch,0,{arrayLike:r,index:0,length:o,subscriber:t});for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);t.complete()},e}(i.Observable);e.ArrayLikeObservable=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(65),o=n(0),a=n(9),s=n(37),u=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return r(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.Subscription,t.add(this.source.subscribe(new l(this.getSubject(),this))),t.closed?(this._connection=null,t=s.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return this.lift(new f(this))},e}(o.Observable);e.ConnectableObservable=u;var c=u.prototype;e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}};var l=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.SubjectSubscriber),f=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new h(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),h=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()},e}(a.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=n(90),a=n(86),s=function(t){function e(e){t.call(this),this.observableFactory=e}return r(e,t),e.create=function(t){return new e(t)},e.prototype._subscribe=function(t){return new u(t,this.observableFactory)},e}(i.Observable);e.DeferObservable=s;var u=function(t){function e(e,n){t.call(this,e),this.factory=n,this.tryDefer()}return r(e,t),e.prototype.tryDefer=function(){try{this._callFactory()}catch(t){this._error(t)}},e.prototype._callFactory=function(){var t=this.factory();t&&this.add(o.subscribeToResult(this,t))},e}(a.OuterSubscriber)},function(t,e,n){"use strict";function r(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function i(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}function o(t){return!!t&&"[object NodeList]"===d.call(t)}function a(t){return!!t&&"[object HTMLCollection]"===d.call(t)}function s(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}var u=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=n(0),l=n(146),f=n(145),h=n(88),p=n(37),d=Object.prototype.toString,v=function(t){function e(e,n,r,i){t.call(this),this.sourceObj=e,this.eventName=n,this.selector=r,this.options=i}return u(e,t),e.create=function(t,n,r,i){return f.isFunction(r)&&(i=r,r=void 0),new e(t,n,i,r)},e.setupSubscription=function(t,n,u,c,l){var f;if(o(t)||a(t))for(var h=0,d=t.length;h<d;h++)e.setupSubscription(t[h],n,u,c,l);else if(s(t)){var v=t;t.addEventListener(n,u,l),f=function(){return v.removeEventListener(n,u)}}else if(i(t)){var m=t;t.on(n,u),f=function(){return m.off(n,u)}}else{if(!r(t))throw new TypeError("Invalid event target");var y=t;t.addListener(n,u),f=function(){return y.removeListener(n,u)}}c.add(new p.Subscription(f))},e.prototype._subscribe=function(t){var n=this.sourceObj,r=this.eventName,i=this.options,o=this.selector,a=o?function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=l.tryCatch(o).apply(void 0,e);r===h.errorObject?t.error(h.errorObject.e):t.next(r)}:function(e){return t.next(e)};e.setupSubscription(n,r,a,t,i)},e}(c.Observable);e.FromEventObservable=v},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(144),o=n(219),a=n(222),s=n(526),u=n(525),c=n(87),l=n(519),f=n(140),h=n(0),p=n(216),d=n(141),v=function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}return r(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[d.observable])return t instanceof h.Observable&&!n?t:new e(t,n);if(i.isArray(t))return new c.ArrayObservable(t,n);if(a.isPromise(t))return new s.PromiseObservable(t,n);if("function"==typeof t[f.iterator]||"string"==typeof t)return new u.IteratorObservable(t,n);if(o.isArrayLike(t))return new l.ArrayLikeObservable(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[d.observable]().subscribe(t):e[d.observable]().subscribe(new p.ObserveOnSubscriber(t,n,0))},e}(h.Observable);e.FromObservable=v},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(555),o=n(0),a=n(139),s=function(t){function e(e,n){void 0===e&&(e=0),void 0===n&&(n=a.async),t.call(this),this.period=e,this.scheduler=n,(!i.isNumeric(e)||e<0)&&(this.period=0),n&&"function"==typeof n.schedule||(this.scheduler=a.async)}return r(e,t),e.create=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=a.async),new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.subscriber,r=t.period;n.next(e),n.closed||(t.index+=1,this.schedule(t,r))},e.prototype._subscribe=function(t){var n=this.period,r=this.scheduler;t.add(r.schedule(e.dispatch,n,{index:0,subscriber:t,period:n}))},e}(o.Observable);e.IntervalObservable=s},function(t,e,n){"use strict";function r(t){var e=t[l.iterator];if(!e&&"string"==typeof t)return new h(t);if(!e&&void 0!==t.length)return new p(t);if(!e)throw new TypeError("object is not iterable");return t[l.iterator]()}function i(t){var e=+t.length;return isNaN(e)?0:0!==e&&o(e)?(e=a(e)*Math.floor(Math.abs(e)),e<=0?0:e>d?d:e):e}function o(t){return"number"==typeof t&&u.root.isFinite(t)}function a(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=n(19),c=n(0),l=n(140),f=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=r(e)}return s(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.hasError,r=t.iterator,i=t.subscriber;if(n)return void i.error(t.error);var o=r.next();return o.done?void i.complete():(i.next(o.value),t.index=e+1,i.closed?void("function"==typeof r.return&&r.return()):void this.schedule(t))},e.prototype._subscribe=function(t){var n=this,r=n.iterator,i=n.scheduler;if(i)return i.schedule(e.dispatch,0,{index:0,iterator:r,subscriber:t});for(;;){var o=r.next();if(o.done){t.complete();break}if(t.next(o.value),t.closed){"function"==typeof r.return&&r.return();break}}},e}(c.Observable);e.IteratorObservable=f;var h=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[l.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),p=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=i(t)),this.arr=t,this.idx=e,this.len=n}return t.prototype[l.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),d=Math.pow(2,53)-1},function(t,e,n){"use strict";function r(t){var e=t.value,n=t.subscriber;n.closed||(n.next(e),n.complete())}function i(t){var e=t.err,n=t.subscriber;n.closed||n.error(e)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(19),s=n(0),u=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return o(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,o=this.scheduler;if(null==o)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){a.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return o.schedule(r,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(o.schedule(r,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(o.schedule(i,0,{err:e,subscriber:t}))}).then(null,function(t){a.root.setTimeout(function(){throw t})})},e}(s.Observable);e.PromiseObservable=u},function(t,e,n){"use strict";var r=n(521);e.defer=r.DeferObservable.create},function(t,e,n){"use strict";var r=n(523);e.from=r.FromObservable.create},function(t,e,n){"use strict";var r=n(522);e.fromEvent=r.FromEventObservable.create},function(t,e,n){"use strict";var r=n(524);e.interval=r.IntervalObservable.create},function(t,e,n){"use strict";var r=n(540);e.merge=r.mergeStatic},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(i.apply(void 0,[this].concat(t)))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null,r=t;return a.isScheduler(r[t.length-1])&&(n=r.pop()),null===n&&1===t.length&&t[0]instanceof o.Observable?t[0]:new s.ArrayObservable(t,n).lift(new u.MergeAllOperator(1))}var o=n(0),a=n(89),s=n(87),u=n(214);e.concat=r,e.concatStatic=i},function(t,e,n){"use strict";function r(t,e){void 0===e&&(e=o.async);var n=a.isDate(t),r=n?+t-e.now():Math.abs(t);return this.lift(new c(r,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(139),a=n(220),s=n(9),u=n(211);e.delay=r;var c=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.delay,this.scheduler))},t}(),l=function(t){function e(e,n,r){t.call(this,e),this.delay=n,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}return i(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new f(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(u.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(u.Notification.createComplete())},e}(s.Subscriber),f=function(){function t(t,e){this.time=t,this.notification=e}return t}()},function(t,e,n){"use strict";function r(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(86),a=n(90),s=n(552);e.distinct=r;var u=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.keySelector,this.flushes))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.keySelector=n,this.values=new s.Set,r&&this.add(a.subscribeToResult(this,r))}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(t){return void n.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))},e}(o.OuterSubscriber);e.DistinctSubscriber=c},function(t,e,n){"use strict";function r(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(9),a=n(146),s=n(88);e.distinctUntilChanged=r;var u=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.compare,this.keySelector))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.keySelector=r,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}return i(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=this.keySelector,n=t;if(e&&(n=a.tryCatch(this.keySelector)(t))===s.errorObject)return this.destination.error(s.errorObject.e);var r=!1;if(this.hasKey){if((r=a.tryCatch(this.compare)(this.key,n))===s.errorObject)return this.destination.error(s.errorObject.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=n,this.destination.next(t))},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t,e,n){return this.lift(new a(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(9);e._do=r;var a=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.nextOrObserver,this.error,this.complete))},t}(),s=function(t){function e(e,n,r,i){t.call(this,e);var a=new o.Subscriber(n,r,i);a.syncErrorThrowable=!0,this.add(a),this.safeSubscriber=a}return i(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t,e){return this.lift(new a(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(9);e.filter=r;var a=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.thisArg=r,this.count=0,this.predicate=n}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t,e,n){return this.lift(new s(t,e,n,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(9),a=n(551);e.first=r;var s=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return i(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){if(this.resultSelector)return void this._tryResultSelector(t,e);this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||t.error(new a.EmptyError):(t.next(this.defaultValue),t.complete())},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new a(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(9);e.map=r;var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}();e.MapOperator=a;var s=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.count=0,this.thisArg=r||this}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.Subscriber)},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(i.apply(void 0,[this].concat(t)))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return u.isScheduler(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof o.Observable?t[0]:new a.ArrayObservable(t,r).lift(new s.MergeAllOperator(n))}var o=n(0),a=n(87),s=n(214),u=n(89);e.merge=r,e.mergeStatic=i},function(t,e,n){"use strict";function r(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof e&&(n=e,e=null),this.lift(new s(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(90),a=n(86);e.mergeMap=r;var s=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector,this.concurrent))},t}();e.MergeMapOperator=s;var u=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(o.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._notifyResultSelector(t,e,n,r):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(a.OuterSubscriber);e.MergeMapSubscriber=u},function(t,e,n){"use strict";function r(t){return t?o.multicast.call(this,function(){return new i.Subject},t):o.multicast.call(this,new i.Subject)}var i=n(65),o=n(215);e.publish=r},function(t,e,n){"use strict";function r(t,e,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY),o.multicast.call(this,new i.ReplaySubject(t,e,n))}var i=n(499),o=n(215);e.publishReplay=r},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t[t.length-1];u.isScheduler(n)?t.pop():n=null;var r=t.length;return 1===r?s.concatStatic(new o.ScalarObservable(t[0],n),this):r>1?s.concatStatic(new i.ArrayObservable(t,n),this):s.concatStatic(new a.EmptyObservable(n),this)}var i=n(87),o=n(138),a=n(137),s=n(532),u=n(89);e.startWith=r},function(t,e,n){"use strict";function r(t,e){void 0===e&&(e=o.async);var n=a.isDate(t),r=n?+t-e.now():Math.abs(t);return this.lift(new c(r,n,e,new u.TimeoutError))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(139),a=n(220),s=n(9),u=n(553);e.timeout=r;var c=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.scheduler=n,this.errorInstance=r}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},t}(),l=function(t){function e(e,n,r,i,o){t.call(this,e),this.absoluteTimeout=n,this.waitFor=r,this.scheduler=i,this.errorInstance=o,this.action=null,this.scheduleTimeout()}return i(e,t),e.dispatchTimeout=function(t){t.error(t.errorInstance)},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},e}(s.Subscriber)},function(t,e,n){"use strict";function r(t){var e=this;if(t||(i.root.Rx&&i.root.Rx.config&&i.root.Rx.config.Promise?t=i.root.Rx.config.Promise:i.root.Promise&&(t=i.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}var i=n(19);e.toPromise=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(37),o=function(t){function e(e,n){t.call(this)}return r(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(i.Subscription);e.Action=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(217),o=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return r(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(i.AsyncAction);e.QueueAction=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(218),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(i.AsyncScheduler);e.QueueScheduler=o},function(t,e,n){"use strict";var r=n(548),i=n(549);e.queue=new i.QueueScheduler(r.QueueAction)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.EmptyError=i},function(t,e,n){"use strict";function r(){return function(){function t(){this._values=[]}return t.prototype.add=function(t){this.has(t)||this._values.push(t)},t.prototype.has=function(t){return-1!==this._values.indexOf(t)},Object.defineProperty(t.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._values.length=0},t}()}var i=n(19);e.minimalSetImpl=r,e.Set=i.root.Set||r()},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"Timeout has occurred");this.name=e.name="TimeoutError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.TimeoutError=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(e,t),e}(Error);e.UnsubscriptionError=i},function(t,e,n){"use strict";function r(t){return!i.isArray(t)&&t-parseFloat(t)+1>=0}var i=n(144);e.isNumeric=r},function(t,e,n){"use strict";function r(t,e,n){if(t){if(t instanceof i.Subscriber)return t;if(t[o.rxSubscriber])return t[o.rxSubscriber]()}return t||e||n?new i.Subscriber(t,e,n):new i.Subscriber(a.empty)}var i=n(9),o=n(142),a=n(212);e.toSubscriber=r},function(t,e){function n(t){return"[Throws: "+(t?t.message:"?")+"]"}function r(t,e){if(o.call(t,e))try{return t[e]}catch(t){return n(t)}return t[e]}function i(t){function e(t){if(null===t||"object"!=typeof t)return t;if(-1!==i.indexOf(t))return"[Circular]";if(i.push(t),"function"==typeof t.toJSON)try{return e(t.toJSON())}catch(t){return n(t)}return Array.isArray(t)?t.map(e):Object.keys(t).reduce(function(n,i){return n[i]=e(r(t,i)),n},{})}var i=[];return e(t)}var o=Object.prototype.hasOwnProperty;t.exports=function(t){return JSON.stringify(i(t))},t.exports.ensureProperties=i},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return c[u]=r,s(u),u++}function i(t){delete c[t]}function o(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function a(t){if(l)setTimeout(a,0,t);else{var e=c[t];if(e){l=!0;try{o(e)}finally{i(t),l=!1}}}}if(!t.setImmediate){var s,u=1,c={},l=!1,f=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?function(){s=function(t){e.nextTick(function(){a(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),s=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){a(t.data)},s=function(e){t.port2.postMessage(e)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var t=f.documentElement;s=function(e){var n=f.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){s=function(t){setTimeout(a,0,t)}}(),h.setImmediate=r,h.clearImmediate=i}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(8),n(3))},function(t,e,n){(function(t,r){function i(){return"browser"===E||"node"!==E&&("undefined"!=typeof window&&"function"==typeof XMLHttpRequest&&!(window.require&&window.module&&window.process&&"renderer"===window.process.type))}function o(){return"object"==typeof t&&null!==t&&"function"==typeof t.on}function a(t){return function(e){for(var n=0;n<t.length;n++){var r=t[n](e);if(r)return r}return null}}function s(t,e){if(!t)return e;var n=_.dirname(t),r=/^\w+:\/\/[^\/]*/.exec(n),i=r?r[0]:"";return i+_.resolve(n.slice(i.length),e)}function u(t){var e;if(i())try{var n=new XMLHttpRequest;n.open("GET",t,!1),n.send(null),e=4===n.readyState?n.responseText:null;var r=n.getResponseHeader("SourceMap")||n.getResponseHeader("X-SourceMap");if(r)return r}catch(t){}e=C(t);for(var o,a,s=/(?:\/\/[@#][ \t]+sourceMappingURL=([^\s'"]+?)[ \t]*$)|(?:\/\*[@#][ \t]+sourceMappingURL=([^\*]+?)[ \t]*(?:\*\/)[ \t]*$)/gm;a=s.exec(e);)o=a;return o?o[1]:null}function c(t){var e=S[t.source];if(!e){var n=T(t.source);n?(e=S[t.source]={url:n.url,map:new b(n.map)},e.map.sourcesContent&&e.map.sources.forEach(function(t,n){var r=e.map.sourcesContent[n];if(r){var i=s(e.url,t);k[i]=r}})):e=S[t.source]={url:null,map:null}}if(e&&e.map){var r=e.map.originalPositionFor(t);if(null!==r.source)return r.source=s(e.url,r.source),r}return t}function l(t){var e=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(t);if(e){var n=c({source:e[2],line:+e[3],column:e[4]-1});return"eval at "+e[1]+" ("+n.source+":"+n.line+":"+(n.column+1)+")"}return e=/^eval at ([^(]+) \((.+)\)$/.exec(t),e?"eval at "+e[1]+" ("+l(e[2])+")":t}function f(){var t,e="";if(this.isNative())e="native";else{t=this.getScriptNameOrSourceURL(),!t&&this.isEval()&&(e=this.getEvalOrigin(),e+=", "),e+=t||"<anonymous>";var n=this.getLineNumber();if(null!=n){e+=":"+n;var r=this.getColumnNumber();r&&(e+=":"+r)}}var i="",o=this.getFunctionName(),a=!0,s=this.isConstructor();if(this.isToplevel()||s)s?i+="new "+(o||"<anonymous>"):o?i+=o:(i+=e,a=!1);else{var u=this.getTypeName();"[object Object]"===u&&(u="null");var c=this.getMethodName();o?(u&&0!=o.indexOf(u)&&(i+=u+"."),i+=o,c&&o.indexOf("."+c)!=o.length-c.length-1&&(i+=" [as "+c+"]")):i+=u+"."+(c||"<anonymous>")}return a&&(i+=" ("+e+")"),i}function h(t){var e={};return Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(function(n){e[n]=/^(?:is|get)/.test(n)?function(){return t[n].call(t)}:t[n]}),e.toString=f,e}function p(t){if(t.isNative())return t;var e=t.getFileName()||t.getScriptNameOrSourceURL();if(e){var n=t.getLineNumber(),r=t.getColumnNumber()-1;1!==n||i()||t.isEval()||(r-=62);var o=c({source:e,line:n,column:r});return t=h(t),t.getFileName=function(){return o.source},t.getLineNumber=function(){return o.line},t.getColumnNumber=function(){return o.column+1},t.getScriptNameOrSourceURL=function(){return o.source},t}var a=t.isEval()&&t.getEvalOrigin();return a?(a=l(a),t=h(t),t.getEvalOrigin=function(){return a},t):t}function d(t,e){return x&&(k={},S={}),t+e.map(function(t){return"\n    at "+p(t)}).join("")}function v(t){var e=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(t.stack);if(e){var n=e[1],r=+e[2],i=+e[3],o=k[n];if(!o&&g&&g.existsSync(n)&&(o=g.readFileSync(n,"utf8")),o){var a=o.split(/(?:\r\n|\r|\n)/)[r-1];if(a)return n+":"+r+"\n"+a+"\n"+new Array(i).join(" ")+"^"}}return null}function m(e){var n=v(e);n&&(console.error(),console.error(n)),console.error(e.stack),t.exit(1)}function y(){var e=t.emit;t.emit=function(t){if("uncaughtException"===t){var n=arguments[1]&&arguments[1].stack,r=this.listeners(t).length>0;if(n&&!r)return m(arguments[1])}return e.apply(this,arguments)}}var g,b=n(566).SourceMapConsumer,_=n(24);try{g=n(30),g.existsSync&&g.readFileSync||(g=null)}catch(t){}var w=!1,$=!1,x=!1,E="auto",k={},S={},O=/^data:application\/json[^,]+base64,/,A=[],j=[],C=a(A);A.push(function(t){if((t=t.trim())in k)return k[t];var e=null;if(g)g.existsSync(t)&&(e=g.readFileSync(t,"utf8"));else{var n=new XMLHttpRequest;n.open("GET",t,!1),n.send(null);var e=null;4===n.readyState&&200===n.status&&(e=n.responseText)}return k[t]=e});var T=a(j);j.push(function(t){var e=u(t);if(!e)return null;var n;if(O.test(e)){var i=e.slice(e.indexOf(",")+1);n=new r(i,"base64").toString(),e=t}else e=s(t,e),n=C(e);return n?{url:e,map:n}:null}),e.wrapCallSite=p,e.getErrorSource=v,e.mapSourcePosition=c,e.retrieveSourceMap=T,e.install=function(t){if(t=t||{},t.environment&&(E=t.environment,-1===["node","browser","auto"].indexOf(E)))throw new Error("environment "+E+" was unknown. Available options are {auto, browser, node}");if(t.retrieveFile&&(t.overrideRetrieveFile&&(A.length=0),A.unshift(t.retrieveFile)),t.retrieveSourceMap&&(t.overrideRetrieveSourceMap&&(j.length=0),j.unshift(t.retrieveSourceMap)),t.hookRequire&&!i()){var e;try{e=n(!function(){var t=new Error('Cannot find module "module"');throw t.code="MODULE_NOT_FOUND",t}())}catch(t){}var r=e.prototype._compile;r.__sourceMapSupport||(e.prototype._compile=function(t,e){return k[e]=t,S[e]=void 0,r.call(this,t,e)},e.prototype._compile.__sourceMapSupport=!0)}if(x||(x="emptyCacheBetweenOperations"in t&&t.emptyCacheBetweenOperations),w||(w=!0,Error.prepareStackTrace=d),!$){(!("handleUncaughtExceptions"in t)||t.handleUncaughtExceptions)&&o()&&($=!0,y())}}}).call(e,n(3),n(39).Buffer)},function(t,e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");e.encode=function(t){if(0<=t&&t<n.length)return n[t];throw new TypeError("Must be between 0 and 63: "+t)},e.decode=function(t){return 65<=t&&t<=90?t-65:97<=t&&t<=122?t-97+26:48<=t&&t<=57?t-48+52:43==t?62:47==t?63:-1}},function(t,e){function n(t,r,i,o,a,s){var u=Math.floor((r-t)/2)+t,c=a(i,o[u],!0);return 0===c?u:c>0?r-u>1?n(u,r,i,o,a,s):s==e.LEAST_UPPER_BOUND?r<o.length?r:-1:u:u-t>1?n(t,u,i,o,a,s):s==e.LEAST_UPPER_BOUND?u:t<0?-1:t}e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2,e.search=function(t,r,i,o){if(0===r.length)return-1;var a=n(-1,r.length,t,r,i,o||e.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&0===i(r[a],r[a-1],!0);)--a;return a}},function(t,e,n){function r(t,e){var n=t.generatedLine,r=e.generatedLine,i=t.generatedColumn,a=e.generatedColumn;return r>n||r==n&&a>=i||o.compareByGeneratedPositionsInflated(t,e)<=0}function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}var o=n(66);i.prototype.unsortedForEach=function(t,e){this._array.forEach(t,e)},i.prototype.add=function(t){r(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(o.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},e.MappingList=i},function(t,e){function n(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function r(t,e){return Math.round(t+Math.random()*(e-t))}function i(t,e,o,a){if(o<a){var s=r(o,a),u=o-1;n(t,s,a);for(var c=t[a],l=o;l<a;l++)e(t[l],c)<=0&&(u+=1,n(t,u,l));n(t,u+1,l);var f=u+1;i(t,e,o,f-1),i(t,e,f+1,a)}}e.quickSort=function(t,e){i(t,e,0,t.length-1)}},function(t,e,n){function r(t){var e=t;return"string"==typeof t&&(e=JSON.parse(t.replace(/^\)\]\}'/,""))),null!=e.sections?new a(e):new i(e)}function i(t){var e=t;"string"==typeof t&&(e=JSON.parse(t.replace(/^\)\]\}'/,"")));var n=s.getArg(e,"version"),r=s.getArg(e,"sources"),i=s.getArg(e,"names",[]),o=s.getArg(e,"sourceRoot",null),a=s.getArg(e,"sourcesContent",null),u=s.getArg(e,"mappings"),l=s.getArg(e,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);r=r.map(String).map(s.normalize).map(function(t){return o&&s.isAbsolute(o)&&s.isAbsolute(t)?s.relative(o,t):t}),this._names=c.fromArray(i.map(String),!0),this._sources=c.fromArray(r,!0),this.sourceRoot=o,this.sourcesContent=a,this._mappings=u,this.file=l}function o(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function a(t){var e=t;"string"==typeof t&&(e=JSON.parse(t.replace(/^\)\]\}'/,"")));var n=s.getArg(e,"version"),i=s.getArg(e,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new c,this._names=new c;var o={line:-1,column:0};this._sections=i.map(function(t){if(t.url)throw new Error("Support for url field in sections not implemented.");var e=s.getArg(t,"offset"),n=s.getArg(e,"line"),i=s.getArg(e,"column");if(n<o.line||n===o.line&&i<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");return o=e,{generatedOffset:{generatedLine:n+1,generatedColumn:i+1},consumer:new r(s.getArg(t,"map"))}})}var s=n(66),u=n(561),c=n(223).ArraySet,l=n(224),f=n(563).quickSort;r.fromSourceMap=function(t){return i.fromSourceMap(t)},r.prototype._version=3,r.prototype.__generatedMappings=null,Object.defineProperty(r.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),r.prototype.__originalMappings=null,Object.defineProperty(r.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),r.prototype._charIsMappingSeparator=function(t,e){var n=t.charAt(e);return";"===n||","===n},r.prototype._parseMappings=function(t,e){throw new Error("Subclasses must implement _parseMappings")},r.GENERATED_ORDER=1,r.ORIGINAL_ORDER=2,r.GREATEST_LOWER_BOUND=1,r.LEAST_UPPER_BOUND=2,r.prototype.eachMapping=function(t,e,n){var i,o=e||null,a=n||r.GENERATED_ORDER;switch(a){case r.GENERATED_ORDER:i=this._generatedMappings;break;case r.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var u=this.sourceRoot;i.map(function(t){var e=null===t.source?null:this._sources.at(t.source);return null!=e&&null!=u&&(e=s.join(u,e)),{source:e,generatedLine:t.generatedLine,generatedColumn:t.generatedColumn,originalLine:t.originalLine,originalColumn:t.originalColumn,name:null===t.name?null:this._names.at(t.name)}},this).forEach(t,o)},r.prototype.allGeneratedPositionsFor=function(t){var e=s.getArg(t,"line"),n={source:s.getArg(t,"source"),originalLine:e,originalColumn:s.getArg(t,"column",0)};if(null!=this.sourceRoot&&(n.source=s.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var r=[],i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",s.compareByOriginalPositions,u.LEAST_UPPER_BOUND);if(i>=0){var o=this._originalMappings[i];if(void 0===t.column)for(var a=o.originalLine;o&&o.originalLine===a;)r.push({line:s.getArg(o,"generatedLine",null),column:s.getArg(o,"generatedColumn",null),lastColumn:s.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++i];else for(var c=o.originalColumn;o&&o.originalLine===e&&o.originalColumn==c;)r.push({line:s.getArg(o,"generatedLine",null),column:s.getArg(o,"generatedColumn",null),lastColumn:s.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++i]}return r},e.SourceMapConsumer=r,i.prototype=Object.create(r.prototype),i.prototype.consumer=r,i.fromSourceMap=function(t){var e=Object.create(i.prototype),n=e._names=c.fromArray(t._names.toArray(),!0),r=e._sources=c.fromArray(t._sources.toArray(),!0);e.sourceRoot=t._sourceRoot,e.sourcesContent=t._generateSourcesContent(e._sources.toArray(),e.sourceRoot),e.file=t._file;for(var a=t._mappings.toArray().slice(),u=e.__generatedMappings=[],l=e.__originalMappings=[],h=0,p=a.length;h<p;h++){var d=a[h],v=new o;v.generatedLine=d.generatedLine,v.generatedColumn=d.generatedColumn,d.source&&(v.source=r.indexOf(d.source),v.originalLine=d.originalLine,v.originalColumn=d.originalColumn,d.name&&(v.name=n.indexOf(d.name)),l.push(v)),u.push(v)}return f(e.__originalMappings,s.compareByOriginalPositions),e},i.prototype._version=3,Object.defineProperty(i.prototype,"sources",{get:function(){return this._sources.toArray().map(function(t){return null!=this.sourceRoot?s.join(this.sourceRoot,t):t},this)}}),i.prototype._parseMappings=function(t,e){for(var n,r,i,a,u,c=1,h=0,p=0,d=0,v=0,m=0,y=t.length,g=0,b={},_={},w=[],$=[];g<y;)if(";"===t.charAt(g))c++,g++,h=0;else if(","===t.charAt(g))g++;else{for(n=new o,n.generatedLine=c,a=g;a<y&&!this._charIsMappingSeparator(t,a);a++);if(r=t.slice(g,a),i=b[r])g+=r.length;else{for(i=[];g<a;)l.decode(t,g,_),u=_.value,g=_.rest,i.push(u);if(2===i.length)throw new Error("Found a source, but no line and column");if(3===i.length)throw new Error("Found a source and line, but no column");b[r]=i}n.generatedColumn=h+i[0],h=n.generatedColumn,i.length>1&&(n.source=v+i[1],v+=i[1],n.originalLine=p+i[2],p=n.originalLine,n.originalLine+=1,n.originalColumn=d+i[3],d=n.originalColumn,i.length>4&&(n.name=m+i[4],m+=i[4])),$.push(n),"number"==typeof n.originalLine&&w.push(n)}f($,s.compareByGeneratedPositionsDeflated),this.__generatedMappings=$,f(w,s.compareByOriginalPositions),this.__originalMappings=w},i.prototype._findMapping=function(t,e,n,r,i,o){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[r]);return u.search(t,e,i,o)},i.prototype.computeColumnSpans=function(){for(var t=0;t<this._generatedMappings.length;++t){var e=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(e.generatedLine===n.generatedLine){e.lastGeneratedColumn=n.generatedColumn-1;continue}}e.lastGeneratedColumn=1/0}},i.prototype.originalPositionFor=function(t){var e={generatedLine:s.getArg(t,"line"),generatedColumn:s.getArg(t,"column")},n=this._findMapping(e,this._generatedMappings,"generatedLine","generatedColumn",s.compareByGeneratedPositionsDeflated,s.getArg(t,"bias",r.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===e.generatedLine){var o=s.getArg(i,"source",null);null!==o&&(o=this._sources.at(o),null!=this.sourceRoot&&(o=s.join(this.sourceRoot,o)));var a=s.getArg(i,"name",null);return null!==a&&(a=this._names.at(a)),{source:o,line:s.getArg(i,"originalLine",null),column:s.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},i.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return null==t}))},i.prototype.sourceContentFor=function(t,e){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(t=s.relative(this.sourceRoot,t)),this._sources.has(t))return this.sourcesContent[this._sources.indexOf(t)];var n;if(null!=this.sourceRoot&&(n=s.urlParse(this.sourceRoot))){var r=t.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(r))return this.sourcesContent[this._sources.indexOf(r)];if((!n.path||"/"==n.path)&&this._sources.has("/"+t))return this.sourcesContent[this._sources.indexOf("/"+t)]}if(e)return null;throw new Error('"'+t+'" is not in the SourceMap.')},i.prototype.generatedPositionFor=function(t){var e=s.getArg(t,"source");if(null!=this.sourceRoot&&(e=s.relative(this.sourceRoot,e)),!this._sources.has(e))return{line:null,column:null,lastColumn:null};e=this._sources.indexOf(e);var n={source:e,originalLine:s.getArg(t,"line"),originalColumn:s.getArg(t,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",s.compareByOriginalPositions,s.getArg(t,"bias",r.GREATEST_LOWER_BOUND));if(i>=0){var o=this._originalMappings[i];if(o.source===n.source)return{line:s.getArg(o,"generatedLine",null),column:s.getArg(o,"generatedColumn",null),lastColumn:s.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},e.BasicSourceMapConsumer=i,a.prototype=Object.create(r.prototype),a.prototype.constructor=r,a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function(){for(var t=[],e=0;e<this._sections.length;e++)for(var n=0;n<this._sections[e].consumer.sources.length;n++)t.push(this._sections[e].consumer.sources[n]);return t}}),a.prototype.originalPositionFor=function(t){var e={generatedLine:s.getArg(t,"line"),generatedColumn:s.getArg(t,"column")},n=u.search(e,this._sections,function(t,e){var n=t.generatedLine-e.generatedOffset.generatedLine;return n||t.generatedColumn-e.generatedOffset.generatedColumn}),r=this._sections[n];return r?r.consumer.originalPositionFor({line:e.generatedLine-(r.generatedOffset.generatedLine-1),column:e.generatedColumn-(r.generatedOffset.generatedLine===e.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},a.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},a.prototype.sourceContentFor=function(t,e){for(var n=0;n<this._sections.length;n++){var r=this._sections[n],i=r.consumer.sourceContentFor(t,!0);if(i)return i}if(e)return null;throw new Error('"'+t+'" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(t){for(var e=0;e<this._sections.length;e++){var n=this._sections[e];if(-1!==n.consumer.sources.indexOf(s.getArg(t,"source"))){var r=n.consumer.generatedPositionFor(t);if(r){return{line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)}}}}return{line:null,column:null}},a.prototype._parseMappings=function(t,e){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var r=this._sections[n],i=r.consumer._generatedMappings,o=0;o<i.length;o++){var a=i[o],u=r.consumer._sources.at(a.source);null!==r.consumer.sourceRoot&&(u=s.join(r.consumer.sourceRoot,u)),this._sources.add(u),u=this._sources.indexOf(u);var c=r.consumer._names.at(a.name);this._names.add(c),c=this._names.indexOf(c);var l={source:u,generatedLine:a.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(r.generatedOffset.generatedLine===a.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:c};this.__generatedMappings.push(l),"number"==typeof l.originalLine&&this.__originalMappings.push(l)}f(this.__generatedMappings,s.compareByGeneratedPositionsDeflated),f(this.__originalMappings,s.compareByOriginalPositions)},e.IndexedSourceMapConsumer=a},function(t,e,n){function r(t,e,n,r,i){this.children=[],this.sourceContents={},this.line=null==t?null:t,this.column=null==e?null:e,this.source=null==n?null:n,this.name=null==i?null:i,this[s]=!0,null!=r&&this.add(r)}var i=n(225).SourceMapGenerator,o=n(66),a=/(\r?\n)/,s="$$$isSourceNode$$$";r.fromStringWithSourceMap=function(t,e,n){function i(t,e){if(null===t||void 0===t.source)s.add(e);else{var i=n?o.join(n,t.source):t.source;s.add(new r(t.originalLine,t.originalColumn,i,e,t.name))}}var s=new r,u=t.split(a),c=function(){return u.shift()+(u.shift()||"")},l=1,f=0,h=null;return e.eachMapping(function(t){if(null!==h){if(!(l<t.generatedLine)){var e=u[0],n=e.substr(0,t.generatedColumn-f);return u[0]=e.substr(t.generatedColumn-f),f=t.generatedColumn,i(h,n),void(h=t)}i(h,c()),l++,f=0}for(;l<t.generatedLine;)s.add(c()),l++;if(f<t.generatedColumn){var e=u[0];s.add(e.substr(0,t.generatedColumn)),u[0]=e.substr(t.generatedColumn),f=t.generatedColumn}h=t},this),u.length>0&&(h&&i(h,c()),s.add(u.join(""))),e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=o.join(n,t)),s.setSourceContent(t,r))}),s},r.prototype.add=function(t){if(Array.isArray(t))t.forEach(function(t){this.add(t)},this);else{if(!t[s]&&"string"!=typeof t)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);t&&this.children.push(t)}return this},r.prototype.prepend=function(t){if(Array.isArray(t))for(var e=t.length-1;e>=0;e--)this.prepend(t[e]);else{if(!t[s]&&"string"!=typeof t)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);this.children.unshift(t)}return this},r.prototype.walk=function(t){for(var e,n=0,r=this.children.length;n<r;n++)e=this.children[n],e[s]?e.walk(t):""!==e&&t(e,{source:this.source,line:this.line,column:this.column,name:this.name})},r.prototype.join=function(t){var e,n,r=this.children.length;if(r>0){for(e=[],n=0;n<r-1;n++)e.push(this.children[n]),e.push(t);e.push(this.children[n]),this.children=e}return this},r.prototype.replaceRight=function(t,e){var n=this.children[this.children.length-1];return n[s]?n.replaceRight(t,e):"string"==typeof n?this.children[this.children.length-1]=n.replace(t,e):this.children.push("".replace(t,e)),this},r.prototype.setSourceContent=function(t,e){this.sourceContents[o.toSetString(t)]=e},r.prototype.walkSourceContents=function(t){for(var e=0,n=this.children.length;e<n;e++)this.children[e][s]&&this.children[e].walkSourceContents(t);for(var r=Object.keys(this.sourceContents),e=0,n=r.length;e<n;e++)t(o.fromSetString(r[e]),this.sourceContents[r[e]])},r.prototype.toString=function(){var t="";return this.walk(function(e){t+=e}),t},r.prototype.toStringWithSourceMap=function(t){var e={code:"",line:1,column:0},n=new i(t),r=!1,o=null,a=null,s=null,u=null;return this.walk(function(t,i){e.code+=t,null!==i.source&&null!==i.line&&null!==i.column?(o===i.source&&a===i.line&&s===i.column&&u===i.name||n.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:e.line,column:e.column},name:i.name}),o=i.source,a=i.line,s=i.column,u=i.name,r=!0):r&&(n.addMapping({generated:{line:e.line,column:e.column}}),o=null,r=!1);for(var c=0,l=t.length;c<l;c++)10===t.charCodeAt(c)?(e.line++,e.column=0,c+1===l?(o=null,r=!1):r&&n.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:e.line,column:e.column},name:i.name})):e.column++}),this.walkSourceContents(function(t,e){n.setSourceContent(t,e)}),{code:e.code,map:n}},e.SourceNode=r},function(t,e,n){e.SourceMapGenerator=n(225).SourceMapGenerator,e.SourceMapConsumer=n(564).SourceMapConsumer,e.SourceNode=n(565).SourceNode},function(t,e,n){function r(){i.call(this)}t.exports=r;var i=n(35).EventEmitter;n(13)(r,i),r.Readable=n(149),r.Writable=n(574),r.Duplex=n(569),r.Transform=n(573),r.PassThrough=n(572),r.Stream=r,r.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function o(){l||(l=!0,t.end())}function a(){l||(l=!0,"function"==typeof t.destroy&&t.destroy())}function s(t){if(u(),0===i.listenerCount(this,"error"))throw t}function u(){c.removeListener("data",n),t.removeListener("drain",r),c.removeListener("end",o),c.removeListener("close",a),c.removeListener("error",s),t.removeListener("error",s),c.removeListener("end",u),c.removeListener("close",u),t.removeListener("close",u)}var c=this;c.on("data",n),t.on("drain",r),t._isStdio||e&&!1===e.end||(c.on("end",o),c.on("close",a));var l=!1;return c.on("error",s),t.on("error",s),c.on("end",u),c.on("close",u),t.on("close",u),t.emit("pipe",c),t}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){t.exports=n(38)},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}t.exports=r;var i=n(228),o=n(59);o.inherits=n(13),o.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){t.copy(e,n)}var o=n(147).Buffer;t.exports=function(){function t(){r(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var e=o.allocUnsafe(t>>>0),n=this.head,r=0;n;)i(n.data,e,r),r+=n.data.length,n=n.next;return e},t}()},function(t,e,n){t.exports=n(149).PassThrough},function(t,e,n){t.exports=n(149).Transform},function(t,e,n){t.exports=n(148)},function(t,e){function n(t){this.value=t}function r(t,e,n){var r=[],o=[],a=!0;return function t(s){function u(){if("object"==typeof h.node&&null!==h.node){h.keys&&h.node_===h.node||(h.keys=p(h.node)),h.isLeaf=0==h.keys.length;for(var t=0;t<o.length;t++)if(o[t].node_===s){h.circular=o[t];break}}else h.isLeaf=!0,h.keys=null;h.notLeaf=!h.isLeaf,h.notRoot=!h.isRoot}var c=n?i(s):s,l={},f=!0,h={node:c,node_:s,path:[].concat(r),parent:o[o.length-1],parents:o,key:r.slice(-1)[0],isRoot:0===r.length,level:r.length,circular:null,update:function(t,e){h.isRoot||(h.parent.node[h.key]=t),h.node=t,e&&(f=!1)},delete:function(t){delete h.parent.node[h.key],t&&(f=!1)},remove:function(t){d(h.parent.node)?h.parent.node.splice(h.key,1):delete h.parent.node[h.key],t&&(f=!1)},keys:null,before:function(t){l.before=t},after:function(t){l.after=t},pre:function(t){l.pre=t},post:function(t){l.post=t},stop:function(){a=!1},block:function(){f=!1}};if(!a)return h;u();var y=e.call(h,h.node);return void 0!==y&&h.update&&h.update(y),l.before&&l.before.call(h,h.node),f?("object"!=typeof h.node||null===h.node||h.circular||(o.push(h),u(),v(h.keys,function(e,i){r.push(e),l.pre&&l.pre.call(h,h.node[e],e);var o=t(h.node[e]);n&&m.call(h.node,e)&&(h.node[e]=o.node),o.isLast=i==h.keys.length-1,o.isFirst=0==i,l.post&&l.post.call(h,o),r.pop()}),o.pop()),l.after&&l.after.call(h,h.node),h):h}(t).node}function i(t){if("object"==typeof t&&null!==t){var e;if(d(t))e=[];else if(a(t))e=new Date(t.getTime?t.getTime():t);else if(s(t))e=new RegExp(t);else if(u(t))e={message:t.message};else if(c(t))e=new Boolean(t);else if(l(t))e=new Number(t);else if(f(t))e=new String(t);else if(Object.create&&Object.getPrototypeOf)e=Object.create(Object.getPrototypeOf(t));else if(t.constructor===Object)e={};else{var n=t.constructor&&t.constructor.prototype||t.__proto__||{},r=function(){};r.prototype=n,e=new r}return v(p(t),function(n){e[n]=t[n]}),e}return t}function o(t){return Object.prototype.toString.call(t)}function a(t){return"[object Date]"===o(t)}function s(t){return"[object RegExp]"===o(t)}function u(t){return"[object Error]"===o(t)}function c(t){return"[object Boolean]"===o(t)}function l(t){return"[object Number]"===o(t)}function f(t){return"[object String]"===o(t)}var h=t.exports=function(t){return new n(t)};n.prototype.get=function(t){for(var e=this.value,n=0;n<t.length;n++){var r=t[n];if(!e||!m.call(e,r)){e=void 0;break}e=e[r]}return e},n.prototype.has=function(t){for(var e=this.value,n=0;n<t.length;n++){var r=t[n];if(!e||!m.call(e,r))return!1;e=e[r]}return!0},n.prototype.set=function(t,e){for(var n=this.value,r=0;r<t.length-1;r++){var i=t[r];m.call(n,i)||(n[i]={}),n=n[i]}return n[t[r]]=e,e},n.prototype.map=function(t){return r(this.value,t,!0)},n.prototype.forEach=function(t){return this.value=r(this.value,t,!1),this.value},n.prototype.reduce=function(t,e){var n=1===arguments.length,r=n?this.value:e;return this.forEach(function(e){this.isRoot&&n||(r=t.call(this,r,e))}),r},n.prototype.paths=function(){var t=[];return this.forEach(function(e){t.push(this.path)}),t},n.prototype.nodes=function(){var t=[];return this.forEach(function(e){t.push(this.node)}),t},n.prototype.clone=function(){var t=[],e=[];return function n(r){for(var o=0;o<t.length;o++)if(t[o]===r)return e[o];if("object"==typeof r&&null!==r){var a=i(r);return t.push(r),e.push(a),v(p(r),function(t){a[t]=n(r[t])}),t.pop(),e.pop(),a}return r}(this.value)};var p=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},d=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},v=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)};v(p(n.prototype),function(t){h[t]=function(e){var r=[].slice.call(arguments,1),i=new n(e);return i[t].apply(i,r)}});var m=Object.hasOwnProperty||function(t,e){return e in t}},function(t,e){t.exports=function(){var t={};return t.add=function(t){var e={};return"object"==typeof window&&window.addEventListener&&"function"==typeof window.addEventListener&&(window.addEventListener("beforeunload",t,!1),e.beforeunload=t),e},t.remove=function(t,e){Object.keys(e).forEach(function(t){var n=e[t];switch(t){case"beforeunload":window.removeEventListener("beforeunload",n,!1)}})},t}()},function(t,e,n){t.exports=function(t){var e={},n=!1,r=!1,i=0,o={};return e.debug=function(){r=!0},e.add=function(e){i++;var a=function(t,r,i){if(!n)return n=!0,e(t,r,i)},s={};Object.keys(t).forEach(function(e){s[e]=t[e].add(a)});var u=function(){Object.keys(s).forEach(function(e){t[e].remove(a,s[e])}),r&&console.log("unload.stopListening()"),r&&console.dir(o[i])};return u.run=function(){a()},o[i]={fn:e,remove:u,listeners:s},r&&console.log("unload.add()"),r&&console.dir(o[i]),u},e.runAll=function(){n||(n=!0,Object.keys(o).forEach(function(t){o[t].fn()}))},e.removeAll=function(){Object.keys(o).forEach(function(t){o[t].remove()})},e}({node:n(578),browser:n(576)})},function(t,e,n){(function(e){t.exports=function(){var t={};return t.add=function(t){var n={};return"object"==typeof e&&e.on&&"function"==typeof e.on&&(n.beforeExit=function(n){var r=t(n);Promise.resolve(r).then(function(){e.exit()})},e.on("beforeExit",n.beforeExit),n.exit=function(e){var n=t(e);Promise.resolve(n)},e.on("exit",n.exit),n.SIGINT=function(n){var r=t(n);Promise.resolve(r).then(function(){e.exit()})},e.on("SIGINT",n.SIGINT),n.uncaughtException=function(n){var r=t(n);Promise.resolve(r).then(function(){e.exit()})},e.on("uncaughtException",n.uncaughtException)),n},t.remove=function(t,n){Object.keys(n).forEach(function(t){var r=n[t];switch(t){case"beforeExit":case"SIGINT":case"uncaughtException":case"exit":e.removeListener(t,r)}})},t}()}).call(e,n(3))},function(t,e,n){(function(e){function n(t,e){function n(){if(!i){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}if(r("noDeprecation"))return t;var i=!1;return n}function r(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=n}).call(e,n(8))},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,n){"use strict";function r(t,e,n){var r=n[n.length-1];t===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(t);else if(o===e.length-2){var a=e.pop();i[a]=t}else e.push(t)}e.stringify=function(t){var e=[];e.push({obj:t});for(var n,r,i,o,a,s,u,c,l,f,h,p="";n=e.pop();)if(r=n.obj,i=n.prefix||"",o=n.val||"",p+=i,o)p+=o;else if("object"!=typeof r)p+=void 0===r?null:JSON.stringify(r);else if(null===r)p+="null";else if(Array.isArray(r)){for(e.push({val:"]"}),a=r.length-1;a>=0;a--)s=0===a?"":",",e.push({obj:r[a],prefix:s});e.push({val:"["})}else{u=[];for(c in r)r.hasOwnProperty(c)&&u.push(c);for(e.push({val:"}"}),a=u.length-1;a>=0;a--)l=u[a],f=r[l],h=a>0?",":"",h+=JSON.stringify(l)+":",e.push({obj:f,prefix:h});e.push({val:"{"})}return p},e.parse=function(t){for(var e,n,i,o,a,s,u,c,l,f=[],h=[],p=0;;)if("}"!==(e=t[p++])&&"]"!==e&&void 0!==e)switch(e){case" ":case"\t":case"\n":case":":case",":break;case"n":p+=3,r(null,f,h);break;case"t":p+=3,r(!0,f,h);break;case"f":p+=4,r(!1,f,h);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",p--;;){if(i=t[p++],!/[\d\.\-e\+]/.test(i)){p--;break}n+=i}r(parseFloat(n),f,h);break;case'"':for(o="",a=void 0,s=0;;){if('"'===(u=t[p++])&&("\\"!==a||s%2!=1))break;o+=u,a=u,"\\"===a?s++:s=0}r(JSON.parse('"'+o+'"'),f,h);break;case"[":c={element:[],index:f.length},f.push(c.element),h.push(c);break;case"{":l={element:{},index:f.length},f.push(l.element),h.push(l);break;default:throw new Error("unexpectedly reached end of input: "+e)}else{if(1===f.length)return f.pop();r(f.pop(),f,h)}}},function(t,e,n){"use strict";(function(e){function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function i(t){return{badWords:t.scrubFields}}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=Object.keys(n.serializers||{});return _(t,function(t,n){return r.includes(n)?t:w(t,i(e))})}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];return Array.isArray(e.scrubFields)&&e.scrubFields.length?g(t[0])?[o(t[0],e,n)].concat(O(w(b(t),i(e)))):w(t,i(e)):t}function s(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return this._logger[t].apply(this._logger,a(n,this._config,this._logger))}}function u(t,e){var n=Object.assign({},T,t);return Object.assign(n,{streams:e(n)})}function c(t){return $(t,A.concat(t.rootFields))}function l(){}function f(t){var e=t.name,n=t.token;try{E.to(e)}catch(t){E.init({name:e,token:n,no_format:!0,page_info:"per-page"})}}function h(t){var n=t.token,r=t.environment,i=t.codeVersion;e.Rollbar.configure({accessToken:n,environment:r,captureUncaught:!0,captureUnhandledRejections:!0,payload:{environment:r,javascript:{code_version:i,source_map_enabled:!0}}})}function p(t){var e=Array.isArray(t.streams)?[].concat(O(t.streams)):[];return t.stdout&&e.push({name:"stdout",level:t.level,stream:new l,type:"raw"}),D()?t.rollbarToken&&e.push({name:"rollbar",level:"warn",stream:new h({token:t.rollbarToken,environment:t.environment,codeVersion:t.codeVersion}),type:"raw"}):y.warn("Client rollbar is not correctly configured"),t.logentriesToken&&e.push({name:"logentries",level:t.level,stream:new f({name:t.name,token:t.logentriesToken}),type:"raw"}),e}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=u(t,p);e=e||m.createLogger(c(n)),this._config=t,this._logger=e}var v=n(268),m=r(v),y=r(n(270)),g=r(n(28)),b=r(n(465)),_=r(n(459)),w=r(n(341)),$=r(n(462)),x=r(n(127)),E=r(n(355)),k=r(n(461)),S=r(n(196)),O=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},A=["name","level","streams","serializers"],j=["environment","release"],C=Object.keys(v.levelFromName),T=Object.freeze({name:"WeWork",environment:null,codeVersion:null,level:"info",stdout:!0,streams:null,serializers:m.stdSerializers,logentriesToken:null,rollbarToken:null,rootFields:j,scrubFields:[]});l.prototype.write=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.component?t.name+"/"+t.component:t.name,n=void 0;n=t.level<m.DEBUG?"color: DeepPink":t.level<m.INFO?"color: GoldenRod":t.level<m.WARN?"color: DarkTurquoise":t.level<m.ERROR?"color: Purple":t.level<m.FATAL?"color: Crimson":"color: Black",y.log("[%s] %c%s%c: %s: %c%s",t.time,n,m.nameFromLevel[t.level],"color: DimGray",e,"color: SteelBlue",t.msg),t.err&&t.err.stack&&y.error(t.err.stack)},f.prototype.write=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=m.nameFromLevel[t.level];x(E[e])?E[e](t):E.log(t)};var P={fatal:"critical",error:"error",warn:"warning",info:"info",debug:"debug",trace:"debug"},M=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.ERROR,e=m.nameFromLevel[t];return P[e]||"error"},D=function(){return!!S(e,"Rollbar")};h.prototype.write=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=M(t.level),r=k(t,["req","level"]);e.Rollbar.scope(r)[n](t.msg,t.err)},d.prototype.child=function(){var t=this._logger.child.apply(this._logger,arguments);return new d(this._config,t)},C.forEach(function(t){d.prototype[t]=s(t)}),t.exports=d}).call(e,n(8))},function(t,e,n){(function(e){(function(){var e=this,n=this.document,r=this.zest,i=function(){return n.compareDocumentPosition?function(t,e){return t.compareDocumentPosition(e)}:function(t,e){for(var n=t.ownerDocument.getElementsByTagName("*"),r=n.length;r--;){if(n[r]===t)return 2;if(n[r]===e)return 4}return 1}}(),o=function(t,e){return 2&i(t,e)?1:-1},a=function(t){for(;(t=t.nextSibling)&&1!==t.nodeType;);return t},s=function(t){for(;(t=t.previousSibling)&&1!==t.nodeType;);return t},u=function(t){if(t=t.firstChild)for(;1!==t.nodeType&&(t=t.nextSibling););return t},c=function(t){if(t=t.lastChild)for(;1!==t.nodeType&&(t=t.previousSibling););return t},l=function(t){if(!t)return t;var e=t[0];return'"'===e||"'"===e?t.slice(1,-1):t},f=function(){return Array.prototype.indexOf?Array.prototype.indexOf:function(t,e){for(var n=this.length;n--;)if(this[n]===e)return n;return-1}}(),h=function(t,e){var n=_.inside.source.replace(/</g,t).replace(/>/g,e);return new RegExp(n)},p=function(t,e,n){return t=t.source,t=t.replace(e,n.source||n),new RegExp(t)},d=function(t,e){return t.replace(/^(?:\w+:\/\/|\/+)/,"").replace(/(?:\/+|\/*#.*?)$/,"").split("/",e).join("/")},v=function(t,e){var n,t=t.replace(/\s+/g,"");return"even"===t?t="2n+0":"odd"===t?t="2n+1":~t.indexOf("n")||(t="0n"+t),n=/^([+-])?(\d+)?n([+-])?(\d+)?$/.exec(t),{group:"-"===n[1]?-(n[2]||1):+(n[2]||1),offset:n[4]?"-"===n[3]?-n[4]:+n[4]:0}},m=function(t,e,n){var t=v(t),r=t.group,i=t.offset,o=n?c:u,l=n?s:a;return function(t){if(1===t.parentNode.nodeType)for(var n=o(t.parentNode),a=0;n;){if(e(n,t)&&a++,n===t)return a-=i,r&&a?!(a%r)&&a<0==r<0:!a;n=l(n)}}},y={"*":function(){return function(){var t=n.createElement("div");return t.appendChild(n.createComment("")),!!t.getElementsByTagName("*")[0]}()?function(t){if(1===t.nodeType)return!0}:function(){return!0}}(),type:function(t){return t=t.toLowerCase(),function(e){return e.nodeName.toLowerCase()===t}},attr:function(t,e,n,r){return e=g[e],function(i){var o;switch(t){case"for":o=i.htmlFor;break;case"class":o=i.className,""===o&&null==i.getAttribute("class")&&(o=null);break;case"href":o=i.getAttribute("href",2);break;case"title":o=i.getAttribute("title")||null;break;case"id":if(i.getAttribute){o=i.getAttribute("id");break}default:o=null!=i[t]?i[t]:i.getAttribute&&i.getAttribute(t)}if(null!=o)return o+="",r&&(o=o.toLowerCase(),n=n.toLowerCase()),e(o,n)}},":first-child":function(t){return!s(t)&&1===t.parentNode.nodeType},":last-child":function(t){return!a(t)&&1===t.parentNode.nodeType},":only-child":function(t){return!s(t)&&!a(t)&&1===t.parentNode.nodeType},":nth-child":function(t,e){return m(t,function(){return!0},e)},":nth-last-child":function(t){return y[":nth-child"](t,!0)},":root":function(t){return t.ownerDocument.documentElement===t},":empty":function(t){return!t.firstChild},":not":function(t){var e=S(t);return function(t){return!e(t)}},":first-of-type":function(t){if(1===t.parentNode.nodeType){for(var e=t.nodeName;t=s(t);)if(t.nodeName===e)return;return!0}},":last-of-type":function(t){if(1===t.parentNode.nodeType){for(var e=t.nodeName;t=a(t);)if(t.nodeName===e)return;return!0}},":only-of-type":function(t){return y[":first-of-type"](t)&&y[":last-of-type"](t)},":nth-of-type":function(t,e){return m(t,function(t,e){return t.nodeName===e.nodeName},e)},":nth-last-of-type":function(t){return y[":nth-of-type"](t,!0)},":checked":function(t){return!(!t.checked&&!t.selected)},":indeterminate":function(t){return!y[":checked"](t)},":enabled":function(t){return!t.disabled&&"hidden"!==t.type},":disabled":function(t){return!!t.disabled},":target":function(t){return t.id===e.location.hash.substring(1)},":focus":function(t){return t===t.ownerDocument.activeElement},":matches":function(t){return S(t)},":nth-match":function(t,e){var n=t.split(/\s*,\s*/),r=n.shift(),i=S(n.join(","));return m(r,i,e)},":nth-last-match":function(t){return y[":nth-match"](t,!0)},":links-here":function(t){return t+""==e.location+""},":lang":function(t){return function(e){for(;e;){if(e.lang)return 0===e.lang.indexOf(t);e=e.parentNode}}},":dir":function(t){return function(e){for(;e;){if(e.dir)return e.dir===t;e=e.parentNode}}},":scope":function(t,e){var n=e||t.ownerDocument;return 9===n.nodeType?t===n.documentElement:t===n},":any-link":function(t){return"string"==typeof t.href},":local-link":function(t){if(t.nodeName)return t.href&&t.host===e.location.host;var n=+t+1;return function(t){if(t.href){var r=e.location+"",i=t+"";return d(r,n)===d(i,n)}}},":default":function(t){return!!t.defaultSelected},":valid":function(t){return t.willValidate||t.validity&&t.validity.valid},":invalid":function(t){return!y[":valid"](t)},":in-range":function(t){return t.value>t.min&&t.value<=t.max},":out-of-range":function(t){return!y[":in-range"](t)},":required":function(t){return!!t.required},":optional":function(t){return!t.required},":read-only":function(t){if(t.readOnly)return!0;var e=t.getAttribute("contenteditable"),n=t.contentEditable,r=t.nodeName.toLowerCase();return((r="input"!==r&&"textarea"!==r)||t.disabled)&&null==e&&"true"!==n},":read-write":function(t){return!y[":read-only"](t)},":hover":function(){throw new Error(":hover is not supported.")},":active":function(){throw new Error(":active is not supported.")},":link":function(){throw new Error(":link is not supported.")},":visited":function(){throw new Error(":visited is not supported.")},":column":function(){throw new Error(":column is not supported.")},":nth-column":function(){throw new Error(":nth-column is not supported.")},":nth-last-column":function(){throw new Error(":nth-last-column is not supported.")},":current":function(){throw new Error(":current is not supported.")},":past":function(){throw new Error(":past is not supported.")},":future":function(){throw new Error(":future is not supported.")},":contains":function(t){return function(e){return!!~(e.innerText||e.textContent||e.value||"").indexOf(t)}},":has":function(t){return function(e){return j(t,e).length>0}}},g={"-":function(){return!0},"=":function(t,e){return t===e},"*=":function(t,e){return-1!==t.indexOf(e)},"~=":function(t,e){var n,r,i=t.indexOf(e);if(-1!==i)return n=t[i-1],r=t[i+e.length],!(n&&" "!==n||r&&" "!==r)},"|=":function(t,e){var n,r=t.indexOf(e);if(0===r)return"-"===(n=t[r+e.length])||!n},"^=":function(t,e){return 0===t.indexOf(e)},"$=":function(t,e){return t.indexOf(e)+e.length===t.length},"!=":function(t,e){return t!==e}},b={" ":function(t){return function(e){for(;e=e.parentNode;)if(t(e))return e}},">":function(t){return function(e){return t(e=e.parentNode)&&e}},"+":function(t){return function(e){return t(e=s(e))&&e}},"~":function(t){return function(e){for(;e=s(e);)if(t(e))return e}},noop:function(t){return function(e){return t(e)&&e}},ref:function(t,e){function n(t){for(var e=t.ownerDocument,i=e.getElementsByTagName("*"),o=i.length;o--;)if(r=i[o],n.test(t))return r=null,!0;r=null}var r;return n.combinator=function(n){if(r&&r.getAttribute){var i=r.getAttribute(e)||"";return"#"===i[0]&&(i=i.substring(1)),i===n.id&&t(r)?r:void 0}},n}},_={qname:/^ *([\w\-]+|\*)/,simple:/^(?:([.#][\w\-]+)|pseudo|attr)/,ref:/^ *\/([\w\-]+)\/ */,combinator:/^(?: +([^ \w*]) +|( )+|([^ \w*]))(?! *$)/,attr:/^\[([\w\-]+)(?:([^\w]?=)(inside))?\]/,pseudo:/^(:[\w\-]+)(?:\((inside)\))?/,inside:/(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|<[^"'>]*>|\\["'>]|[^"'>])*/};_.inside=p(_.inside,"[^\"'>]*",_.inside),_.attr=p(_.attr,"inside",h("\\[","\\]")),_.pseudo=p(_.pseudo,"inside",h("\\(","\\)")),_.simple=p(_.simple,"pseudo",_.pseudo),_.simple=p(_.simple,"attr",_.attr);var w=function(t){for(var e,n,r,i,o,a,t=t.replace(/^\s+|\s+$/g,""),s=[],u=[];t;){if(i=_.qname.exec(t))t=t.substring(i[0].length),r=i[1],u.push($(r,!0));else{if(!(i=_.simple.exec(t)))throw new Error("Invalid selector.");t=t.substring(i[0].length),r="*",u.push($(r,!0)),u.push($(i))}for(;i=_.simple.exec(t);)t=t.substring(i[0].length),u.push($(i));if("!"===t[0]&&(t=t.substring(1),n=k(),n.qname=r,u.push(n.simple)),i=_.ref.exec(t))t=t.substring(i[0].length),a=b.ref(x(u),i[1]),s.push(a.combinator),u=[];else{if(i=_.combinator.exec(t)){if(t=t.substring(i[0].length),","===(o=i[1]||i[2]||i[3])){s.push(b.noop(x(u)));break}}else o="noop";s.push(b[o](x(u))),u=[]}}return e=E(s),e.qname=r,e.sel=t,n&&(n.lname=e.qname,n.test=e,n.qname=n.qname,n.sel=e.sel,e=n),a&&(a.test=e,a.qname=e.qname,a.sel=e.sel,e=a),e},$=function(t,e){if(e)return"*"===t?y["*"]:y.type(t);if(t[1])return"."===t[1][0]?y.attr("class","~=",t[1].substring(1)):y.attr("id","=",t[1].substring(1));if(t[2])return t[3]?y[t[2]](l(t[3])):y[t[2]];if(t[4]){var n;return t[6]&&(n=t[6].length,t[6]=t[6].replace(/ +i$/,""),n=n>t[6].length),y.attr(t[4],t[5]||"-",l(t[6]),n)}throw new Error("Unknown Selector.")},x=function(t){var e,n=t.length;return n<2?t[0]:function(r){if(r){for(e=0;e<n;e++)if(!t[e](r))return;return!0}}},E=function(t){return t.length<2?function(e){return!!t[0](e)}:function(e){for(var n=t.length;n--;)if(!(e=t[n](e)))return;return!0}},k=function(){function t(n){for(var r=n.ownerDocument,i=r.getElementsByTagName(t.lname),o=i.length;o--;)if(t.test(i[o])&&e===n)return e=null,!0;e=null}var e;return t.simple=function(t){return e=t,!0},t},S=function(t){for(var e=w(t),n=[e];e.sel;)e=w(e.sel),n.push(e);return n.length<2?e:function(t){for(var e=n.length,r=0;r<e;r++)if(n[r](t))return!0}},O=function(t,e){for(var n,r=[],i=w(t),a=e.getElementsByTagName(i.qname),s=0;n=a[s++];)i(n)&&r.push(n);if(i.sel){for(;i.sel;)for(i=w(i.sel),a=e.getElementsByTagName(i.qname),s=0;n=a[s++];)i(n)&&!~f.call(r,n)&&r.push(n);r.sort(o)}return r},A=function(){var t=function(){try{return Array.prototype.slice.call(n.getElementsByTagName("zest")),Array.prototype.slice}catch(t){return t=null,function(){for(var t=[],e=0,n=this.length;e<n;e++)t.push(this[e]);return t}}}();return n.querySelectorAll?function(e,n){try{return t.call(n.querySelectorAll(e))}catch(t){return O(e,n)}}:function(e,n){try{if("#"===e[0]&&/^#[\w\-]+$/.test(e))return[n.getElementById(e.substring(1))];if("."===e[0]&&/^\.[\w\-]+$/.test(e))return e=n.getElementsByClassName(e.substring(1)),t.call(e);if(/^[\w\-]+$/.test(e))return t.call(n.getElementsByTagName(e))}catch(t){}return O(e,n)}}(),j=function(t,r){try{t=A(t,r||n)}catch(n){e.ZEST_DEBUG&&console.log(n.stack||n+""),t=[]}return t};j.selectors=y,j.operators=g,j.combinators=b,j.compile=S,j.matches=function(t,e){return!!S(e)(t)},j.cache=function(){if(!w.raw){var t=w,e={};w=function(n){return e[n]||(e[n]=t(n))},w.raw=t,j._cache=e}},j.noCache=function(){w.raw&&(w=w.raw,delete j._cache)},j.noConflict=function(){return e.zest=r,j},j.noNative=function(){A=O},t.exports=j,e.ZEST_DEBUG?j.noNative():j.cache()}).call(function(){return this||("undefined"!=typeof window?window:e)}())}).call(e,n(8))},function(t,e){},function(t,e,n){t.exports=n(234)}]);